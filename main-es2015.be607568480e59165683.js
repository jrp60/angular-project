(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s}));var r=n("FurV"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),a=s[1],c=this.normalizeInstanceIdentifier(s[0]);try{var u=this.getOrInitializeService({instanceIdentifier:c});a.resolve(u)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.g)(Object(r.g)([],Object(r.e)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Object(r.e)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,s=void 0===o?{}:o,a=this.normalizeInstanceIdentifier(void 0===i?"[DEFAULT]":i);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var u=Object(r.h)(this.instancesDeferred.entries()),l=u.next();!l.done;l=u.next()){var h=Object(r.e)(l.value,2),d=h[1];a===this.normalizeInstanceIdentifier(h[0])&&d.resolve(c)}}catch(p){e={error:p}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(c,a),c},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var o=Object(r.h)(this.onInitCallbacks),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(t,e)}catch(c){}}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3RSX":function(t,e,n){"use strict";var r=n("Qfp6");t.exports=function(t){return!(!t||"string"!=typeof t||t.length<6||new RegExp("[^"+r.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(t))}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return u}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const u=s},"5R+2":function(t,e){t.exports=function(t,e,n){for(var r=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*r*n/e.length),o="";;)for(var s=t(i),a=i;a--;)if((o+=e[s[a]&r]||"").length===+n)return o}},"6MUB":function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,i){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(i){var o=encodeURIComponent(r(i))+n;return Array.isArray(t[i])?t[i].map((function(t){return o+encodeURIComponent(r(t))})).join(e):o+encodeURIComponent(r(t[i]))})).join(e):i?encodeURIComponent(r(i))+n+encodeURIComponent(r(t)):""}},"6Uf2":function(t,e,n){"use strict";(function(t){var e=n("zIRd"),r=n("/6Yf"),i=n("qOnz"),o=n("FurV"),s=n("q/0M"),a="";function c(t){a=t}var u,l=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(i.D)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(i.x)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(i.i)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new l(e)}}catch(n){}return new h},p=d("localStorage"),f=d("sessionStorage"),g=new s.b("@firebase/database"),b=(u=1,function(){return u++}),m=function(t){var e=Object(i.C)(t),n=new i.d;n.update(e);var r=n.digest();return i.g.encodeByteArray(r)},y=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var o=t[r];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?n+=y.apply(null,o):n+="object"==typeof o?Object(i.D)(o):o,n+=" "}return n},v=null,_=!0,w=function(t,e){Object(i.e)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(g.logLevel=s.a.VERBOSE,v=g.log.bind(g),e&&f.set("logging_enabled",!0)):"function"==typeof t?v=t:(v=null,f.remove("logging_enabled"))},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===_&&(_=!1,null===v&&!0===f.get("logging_enabled")&&w(!0)),v){var n=y.apply(null,t);v(n)}},C=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];O.apply(void 0,Object(o.g)([t],Object(o.e)(e)))}},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,Object(o.g)([],Object(o.e)(t)));g.error(n)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,Object(o.g)([],Object(o.e)(t)));throw g.error(n),new Error(n)},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+y.apply(void 0,Object(o.g)([],Object(o.e)(t)));g.warn(n)},x=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},T="[MIN_NAME]",I="[MAX_NAME]",N=function(t,e){if(t===e)return 0;if(t===T||e===I)return-1;if(e===T||t===I)return 1;var n=F(t),r=F(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},j=function(t,e){return t===e?0:t<e?-1:1},A=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(i.D)(e))},P=function(t){if("object"!=typeof t||null===t)return Object(i.D)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",o=0;o<e.length;o++)0!==o&&(r+=","),r+=Object(i.D)(e[o]),r+=":",r+=P(t[e[o]]);return r+"}"},R=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function D(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var L=function(t){var e,n,r,o,s;Object(i.e)(!x(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var c=a.join(""),u="";for(s=0;s<64;s+=8){var l=parseInt(c.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),u+=l}return u.toLowerCase()},M=new RegExp("^-?(0*)\\d{1,10}$"),F=function(t){if(M.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},U=function(t){try{t()}catch(e){setTimeout((function(){throw E("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},V=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},z=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then((function(t){return n.appCheck=t}))}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise((function(n,r){setTimeout((function(){e.appCheck?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then((function(e){return e.addTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){E('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),q=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(t){return r.auth_=t}))}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(O("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):new Promise((function(n,r){setTimeout((function(){e.auth_?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';E(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),W=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),H=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,B=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function G(t,e,n){var r;if(Object(i.e)("string"==typeof e,"typeof type must == string"),Object(i.e)("object"==typeof n,"typeof params must == object"),"websocket"===e)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if("long_polling"!==e)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var o=[];return D(n,(function(t,e){o.push(t+"="+e)})),r+o.join("&")}var K=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(i.i)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(i.l)(this.counters_)},t}(),$={},J={};function Z(t){var e=t.toString();return $[e]||($[e]=new K),$[e]}var Y=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&U((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),X=function(){function t(t,e,n,r,i,o,s){var a=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(t),this.stats_=Z(e),this.urlFn=function(t){return a.appCheckToken&&(t.ac=a.appCheckToken),G(e,"long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Y(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(Object(i.u)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Q((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.e)(t,5),i=r[0],s=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=s,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.e)(t,2),i=r[0],s=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(i.u)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(i.D)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(i.h)(e),r=R(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(i.u)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(i.D)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Q=function(){function t(e,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(i.u)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=b(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){O("frame writing exception"),c.stack&&O(c.stack),O(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||O("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;Object(i.u)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){O("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),tt=null;"undefined"!=typeof MozWebSocket?tt=MozWebSocket:"undefined"!=typeof WebSocket&&(tt=WebSocket);var et=function(){function t(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=Z(n),this.connURL=t.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var o={v:"5"};return!Object(i.u)()&&"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(o.r="f"),e&&(o.s=e),n&&(o.ls=n),r&&(o.ac=r),G(t,"websocket",o)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if(Object(i.u)()){var r={headers:{"User-Agent":"Firebase/5/"+a+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.nodeAdmin?r.headers.Authorization=this.authToken||"":r.headers["X-Firebase-AppCheck"]=this.appCheckToken||"";var o=process.env,s=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new tt(this.connURL,[],r)}else this.mySock=new tt(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(u){this.log_("Error instantiating WebSocket.");var c=u.message||u.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==tt&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(i.x)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(i.e)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(i.D)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=R(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),nt=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[X,et]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=et&&et.isAvailable(),s=i&&!et.previouslyFailed();if(e.webSocketOnly&&(i||E("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[et];else{var a=this.transports_=[];try{for(var c=Object(o.h)(t.ALL_TRANSPORTS),u=c.next();!u.done;u=c.next()){var l=u.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),rt=function(){function t(t,e,n,r,i,o,s,a,c,u){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new nt(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=V((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=A("t",t),n=A("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=A("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?S("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):S("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&E("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),V((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):V((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),it=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ot=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(i.e)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(o.g)([],Object(o.e)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(i.e)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),st=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(i.s)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(o.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(i.e)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(ot),at=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function ct(){return new at("")}function ut(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function lt(t){return t.pieces_.length-t.pieceNum_}function ht(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new at(t.pieces_,e)}function dt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function pt(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function ft(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new at(e,0)}function gt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof at)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new at(n,0)}function bt(t){return t.pieceNum_>=t.pieces_.length}function mt(t,e){var n=ut(t),r=ut(e);if(null===n)return e;if(n===r)return mt(ht(t),ht(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function yt(t,e){for(var n=pt(t,0),r=pt(e,0),i=0;i<n.length&&i<r.length;i++){var o=N(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function vt(t,e){if(lt(t)!==lt(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function _t(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(lt(t)>lt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var wt=function(){return function(t,e){this.errorPrefix_=e,this.parts_=pt(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(i.B)(this.parts_[n]);Ot(this)}}();function Ot(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ct(t))}function Ct(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var St,kt,Et=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return Object(o.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(i.e)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(ot),xt=function(t){function e(n,r,o,s,a,c,u,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=o,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=c,h.appCheckTokenProvider_=u,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=C("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=1e3,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!Object(i.u)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Et.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&st.getInstance().on("online",h.onOnline_,h),h}return Object(o.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,o={r,a:t,b:e};this.log_(Object(i.D)(o)),Object(i.e)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new i.a,r={p:t._path.toString(),q:t._queryObject},o={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[s];void 0!==t&&o===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var o=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),Object(i.e)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(i.e)(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,c=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==c&&n.removeListen_(i,o),t.onComplete&&t.onComplete(c,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(i.i)(t,"w")){var n=Object(i.A)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',o=e._path.toString();E("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(i.p)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(i.w)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)}))},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(i.e)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(i.D)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):S("Unrecognized action received from server: "+Object(i.D)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(i.e)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return Object(o.b)(this,void 0,void 0,(function(){var t,n,r,s,a,c,u,l,h,d,p,f,g,b=this;return Object(o.d)(this,(function(m){switch(m.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,c=!1,u=null,this.realtime_={close:l=function(){u?u.close():(c=!0,r())},sendRequest:function(t){Object(i.e)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=o.e.apply(void 0,[m.sent(),2]),p=d[0],f=d[1],c?O("getToken() completed but was canceled"):(O("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=f&&f.token,u=new rt(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,(function(t){E(t+" ("+b.repoInfo_.toString()+")"),b.interrupt("server_kill")}),a)),[3,4];case 3:return g=m.sent(),this.log_("Failed to get token: "+g),c||(this.repoInfo_.nodeAdmin&&E(g),l()),[3,4];case 4:return[2]}}))}))},e.prototype.interrupt=function(t){O("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){O("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(i.r)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return P(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new at(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){O("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){O("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(o.h)(this.listens.values()),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var c=(n=void 0,Object(o.h)(a.values())),u=c.next();!u.done;u=c.next())this.sendListen_(u.value)}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(i.u)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+a.replace(/\./g,"-")]=1,Object(i.s)()?t["framework.cordova"]=1:Object(i.v)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=st.getInstance().currentlyOnline();return Object(i.r)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(it),Tt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),It=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Tt(T,t),r=new Tt(T,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Tt.MIN},t}(),Nt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return St},set:function(t){St=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return N(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(i.f)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Tt.MIN},e.prototype.maxPost=function(){return new Tt(I,St)},e.prototype.makePost=function(t,e){return Object(i.e)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Tt(t,St)},e.prototype.toString=function(){return".key"},e}(It),jt=new Nt,At=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Pt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Dt.EMPTY_NODE,this.right=null!=o?o:Dt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Dt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Dt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Rt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Pt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Dt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new At(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new At(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new At(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new At(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Rt,t}();function Lt(t,e){return N(t.name,e.name)}function Mt(t,e){return N(t,e)}var Ft,Ut,Vt,zt,qt,Wt=function(t){return"number"==typeof t?"number:"+L(t):"string:"+t},Ht=function(t){if(t.isLeafNode()){var e=t.val();Object(i.e)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(i.i)(e,".sv"),"Priority must be a string or number.")}else Object(i.e)(t===kt||t.isEmpty(),"priority of unexpected type.");Object(i.e)(t===kt||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Bt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(i.e)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ht(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Ft},set:function(t){Ft=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return bt(e)?this:".priority"===ut(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=ut(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(i.e)(".priority"!==r||1===lt(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ht(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Wt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?L(this.value_):this.value_,this.lazyHash_=m(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(i.e)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return Object(i.e)(o>=0,"Unknown leaf type: "+n),Object(i.e)(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Gt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?N(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Tt.MIN},e.prototype.maxPost=function(){return new Tt(I,new Bt("[PRIORITY-POST]",Vt))},e.prototype.makePost=function(t,e){var n=Ut(t);return new Tt(e,new Bt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(It)),Kt=Math.log(2),$t=function(){function t(t){this.count=parseInt(Math.log(t+1)/Kt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Jt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Pt(s,o.node,Pt.BLACK,null,null);var c=parseInt(a/2,10)+e,u=i(e,c),l=i(c+1,r);return o=t[c],s=n?n(o):o,new Pt(s,o.node,Pt.BLACK,u,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var u=i(o+1,a),l=t[o],h=n?n(l):l;c(new Pt(h,l.node,r,null,u))},c=function(t){r?(r.left=t,r=t):(o=t,r=t)},u=0;u<e.count;++u){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));l?a(h,Pt.BLACK):(a(h,Pt.BLACK),a(h,Pt.RED))}return o}(new $t(t.length));return new Dt(r||e,o)},Zt={},Yt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(i.e)(Zt&&Gt,"ChildrenNode.ts has not been loaded"),zt=zt||new t({".priority":Zt},{".priority":Gt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(i.A)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Dt?e:null},t.prototype.hasIndex=function(t){return Object(i.i)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(i.e)(e!==jt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,s=[],a=!1,c=n.getIterator(Tt.Wrap),u=c.getNext();u;)a=a||e.isDefinedOn(u.node),s.push(u),u=c.getNext();r=a?Jt(s,e.getCompare()):Zt;var l=e.toString(),h=Object(o.a)({},this.indexSet_);h[l]=e;var d=Object(o.a)({},this.indexes_);return d[l]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(i.y)(this.indexes_,(function(t,o){var s=Object(i.A)(r.indexSet_,o);if(Object(i.e)(s,"Missing index implementation for "+o),t===Zt){if(s.isDefinedOn(e.node)){for(var a=[],c=n.getIterator(Tt.Wrap),u=c.getNext();u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),Jt(a,s.getCompare())}return Zt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Tt(e.name,l))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(i.y)(this.indexes_,(function(t){if(t===Zt)return t;var r=n.get(e.name);return r?t.remove(new Tt(e.name,r)):t})),this.indexSet_)},t}(),Xt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ht(this.priorityNode_),this.children_.isEmpty()&&Object(i.e)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return qt||(qt=new t(new Dt(Mt),null,Yt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||qt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?qt:e},t.prototype.getChild=function(t){var e=ut(t);return null===e?this:this.getImmediateChild(e).getChild(ht(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(i.e)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Tt(e,n),o=void 0,s=void 0;n.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=o.isEmpty()?qt:this.priorityNode_;return new t(o,a,s)},t.prototype.updateChild=function(t,e){var n=ut(t);if(null===n)return e;Object(i.e)(".priority"!==ut(t)||1===lt(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(ht(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Gt,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Wt(this.getPriority().val())+":"),this.forEachChild(Gt,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":m(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Tt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Tt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Tt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Tt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Tt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Qt?-1:0},t.prototype.withIndex=function(e){if(e===jt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===jt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Gt),r=e.getIterator(Gt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===jt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Qt=new(function(t){function e(){return t.call(this,new Dt(Mt),Xt.EMPTY_NODE,Yt.Default)||this}return Object(o.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Xt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Xt));function te(t,e){if(void 0===e&&(e=null),null===t)return Xt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(i.e)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Bt(t,te(e));if(t instanceof Array){var n=Xt.EMPTY_NODE;return D(t,(function(e,r){if(Object(i.i)(t,e)&&"."!==e.substring(0,1)){var o=te(r);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(e,o))}})),n.updatePriority(te(e))}var r=[],o=!1;if(D(t,(function(t,e){if("."!==t.substring(0,1)){var n=te(e);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new Tt(t,n)))}})),0===r.length)return Xt.EMPTY_NODE;var s=Jt(r,Lt,(function(t){return t.name}),Mt);if(o){var a=Jt(r,Gt.getCompare());return new Xt(s,te(e),new Yt({".priority":a},{".priority":Gt}))}return new Xt(s,te(e),Yt.Default)}Object.defineProperties(Tt,{MIN:{value:new Tt(T,Xt.EMPTY_NODE)},MAX:{value:new Tt(I,Qt)}}),Nt.__EMPTY_NODE=Xt.EMPTY_NODE,Bt.__childrenNodeConstructor=Xt,kt=Qt,Vt=Qt,Ut=te;var ee,ne,re=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(i.e)(!bt(e)&&".priority"!==ut(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(o.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?N(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=te(t),r=Xt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Tt(e,r)},e.prototype.maxPost=function(){var t=Xt.EMPTY_NODE.updateChild(this.indexPath_,Qt);return new Tt(I,t)},e.prototype.toString=function(){return pt(this.indexPath_,0).join("/")},e}(It),ie=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?N(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Tt.MIN},e.prototype.maxPost=function(){return Tt.MAX},e.prototype.makePost=function(t,e){var n=te(t);return new Tt(e,n)},e.prototype.toString=function(){return".value"},e}(It)),oe="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",se=(ee=0,ne=[],function(t){var e,n=t===ee;ee=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=oe.charAt(t%64),t=Math.floor(t/64);Object(i.e)(0===t,"Cannot push at time == 0");var o=r.join("");if(n){for(e=11;e>=0&&63===ne[e];e--)ne[e]=0;ne[e]++}else for(e=0;e<12;e++)ne[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)o+=oe.charAt(ne[e]);return Object(i.e)(20===o.length,"nextPushId: Length should be 20."),o}),ae=function(t){if("2147483647"===t)return"-";var e=F(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return I;var o=oe.charAt(oe.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},ce=function(t){if("-2147483648"===t)return T;var e=F(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=oe.charAt(oe.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function ue(t){return{type:"value",snapshotNode:t}}function le(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function he(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function de(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var pe=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,o,s){Object(i.e)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(he(e,a)):Object(i.e)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(le(e,n)):s.trackChildChange(de(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Gt,(function(t,r){e.hasChild(t)||n.trackChildChange(he(t,r))})),e.isLeafNode()||e.forEachChild(Gt,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(de(e,r,i))}else n.trackChildChange(le(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Xt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),fe=function(){function t(e){this.indexedFilter_=new pe(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Tt(e,n))||(n=Xt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Xt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Xt.EMPTY_NODE);var i=this;return e.forEachChild(Gt,(function(t,e){i.matches(new Tt(t,e))||(r=r.updateImmediateChild(t,Xt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),ge=function(){function t(t){this.rangedFilter_=new fe(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Tt(e,n))||(n=Xt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Xt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Xt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Xt.EMPTY_NODE);var a=void 0,c=void 0,u=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();u=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&u(a,s)<=0&&(h=!0),h&&o<this.limit_&&u(s,c)<=0?o++:r=r.updateImmediateChild(s.name,Xt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,o){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var c=t;Object(i.e)(c.numChildren()===this.limit_,"");var u=new Tt(e,n),l=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(c.hasChild(e)){for(var d=c.getImmediateChild(e),p=r.getChildAfterChild(this.index_,l,this.reverse_);null!=p&&(p.name===e||c.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var f=null==p?1:s(p,u);if(h&&!n.isEmpty()&&f>=0)return null!=o&&o.trackChildChange(de(e,n,d)),c.updateImmediateChild(e,n);null!=o&&o.trackChildChange(he(e,d));var g=c.updateImmediateChild(e,Xt.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=o&&o.trackChildChange(le(p.name,p.node)),g.updateImmediateChild(p.name,p.node)):g}return n.isEmpty()?t:h&&s(l,u)>=0?(null!=o&&(o.trackChildChange(he(l.name,l.node)),o.trackChildChange(le(e,n))),c.updateImmediateChild(e,n).updateImmediateChild(l.name,Xt.EMPTY_NODE)):t},t}(),be=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Gt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(i.e)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(i.e)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:T},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(i.e)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(i.e)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:I},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(i.e)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Gt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function me(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function ye(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function ve(t,e){var n=t.copy();return n.index_=e,n}function _e(t){var e,n={};return t.isDefault()||(t.index_===Gt?e="$priority":t.index_===ie?e="$value":t.index_===jt?e="$key":(Object(i.e)(t.index_ instanceof re,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(i.D)(e),t.startSet_&&(n.startAt=Object(i.D)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(i.D)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(i.D)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(i.D)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function we(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Gt&&(e.i=t.index_.toString()),e}var Oe=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=C("p:rest:"),o.listens_={},o}return Object(o.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(i.e)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,o){var s=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var c=e.getListenId_(t,r),u={};this.listens_[c]=u;var l=_e(t._queryParams);this.restRequest_(a+".json",l,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),Object(i.A)(s.listens_,c)===u&&o(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=_e(t._queryParams),r=t._path.toString(),o=new i.a;return this.restRequest_(r+".json",n,(function(t,n){var i=n;404===t&&(i=null,t=null),null===t?(e.onDataUpdate_(r,i,!1,null),o.resolve(i)):o.reject(new Error(i))})),o.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(s){var a=Object(o.e)(s,2),c=a[0],u=a[1];c&&c.accessToken&&(e.auth=c.accessToken),u&&u.token&&(e.ac=u.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(i.z)(e);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=Object(i.x)(h.responseText)}catch(e){E("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&E("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()}))},e}(it),Ce=function(){function t(){this.rootNode_=Xt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Se(){return{value:null,children:new Map}}function ke(t,e,n){if(bt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=ut(e);t.children.has(r)||t.children.set(r,Se()),ke(t.children.get(r),e=ht(e),n)}}function Ee(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((function(t,n){e(n,t)}))}(t,(function(t,r){Ee(r,new at(e.toString()+"/"+t),n)}))}var xe=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(o.a)({},t);return this.last_&&D(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Te=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new xe(t);var n=1e4+2e4*Math.random();V(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;D(e,(function(e,o){o>0&&Object(i.i)(t.statsToReport_,e)&&(n[e]=o,r=!0)})),r&&this.server_.reportStats(n),V(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ie=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function Ne(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var je,Ae=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Ie.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(bt(this.path)){if(null!=this.affectedTree.value)return Object(i.e)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new at(e));return new t(ct(),n,this.revert)}return Object(i.e)(ut(this.path)===e,"operationForChild called for unrelated child."),new t(ht(this.path),this.affectedTree,this.revert)},t}(),Pe=function(){function t(t,e){this.source=t,this.path=e,this.type=Ie.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return bt(this.path)?new t(this.source,ct()):new t(this.source,ht(this.path))},t}(),Re=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Ie.OVERWRITE}return t.prototype.operationForChild=function(e){return bt(this.path)?new t(this.source,ct(),this.snap.getImmediateChild(e)):new t(this.source,ht(this.path),this.snap)},t}(),De=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Ie.MERGE}return t.prototype.operationForChild=function(e){if(bt(this.path)){var n=this.children.subtree(new at(e));return n.isEmpty()?null:n.value?new Re(this.source,ct(),n.value):new t(this.source,ct(),n)}return Object(i.e)(ut(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ht(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Le=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(bt(t))return this.isFullyInitialized()&&!this.filtered_;var e=ut(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Me=function(){return function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}();function Fe(t,e,n,r,o,s){var a=r.filter((function(t){return t.type===n}));a.sort((function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(i.f)("Should only compare child_ events.");var r=new Tt(e.childName,e.snapshotNode),o=new Tt(n.childName,n.snapshotNode);return t.index_.compare(r,o)}(t,e,n)})),a.forEach((function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);o.forEach((function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}function Ue(t,e){return{eventCache:t,serverCache:e}}function Ve(t,e,n,r){return Ue(new Le(e,n,r),t.serverCache)}function ze(t,e,n,r){return Ue(t.eventCache,new Le(e,n,r))}function qe(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function We(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var He=function(){function t(t,e){void 0===e&&(je||(je=new Dt(j)),e=je),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return D(e,(function(t,e){n=n.set(new at(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:ct(),value:this.value};if(bt(t))return null;var n=ut(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(ht(t),e);return null!=i?{path:gt(new at(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(bt(e))return this;var n=ut(e),r=this.children.get(n);return null!==r?r.subtree(ht(e)):new t(null)},t.prototype.set=function(e,n){if(bt(e))return new t(n,this.children);var r=ut(e),i=(this.children.get(r)||new t(null)).set(ht(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(bt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=ut(e),r=this.children.get(n);if(r){var i=r.remove(ht(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(bt(t))return this.value;var e=ut(t),n=this.children.get(e);return n?n.get(ht(t)):null},t.prototype.setTree=function(e,n){if(bt(e))return n;var r,i=ut(e),o=(this.children.get(i)||new t(null)).setTree(ht(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(ct(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(gt(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,ct(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(bt(t))return null;var i=ut(t),o=this.children.get(i);return o?o.findOnPath_(ht(t),gt(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,ct(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(bt(e))return this;this.value&&r(n,this.value);var i=ut(e),o=this.children.get(i);return o?o.foreachOnPath_(ht(e),gt(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(ct(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(gt(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),Be=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new He(null))},t}();function Ge(t,e,n){if(bt(e))return new Be(new He(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=mt(i,e);return o=o.updateChild(s,n),new Be(t.writeTree_.set(i,o))}var a=new He(n),c=t.writeTree_.setTree(e,a);return new Be(c)}function Ke(t,e,n){var r=t;return D(n,(function(t,n){r=Ge(r,gt(e,t),n)})),r}function $e(t,e){if(bt(e))return Be.empty();var n=t.writeTree_.setTree(e,new He(null));return new Be(n)}function Je(t,e){return null!=Ze(t,e)}function Ze(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(mt(n.path,e)):null}function Ye(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Gt,(function(t,n){e.push(new Tt(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new Tt(t,n.value))})),e}function Xe(t,e){if(bt(e))return t;var n=Ze(t,e);return new Be(null!=n?new He(n):t.writeTree_.subtree(e))}function Qe(t){return t.writeTree_.isEmpty()}function tn(t,e){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var o=null;return n.children.inorderTraversal((function(n,s){".priority"===n?(Object(i.e)(null!==s.value,"Priority writes must always be leaf nodes"),o=s.value):r=t(gt(e,n),s,r)})),r.getChild(e).isEmpty()||null===o||(r=r.updateChild(gt(e,".priority"),o)),r}(ct(),t.writeTree_,e)}function en(t,e){return pn(e,t)}function nn(t,e){if(t.snap)return _t(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&_t(gt(t.path,n),e))return!0;return!1}function rn(t){return t.visible}function on(t,e,n){for(var r=Be.empty(),o=0;o<t.length;++o){var s=t[o];if(e(s)){var a=s.path,c=void 0;if(s.snap)_t(n,a)?r=Ge(r,c=mt(n,a),s.snap):_t(a,n)&&(c=mt(a,n),r=Ge(r,ct(),s.snap.getChild(c)));else{if(!s.children)throw Object(i.f)("WriteRecord should have .snap or .children");if(_t(n,a))r=Ke(r,c=mt(n,a),s.children);else if(_t(a,n))if(bt(c=mt(a,n)))r=Ke(r,ct(),s.children);else{var u=Object(i.A)(s.children,ut(c));if(u){var l=u.getChild(ht(c));r=Ge(r,ct(),l)}}}}}return r}function sn(t,e,n,r,i){if(r||i){var o=Xe(t.visibleWrites,e);return!i&&Qe(o)?n:i||null!=n||Je(o,ct())?tn(on(t.allWrites,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(_t(t.path,e)||_t(e,t.path))}),e),n||Xt.EMPTY_NODE):null}var s=Ze(t.visibleWrites,e);if(null!=s)return s;var a=Xe(t.visibleWrites,e);return Qe(a)?n:null!=n||Je(a,ct())?tn(a,n||Xt.EMPTY_NODE):null}function an(t,e,n,r){return sn(t.writeTree,t.treePath,e,n,r)}function cn(t,e){return function(t,e,n){var r=Xt.EMPTY_NODE,i=Ze(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Gt,(function(t,e){r=r.updateImmediateChild(t,e)})),r;if(n){var o=Xe(t.visibleWrites,e);return n.forEachChild(Gt,(function(t,e){var n=tn(Xe(o,new at(t)),e);r=r.updateImmediateChild(t,n)})),Ye(o).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}return Ye(Xe(t.visibleWrites,e)).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}(t.writeTree,t.treePath,e)}function un(t,e,n,r){return function(t,e,n,r,o){Object(i.e)(r||o,"Either existingEventSnap or existingServerSnap must exist");var s=gt(e,n);if(Je(t.visibleWrites,s))return null;var a=Xe(t.visibleWrites,s);return Qe(a)?o.getChild(n):tn(a,o.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function ln(t,e){return function(t,e){return Ze(t.visibleWrites,e)}(t.writeTree,gt(t.treePath,e))}function hn(t,e,n){return function(t,e,n,r){var i=gt(e,n),o=Ze(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?tn(Xe(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function dn(t,e){return pn(gt(t.treePath,e),t.writeTree)}function pn(t,e){return{treePath:t,writeTree:e}}var fn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(i.e)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(i.e)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(n,de(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(n,he(n,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(n,le(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw Object(i.f)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,de(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),gn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),bn=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Le(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:We(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,s){var a,c=Xe(t.visibleWrites,e),u=Ze(c,ct());if(null!=u)a=u;else{if(null==n)return[];a=tn(c,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var l=[],h=s.getCompare(),d=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),p=d.getNext();p&&l.length<1;)0!==h(p,r)&&l.push(p),p=d.getNext();return l}(t.writeTree,t.treePath,e,n,0,i,o)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function mn(t,e,n,r,o,s){var a=e.eventCache;if(null!=ln(r,n))return e;var c=void 0,u=void 0;if(bt(n))if(Object(i.e)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=We(e),h=cn(r,l instanceof Xt?l:Xt.EMPTY_NODE);c=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{var d=an(r,We(e));c=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{var p=ut(n);if(".priority"===p){Object(i.e)(1===lt(n),"Can't have a priority with additional path components");var f=a.getNode(),g=un(r,n,f,u=e.serverCache.getNode());c=null!=g?t.filter.updatePriority(f,g):a.getNode()}else{var b=ht(n),m=void 0;if(a.isCompleteForChild(p)){u=e.serverCache.getNode();var y=un(r,n,a.getNode(),u);m=null!=y?a.getNode().getImmediateChild(p).updateChild(b,y):a.getNode().getImmediateChild(p)}else m=hn(r,p,e.serverCache);c=null!=m?t.filter.updateChild(a.getNode(),p,m,b,o,s):a.getNode()}}return Ve(e,c,a.isFullyInitialized()||bt(n),t.filter.filtersNodes())}function yn(t,e,n,r,i,o,s,a){var c,u=e.serverCache,l=s?t.filter:t.filter.getIndexedFilter();if(bt(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered()){var h=u.getNode().updateChild(n,r);c=l.updateFullNode(u.getNode(),h,null)}else{var d=ut(n);if(!u.isCompleteForPath(n)&&lt(n)>1)return e;var p=ht(n),f=u.getNode().getImmediateChild(d).updateChild(p,r);c=".priority"===d?l.updatePriority(u.getNode(),f):l.updateChild(u.getNode(),d,f,p,gn,null)}var g=ze(e,c,u.isFullyInitialized()||bt(n),l.filtersNodes());return mn(t,g,n,i,new bn(i,g,o),a)}function vn(t,e,n,r,i,o,s){var a,c,u=e.eventCache,l=new bn(i,e,o);if(bt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=Ve(e,c,!0,t.filter.filtersNodes());else{var h=ut(n);if(".priority"===h)c=t.filter.updatePriority(e.eventCache.getNode(),r),a=Ve(e,c,u.isFullyInitialized(),u.isFiltered());else{var d=ht(n),p=u.getNode().getImmediateChild(h),f=void 0;if(bt(d))f=r;else{var g=l.getCompleteChild(h);f=null!=g?".priority"===dt(d)&&g.getChild(ft(d)).isEmpty()?g:g.updateChild(d,r):Xt.EMPTY_NODE}a=p.equals(f)?e:Ve(e,t.filter.updateChild(u.getNode(),h,f,d,l,s),u.isFullyInitialized(),t.filter.filtersNodes())}}return a}function _n(t,e){return t.eventCache.isCompleteForChild(e)}function wn(t,e,n){return n.foreach((function(t,n){e=e.updateChild(t,n)})),e}function On(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c,u=e;c=bt(n)?r:new He(null).setTree(n,r);var l=e.serverCache.getNode();return c.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var c=wn(0,e.serverCache.getNode().getImmediateChild(n),r);u=yn(t,u,new at(n),c,i,o,s,a)}})),c.children.inorderTraversal((function(n,r){var c=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!c){var h=wn(0,e.serverCache.getNode().getImmediateChild(n),r);u=yn(t,u,new at(n),h,i,o,s,a)}})),u}var Cn,Sn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new pe(r.getIndex()),o=(n=r).loadsAllData()?new pe(n.getIndex()):n.hasLimit()?new ge(n):new fe(n);this.processor_=function(t){return{filter:t}}(o);var s=e.serverCache,a=e.eventCache,c=i.updateFullNode(Xt.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(Xt.EMPTY_NODE,a.getNode(),null),l=new Le(c,s.isFullyInitialized(),i.filtersNodes()),h=new Le(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ue(h,l),this.eventGenerator_=new Me(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function kn(t,e){var n=We(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!bt(e)&&!n.getImmediateChild(ut(e)).isEmpty())?n.getChild(e):null}function En(t){return 0===t.eventRegistrations_.length}function xn(t,e,n){var r=[];if(n){Object(i.e)(null==e,"A cancel should cancel all event registrations.");var o=t.query._path;t.eventRegistrations_.forEach((function(t){var e=t.createCancelEvent(n,o);e&&r.push(e)}))}if(e){for(var s=[],a=0;a<t.eventRegistrations_.length;++a){var c=t.eventRegistrations_[a];if(c.matches(e)){if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}else s.push(c)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Tn(t,e,n,r){e.type===Ie.MERGE&&null!==e.source.queryId&&(Object(i.e)(We(t.viewCache_),"We should always have a full cache before handling merges"),Object(i.e)(qe(t.viewCache_),"Missing event cache, even though we have a server cache"));var o,s,a=t.viewCache_,c=function(t,e,n,r,o){var s,a,c=new fn;if(n.type===Ie.OVERWRITE){var u=n;u.source.fromUser?s=vn(t,e,u.path,u.snap,r,o,c):(Object(i.e)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!bt(u.path),s=yn(t,e,u.path,u.snap,r,o,a,c))}else if(n.type===Ie.MERGE){var l=n;l.source.fromUser?s=function(t,e,n,r,i,o,s){var a=e;return r.foreach((function(r,c){var u=gt(n,r);_n(e,ut(u))&&(a=vn(t,a,u,c,i,o,s))})),r.foreach((function(r,c){var u=gt(n,r);_n(e,ut(u))||(a=vn(t,a,u,c,i,o,s))})),a}(t,e,l.path,l.children,r,o,c):(Object(i.e)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=On(t,e,l.path,l.children,r,o,a,c))}else if(n.type===Ie.ACK_USER_WRITE){var h=n;s=h.revert?function(t,e,n,r,o,s){var a;if(null!=ln(r,n))return e;var c=new bn(r,e,o),u=e.eventCache.getNode(),l=void 0;if(bt(n)||".priority"===ut(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=an(r,We(e));else{var d=e.serverCache.getNode();Object(i.e)(d instanceof Xt,"serverChildren would be complete if leaf node"),h=cn(r,d)}l=t.filter.updateFullNode(u,h=h,s)}else{var p=ut(n),f=hn(r,p,e.serverCache);null==f&&e.serverCache.isCompleteForChild(p)&&(f=u.getImmediateChild(p)),(l=null!=f?t.filter.updateChild(u,p,f,ht(n),c,s):e.eventCache.getNode().hasChild(p)?t.filter.updateChild(u,p,Xt.EMPTY_NODE,ht(n),c,s):u).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=an(r,We(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,a,s))}return a=e.serverCache.isFullyInitialized()||null!=ln(r,ct()),Ve(e,l,a,t.filter.filtersNodes())}(t,e,h.path,r,o,c):function(t,e,n,r,i,o,s){if(null!=ln(i,n))return e;var a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(bt(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return yn(t,e,n,c.getNode().getChild(n),i,o,a,s);if(bt(n)){var u=new He(null);return c.getNode().forEachChild(jt,(function(t,e){u=u.set(new at(t),e)})),On(t,e,n,u,i,o,a,s)}return e}var l=new He(null);return r.foreach((function(t,e){var r=gt(n,t);c.isCompleteForPath(r)&&(l=l.set(t,c.getNode().getChild(r)))})),On(t,e,n,l,i,o,a,s)}(t,e,h.path,h.affectedTree,r,o,c)}else{if(n.type!==Ie.LISTEN_COMPLETE)throw Object(i.f)("Unknown operation type: "+n.type);s=function(t,e,n,r,i){var o=e.serverCache;return mn(t,ze(e,o.getNode(),o.isFullyInitialized()||bt(n),o.isFiltered()),n,r,gn,i)}(t,e,n.path,r,c)}var d=c.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=qe(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ue(qe(e)))}}(e,s,d),{viewCache:s,changes:d}}(t.processor_,a,e,n,r);return o=t.processor_,s=c.viewCache,Object(i.e)(s.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Object(i.e)(s.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Object(i.e)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,In(t,c.changes,c.viewCache.eventCache.getNode(),null)}function In(t,e,n,r){return function(t,e,n,r){var i=[],o=[];return e.forEach((function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})})),Fe(t,i,"child_removed",e,r,n),Fe(t,i,"child_added",e,r,n),Fe(t,i,"child_moved",o,r,n),Fe(t,i,"child_changed",e,r,n),Fe(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var Nn,jn=function(){return function(){this.views=new Map}}();function An(t,e,n,r){var s,a,c=e.source.queryId;if(null!==c){var u=t.views.get(c);return Object(i.e)(null!=u,"SyncTree gave us an op for an invalid query."),Tn(u,e,n,r)}var l=[];try{for(var h=Object(o.h)(t.views.values()),d=h.next();!d.done;d=h.next())l=l.concat(Tn(u=d.value,e,n,r))}catch(p){s={error:p}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}return l}function Pn(t,e,n,r,i){var o=t.views.get(e._queryIdentifier);if(!o){var s=an(n,i?r:null),a=!1;s?a=!0:r instanceof Xt?(s=cn(n,r),a=!1):(s=Xt.EMPTY_NODE,a=!1);var c=Ue(new Le(s,a,!1),new Le(r,i,!1));return new Sn(e,c)}return o}function Rn(t){var e,n,r=[];try{for(var i=Object(o.h)(t.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Dn(t,e){var n,r,i=null;try{for(var s=Object(o.h)(t.views.values()),a=s.next();!a.done;a=s.next())i=i||kn(a.value,e)}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function Ln(t,e){return e._queryParams.loadsAllData()?Un(t):t.views.get(e._queryIdentifier)}function Mn(t,e){return null!=Ln(t,e)}function Fn(t){return null!=Un(t)}function Un(t){var e,n;try{for(var r=Object(o.h)(t.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var Vn=1,zn=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new He(null),this.pendingWriteTree_={visibleWrites:Be.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function qn(t,e,n,r,o){return function(t,e,n,r,o){Object(i.e)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=Ge(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,o),o?$n(t,new Re({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Wn(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex((function(t){return t.writeId===e}));Object(i.e)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var o=r.visible,s=!1,a=t.allWrites.length-1;o&&a>=0;){var c=t.allWrites[a];c.visible&&(a>=n&&nn(c,r.path)?o=!1:_t(r.path,c.path)&&(s=!0)),a--}return!!o&&(s?(function(t){t.visibleWrites=on(t.allWrites,rn,ct()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=$e(t.visibleWrites,r.path):D(r.children,(function(e){t.visibleWrites=$e(t.visibleWrites,gt(r.path,e))})),!0))}(t.pendingWriteTree_,e)){var o=new He(null);return null!=r.snap?o=o.set(ct(),!0):D(r.children,(function(t){o=o.set(new at(t),!0)})),$n(t,new Ae(r.path,o,n))}return[]}function Hn(t,e,n){return $n(t,new Re({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Bn(t,e,n,r){var s=e._path,a=t.syncPointTree_.get(s),c=[];if(a&&("default"===e._queryIdentifier||Mn(a,e))){var u=function(t,e,n,r){var s,a,c=e._queryIdentifier,u=[],l=[],h=Fn(t);if("default"===c)try{for(var d=Object(o.h)(t.views.entries()),p=d.next();!p.done;p=d.next()){var f,g=Object(o.e)(p.value,2),b=g[0];l=l.concat(xn(f=g[1],n,r)),En(f)&&(t.views.delete(b),f.query._queryParams.loadsAllData()||u.push(f.query))}}catch(m){s={error:m}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(s)throw s.error}}else(f=t.views.get(c))&&(l=l.concat(xn(f,n,r)),En(f)&&(t.views.delete(c),f.query._queryParams.loadsAllData()||u.push(f.query)));return h&&!Fn(t)&&u.push(new(Object(i.e)(Cn,"Reference.ts has not been loaded"),Cn)(e._repo,e._path)),{removed:u,events:l}}(a,e,n,r);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(s));var l=u.removed;c=u.events;var h=-1!==l.findIndex((function(t){return t._queryParams.loadsAllData()})),d=t.syncPointTree_.findOnPath(s,(function(t,e){return Fn(e)}));if(h&&!d){var p=t.syncPointTree_.subtree(s);if(!p.isEmpty())for(var f=function(t){return t.fold((function(t,e,n){if(e&&Fn(e))return[Un(e)];var r=[];return e&&(r=Rn(e)),D(n,(function(t,e){r=r.concat(e)})),r}))}(p),g=0;g<f.length;++g){var b=f[g],m=b.query,y=Jn(t,b);t.listenProvider_.startListening(er(m),Zn(t,m),y.hashFn,y.onComplete)}}!d&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(er(e),null):l.forEach((function(e){var n=t.queryToTagMap.get(Yn(e));t.listenProvider_.stopListening(er(e),n)}))),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=Yn(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return c}function Gn(t,e,n){var r=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(r,(function(t,e){var n=mt(t,r);o=o||Dn(e,n),s=s||Fn(e)}));var a,c=t.syncPointTree_.get(r);c?(s=s||Fn(c),o=o||Dn(c,ct())):(c=new jn,t.syncPointTree_=t.syncPointTree_.set(r,c)),null!=o?a=!0:(a=!1,o=Xt.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=Dn(e,ct());n&&(o=o.updateImmediateChild(t,n))})));var u=Mn(c,e);if(!u&&!e._queryParams.loadsAllData()){var l=Yn(e);Object(i.e)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Vn++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var d=function(t,e,n,r,i,o){var s=Pn(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Gt,(function(t,e){r.push(le(t,e))})),n.isFullyInitialized()&&r.push(ue(n.getNode())),In(t,r,n.getNode(),e)}(s,n)}(c,e,n,en(t.pendingWriteTree_,r),o,a);if(!u&&!s){var p=Ln(c,e);d=d.concat(function(t,e,n){var r=e._path,o=Zn(t,e),s=Jn(t,n),a=t.listenProvider_.startListening(er(e),o,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(r);if(o)Object(i.e)(!Fn(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=c.fold((function(t,e,n){if(!bt(t)&&e&&Fn(e))return[Un(e).query];var r=[];return e&&(r=r.concat(Rn(e).map((function(t){return t.query})))),D(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<u.length;++l){var h=u[l];t.listenProvider_.stopListening(er(h),Zn(t,h))}return a}(t,e,p))}return d}function Kn(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(function(t,n){var r=Dn(n,mt(t,e));if(r)return r}));return sn(r,e,i,n,!0)}function $n(t,e){return function t(e,n,r,i){if(bt(e.path))return function t(e,n,r,i){var o=n.get(ct());null==r&&null!=o&&(r=Dn(o,ct()));var s=[];return n.children.inorderTraversal((function(n,o){var a=r?r.getImmediateChild(n):null,c=dn(i,n),u=e.operationForChild(n);u&&(s=s.concat(t(u,o,a,c)))})),o&&(s=s.concat(An(o,e,i,r))),s}(e,n,r,i);var o=n.get(ct());null==r&&null!=o&&(r=Dn(o,ct()));var s=[],a=ut(e.path),c=e.operationForChild(a),u=n.children.get(a);if(u&&c){var l=r?r.getImmediateChild(a):null,h=dn(i,a);s=s.concat(t(c,u,l,h))}return o&&(s=s.concat(An(o,e,i,r))),s}(e,t.syncPointTree_,null,en(t.pendingWriteTree_,ct()))}function Jn(t,e){var n=e.query,r=Zn(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||Xt.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=Xn(t,n);if(r){var i=Qn(r),o=i.path,s=i.queryId,a=mt(o,e);return tr(t,o,new Pe(Ne(s),a))}return[]}(t,n._path,r):function(t,e){return $n(t,new Pe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Bn(t,n,null,i)}}}function Zn(t,e){var n=Yn(e);return t.queryToTagMap.get(n)}function Yn(t){return t._path.toString()+"$"+t._queryIdentifier}function Xn(t,e){return t.tagToQueryMap.get(e)}function Qn(t){var e=t.indexOf("$");return Object(i.e)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new at(t.substr(0,e))}}function tr(t,e,n){var r=t.syncPointTree_.get(e);return Object(i.e)(r,"Missing sync point for query tag that we're tracking"),An(r,n,en(t.pendingWriteTree_,e),null)}function er(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Object(i.e)(Nn,"Reference.ts has not been loaded"),Nn)(t._repo,t._path):t}var nr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),rr=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=gt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return Kn(this.syncTree_,this.path_)},t}(),ir=function(t,e,n){return t&&"object"==typeof t?(Object(i.e)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?or(t[".sv"],e,n):"object"==typeof t[".sv"]?sr(t[".sv"],e):void Object(i.e)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},or=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(i.e)(!1,"Unexpected server value: "+t)}},sr=function(t,e,n){t.hasOwnProperty("increment")||Object(i.e)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(i.e)(!1,"Unexpected increment value: "+r);var o=e.node();if(Object(i.e)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;var s=o.getValue();return"number"!=typeof s?r:s+r},ar=function(t,e,n,r){return ur(e,new rr(n,t),r)},cr=function(t,e,n){return ur(t,new nr(e),n)};function ur(t,e,n){var r,i=t.getPriority().val(),o=ir(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=ir(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Bt(a,te(o)):t}var c=t;return r=c,o!==c.getPriority().val()&&(r=r.updatePriority(new Bt(o))),c.forEachChild(Gt,(function(t,i){var o=ur(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}var lr=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function hr(t,e){for(var n=e instanceof at?e:new at(e),r=t,o=ut(n);null!==o;){var s=Object(i.A)(r.node.children,o)||{children:{},childCount:0};r=new lr(o,r,s),o=ut(n=ht(n))}return r}function dr(t){return t.node.value}function pr(t,e){t.node.value=e,function t(e){null!==e.parent&&function(e,n,r){var o=function(t){return void 0===dr(t)&&!fr(t)}(r),s=Object(i.i)(e.node.children,n);o&&s?(delete e.node.children[n],e.node.childCount--,t(e)):o||s||(e.node.children[n]=r.node,e.node.childCount++,t(e))}(e.parent,e.name,e)}(t)}function fr(t){return t.node.childCount>0}function gr(t,e){D(t.node.children,(function(n,r){e(new lr(n,t,r))}))}function br(t){return new at(null===t.parent?t.name:br(t.parent)+"/"+t.name)}var mr=/[\[\].#$\/\u0000-\u001F\u007F]/,yr=/[\[\].#$\u0000-\u001F\u007F]/,vr=function(t){return"string"==typeof t&&0!==t.length&&!mr.test(t)},_r=function(t){return"string"==typeof t&&0!==t.length&&!yr.test(t)},wr=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!x(t)||t&&"object"==typeof t&&Object(i.i)(t,".sv")},Or=function(t,e,n,r){r&&void 0===e||Cr(Object(i.n)(t,"value"),e,n)},Cr=function(t,e,n){var r=n instanceof at?new wt(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Ct(r));if("function"==typeof e)throw new Error(t+"contains a function "+Ct(r)+" with contents = "+e.toString());if(x(e))throw new Error(t+"contains "+e.toString()+" "+Ct(r));if("string"==typeof e&&e.length>10485760/3&&Object(i.B)(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+Ct(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var o=!1,s=!1;if(D(e,(function(e,n){if(".value"===e)o=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!vr(e)))throw new Error(t+" contains an invalid key ("+e+") "+Ct(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,c;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Object(i.B)(e),Ot(t)}(r,e),Cr(t,n,r),c=(a=r).parts_.pop(),a.byteLength_-=Object(i.B)(c),a.parts_.length>0&&(a.byteLength_-=1)})),o&&s)throw new Error(t+' contains ".value" child '+Ct(r)+" in addition to actual children.")}},Sr=function(t,e,n,r){if(!r||void 0!==e){var o=Object(i.n)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");var s=[];D(e,(function(t,e){var r=new at(t);if(Cr(o,e,gt(n,r)),".priority"===dt(r)&&!wr(e))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=pt(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!vr(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(yt);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&_t(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(o,s)}},kr=function(t,e,n){if(!n||void 0!==e){if(x(e))throw new Error(Object(i.n)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wr(e))throw new Error(Object(i.n)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Er=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(i.n)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},xr=function(t,e,n,r){if(!(r&&void 0===n||vr(n)))throw new Error(Object(i.n)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Tr=function(t,e,n,r){if(!(r&&void 0===n||_r(n)))throw new Error(Object(i.n)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ir=function(t,e){if(".info"===ut(e))throw new Error(t+" failed = Can't modify data under /.info/")},Nr=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!vr(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_r(t)}(n))throw new Error(Object(i.n)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},jr=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(i.n)(t,e)+"must be a boolean.")},Ar=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function Pr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||vt(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Rr(t,e,n){Pr(t,n),Lr(t,(function(t){return vt(t,e)}))}function Dr(t,e,n){Pr(t,n),Lr(t,(function(t){return _t(t,e)||_t(e,t)}))}function Lr(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(Mr(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Mr(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();v&&O("event: "+n.toString()),U(r)}}}var Fr=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ar,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Se(),this.transactionQueueTree_=new lr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Ur(t){var e=t.infoData_.getNode(new at(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Vr(t){return(e=(e={timestamp:Ur(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function zr(t,e,n,r,o){t.dataUpdateCount++;var s=new at(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(o)if(r){var c=Object(i.y)(n,(function(t){return te(t)}));a=function(t,e,n,r){var i=Xn(t,r);if(i){var o=Qn(i),s=o.path,a=o.queryId,c=mt(s,e),u=He.fromObject(n);return tr(t,s,new De(Ne(a),c,u))}return[]}(t.serverSyncTree_,s,c,o)}else{var u=te(n);a=function(t,e,n,r){var i=Xn(t,r);if(null!=i){var o=Qn(i),s=o.path,a=o.queryId,c=mt(s,e);return tr(t,s,new Re(Ne(a),c,n))}return[]}(t.serverSyncTree_,s,u,o)}else if(r){var l=Object(i.y)(n,(function(t){return te(t)}));a=function(t,e,n){var r=He.fromObject(n);return $n(t,new De({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{var h=te(n);a=Hn(t.serverSyncTree_,s,h)}var d=s;a.length>0&&(d=Qr(t,s)),Dr(t.eventQueue_,d,a)}function qr(t,e){Wr(t,"connected",e),!1===e&&function(t){Jr(t,"onDisconnectEvents");var e=Vr(t),n=Se();Ee(t.onDisconnect_,ct(),(function(r,i){var o=ar(r,i,t.serverSyncTree_,e);ke(n,r,o)}));var r=[];Ee(n,ct(),(function(e,n){r=r.concat(Hn(t.serverSyncTree_,e,n));var i=ri(t,e);Qr(t,i)})),t.onDisconnect_=Se(),Dr(t.eventQueue_,ct(),r)}(t)}function Wr(t,e,n){var r=new at("/.info/"+e),i=te(n);t.infoData_.updateSnapshot(r,i);var o=Hn(t.infoSyncTree_,r,i);Dr(t.eventQueue_,r,o)}function Hr(t){return t.nextWriteId_++}function Br(t,e,n,r,i){Jr(t,"set",{path:e.toString(),value:n,priority:r});var o=Vr(t),s=te(n,r),a=Kn(t.serverSyncTree_,e),c=cr(s,a,o),u=Hr(t),l=qn(t.serverSyncTree_,e,c,u,!0);Pr(t.eventQueue_,l),t.server_.put(e.toString(),s.val(!0),(function(n,r){var o="ok"===n;o||E("set at "+e+" failed: "+n);var s=Wn(t.serverSyncTree_,u,!o);Dr(t.eventQueue_,e,s),Zr(0,i,n,r)}));var h=ri(t,e);Qr(t,h),Dr(t.eventQueue_,h,[])}function Gr(t,e,n,r){var i=te(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(function(n,o){"ok"===n&&ke(t.onDisconnect_,e,i),Zr(0,r,n,o)}))}function Kr(t,e,n){var r;r=".info"===ut(e._path)?Bn(t.infoSyncTree_,e,n):Bn(t.serverSyncTree_,e,n),Rr(t.eventQueue_,e._path,r)}function $r(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}function Jr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),O.apply(void 0,Object(o.g)([r],Object(o.e)(e)))}function Zr(t,e,n,r){e&&U((function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}}))}function Yr(t,e,n){return Kn(t.serverSyncTree_,e,n)||Xt.EMPTY_NODE}function Xr(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||ni(t,e),dr(e)){var n=ei(t,e);Object(i.e)(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return 0===t.status}))&&function(t,e,n){for(var r=n.map((function(t){return t.currentWriteId})),o=Yr(t,e,r),s=o,a=o.hash(),c=0;c<n.length;c++){var u=n[c];Object(i.e)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=mt(e,u.path);s=s.updateChild(l,u.currentOutputSnapshotRaw)}var h=s.val(!0),d=e;t.server_.put(d.toString(),h,(function(r){Jr(t,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(e){n[e].status=2,i=i.concat(Wn(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push((function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)})),n[e].unwatcher()},a=0;a<n.length;a++)s(a);for(ni(t,hr(t.transactionQueueTree_,e)),Xr(t,t.transactionQueueTree_),Dr(t.eventQueue_,e,i),a=0;a<o.length;a++)U(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)n[a].status=3===n[a].status?4:0;else for(E("transaction at "+d.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;Qr(t,e)}}),a)}(t,br(e),n)}else fr(e)&&gr(e,(function(e){Xr(t,e)}))}function Qr(t,e){var n=ti(t,e),r=br(n);return function(t,e,n){if(0!==e.length){for(var r=[],o=[],s=e.filter((function(t){return 0===t.status})).map((function(t){return t.currentWriteId})),a=function(a){var c,u=e[a],l=mt(n,u.path),h=!1;if(Object(i.e)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)h=!0,c=u.abortReason,o=o.concat(Wn(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)h=!0,c="maxretry",o=o.concat(Wn(t.serverSyncTree_,u.currentWriteId,!0));else{var d=Yr(t,u.path,s);u.currentInputSnapshot=d;var p=e[a].update(d.val());if(void 0!==p){Cr("transaction failed: Data returned ",p,u.path);var f=te(p);"object"==typeof p&&null!=p&&Object(i.i)(p,".priority")||(f=f.updatePriority(d.getPriority()));var g=u.currentWriteId,b=Vr(t),m=cr(f,d,b);u.currentOutputSnapshotRaw=f,u.currentOutputSnapshotResolved=m,u.currentWriteId=Hr(t),s.splice(s.indexOf(g),1),o=(o=o.concat(qn(t.serverSyncTree_,u.path,m,u.currentWriteId,u.applyLocally))).concat(Wn(t.serverSyncTree_,g,!0))}else h=!0,c="nodata",o=o.concat(Wn(t.serverSyncTree_,u.currentWriteId,!0))}Dr(t.eventQueue_,n,o),o=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===c?function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)}:function(){return e[a].onComplete(new Error(c),!1,null)}))},c=0;c<e.length;c++)a(c);for(ni(t,t.transactionQueueTree_),c=0;c<r.length;c++)U(r[c]);Xr(t,t.transactionQueueTree_)}}(t,ei(t,n),r),r}function ti(t,e){var n,r=t.transactionQueueTree_;for(n=ut(e);null!==n&&void 0===dr(r);)r=hr(r,n),n=ut(e=ht(e));return r}function ei(t,e){var n=[];return function t(e,n,r){var i=dr(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);gr(n,(function(n){t(e,n,r)}))}(t,e,n),n.sort((function(t,e){return t.order-e.order})),n}function ni(t,e){var n=dr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,pr(e,n.length>0?n:void 0)}gr(e,(function(e){ni(t,e)}))}function ri(t,e){var n=br(ti(t,e)),r=hr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,(function(e){ii(t,e)})),ii(t,r),function t(e,n,r,i){r&&!i&&n(e),gr(e,(function(e){t(e,n,!0,i)})),r&&i&&n(e)}(r,(function(e){ii(t,e)})),n}function ii(t,e){var n=dr(e);if(n){for(var r=[],o=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Object(i.e)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Object(i.e)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),o=o.concat(Wn(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===s?pr(e,void 0):n.length=s+1,Dr(t.eventQueue_,br(e),o),a=0;a<r.length;a++)U(r[a])}}var oi=function(t,e){var n=si(t),r=n.namespace;return"firebase.com"===n.domain&&k(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||k("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&E("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new B(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new at(n.pathString)}},si=function(t){var e="",n="",r="",i="",s="",a=!0,c="https",u=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(c=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,d)));var p=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Object(o.h)(t.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(0!==a.length){var c=a.split("=");2===c.length?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):E("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(l=e.indexOf(":"))>=0?(a="https"===c||"wss"===c,u=parseInt(e.substring(l+1),10)):l=e.length;var f=e.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in p&&(s=p.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}},ai=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(i.D)(this.snapshot.exportVal())},t}(),ci=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),ui=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Object(i.e)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),li=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t,e,n,r=new i.a;return t=this._repo,e=this._path,n=r.wrapCallback((function(){})),t.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&function t(e,n){if(bt(n))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var r=e.value;return e.value=null,r.forEachChild(Gt,(function(t,n){ke(e,new at(t),n)})),t(e,n)}if(e.children.size>0){var i=ut(n);return n=ht(n),e.children.has(i)&&t(e.children.get(i),n)&&e.children.delete(i),0===e.children.size}return!0}(t.onDisconnect_,e),Zr(0,n,r,i)})),r.promise},t.prototype.remove=function(){Ir("OnDisconnect.remove",this._path);var t=new i.a;return Gr(this._repo,this._path,null,t.wrapCallback((function(){}))),t.promise},t.prototype.set=function(t){Ir("OnDisconnect.set",this._path),Or("OnDisconnect.set",t,this._path,!1);var e=new i.a;return Gr(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t.prototype.setWithPriority=function(t,e){Ir("OnDisconnect.setWithPriority",this._path),Or("OnDisconnect.setWithPriority",t,this._path,!1),kr("OnDisconnect.setWithPriority",e,!1);var n=new i.a;return function(t,e,n,r,i){var o=te(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(function(n,r){"ok"===n&&ke(t.onDisconnect_,e,o),Zr(0,i,n,r)}))}(this._repo,this._path,t,e,n.wrapCallback((function(){}))),n.promise},t.prototype.update=function(t){Ir("OnDisconnect.update",this._path),Sr("OnDisconnect.update",t,this._path,!1);var e=new i.a;return function(t,e,n,r){if(Object(i.r)(n))return O("onDisconnect().update() called with empty data.  Don't do anything."),void Zr(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(function(i,o){"ok"===i&&D(n,(function(n,r){var i=te(r);ke(t.onDisconnect_,gt(e,n),i)})),Zr(0,r,i,o)}))}(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t}(),hi=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return bt(this._path)?null:dt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new gi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=we(this._queryParams),e=P(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return we(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Object(i.o)(e))instanceof t))return!1;var n=this._repo===e._repo,r=vt(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function di(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function pi(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===jt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==T)throw new Error(r);if("string"!=typeof e)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==I)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(t.getIndex()===Gt){if(null!=e&&!wr(e)||null!=n&&!wr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(i.e)(t.getIndex()instanceof re||t.getIndex()===ie,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function fi(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var gi=function(t){function e(e,n){return t.call(this,e,n,new be,!1)||this}return Object(o.c)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=ft(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(hi),bi=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new at(e),r=vi(this.ref,e);return new t(this._node.getChild(n),r,Gt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return e(new t(i,vi(n.ref,r),Gt))}))},t.prototype.hasChild=function(t){var e=new at(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function mi(t,e){return(t=Object(i.o)(t))._checkNotDeleted("ref"),void 0!==e?vi(t._root,e):t._root}function yi(t,e){(t=Object(i.o)(t))._checkNotDeleted("refFromURL");var n=oi(e,t._repo.repoInfo_.nodeAdmin);Nr("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||k("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),mi(t,n.path.toString())}function vi(t,e){var n;return null===ut((t=Object(i.o)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Tr("child","path",n,!1)):Tr("child","path",e,!1),new gi(t._repo,gt(t._path,e))}function _i(t,e){t=Object(i.o)(t),Ir("push",t._path),Or("push",e,t._path,!0);var n,r=Ur(t._repo),o=se(r),s=vi(t,o),a=vi(t,o);return n=null!=e?Oi(a,e).then((function(){return a})):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),s}function wi(t){return Ir("remove",t._path),Oi(t,null)}function Oi(t,e){t=Object(i.o)(t),Ir("set",t._path),Or("set",e,t._path,!1);var n=new i.a;return Br(t._repo,t._path,e,null,n.wrapCallback((function(){}))),n.promise}function Ci(t,e){t=Object(i.o)(t),Ir("setPriority",t._path),kr("setPriority",e,!1);var n=new i.a;return Br(t._repo,gt(t._path,".priority"),e,null,n.wrapCallback((function(){}))),n.promise}function Si(t,e,n){if(Ir("setWithPriority",t._path),Or("setWithPriority",e,t._path,!1),kr("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new i.a;return Br(t._repo,t._path,e,n,r.wrapCallback((function(){}))),r.promise}function ki(t,e){Sr("update",e,t._path,!1);var n=new i.a;return function(t,e,n,r){Jr(t,"update",{path:e.toString(),value:n});var o=!0,s=Vr(t),a={};if(D(n,(function(n,r){o=!1,a[n]=ar(gt(e,n),te(r),t.serverSyncTree_,s)})),o)O("update() called with empty data.  Don't do anything."),Zr(0,r,"ok",void 0);else{var c=Hr(t),u=function(t,e,n,r){!function(t,e,n,r){Object(i.e)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ke(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var o=He.fromObject(n);return $n(t,new De({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,o))}(t.serverSyncTree_,e,a,c);Pr(t.eventQueue_,u),t.server_.merge(e.toString(),n,(function(n,i){var o="ok"===n;o||E("update at "+e+" failed: "+n);var s=Wn(t.serverSyncTree_,c,!o),a=s.length>0?Qr(t,e):e;Dr(t.eventQueue_,a,s),Zr(0,r,n,i)})),D(n,(function(n){var r=ri(t,gt(e,n));Qr(t,r)})),Dr(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback((function(){}))),n.promise}var Ei=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new ai("value",this,new bi(t.snapshotNode,new gi(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new ci(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),xi=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return this.eventType===("children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new ci(this,t,e):null},t.prototype.createEvent=function(t,e){Object(i.e)(null!=t.childName,"Child events should have a childName.");var n=vi(new gi(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new ai(t.type,this,new bi(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function Ti(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var s=n,a=function(e,n){Kr(t._repo,t,u),s(e,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var c=new ui(n,o||void 0),u="value"===e?new Ei(c):new xi(e,c);return function(t,e,n){var r;r=".info"===ut(e._path)?Gn(t.infoSyncTree_,e,n):Gn(t.serverSyncTree_,e,n),Rr(t.eventQueue_,e._path,r)}(t._repo,t,u),function(){return Kr(t._repo,t,u)}}function Ii(t,e,n,r){return Ti(t,"value",e,n,r)}function Ni(t,e,n,r){return Ti(t,"child_added",e,n,r)}function ji(t,e,n,r){return Ti(t,"child_changed",e,n,r)}function Ai(t,e,n,r){return Ti(t,"child_moved",e,n,r)}function Pi(t,e,n,r){return Ti(t,"child_removed",e,n,r)}function Ri(t,e,n){var r=null,i=n?new ui(n):null;"value"===e?r=new Ei(i):e&&(r=new xi(e,i)),Kr(t._repo,t,r)}var Di=function(){return function(){}}(),Li=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Or("endAt",this._value,t._path,!0);var e=ye(t._queryParams,this._value,this._key);if(fi(e),pi(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hi(t._repo,t._path,e,t._orderByCalled)},e}(Di);function Mi(t,e){return xr("endAt","key",e,!0),new Li(t,e)}var Fi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Or("endBefore",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===jt?("string"==typeof n&&(n=ce(n)),i=ye(e,n,r)):i=ye(e,n,null==r?T:ce(r)),i.endBeforeSet_=!0,i);if(fi(o),pi(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hi(t._repo,t._path,o,t._orderByCalled)},e}(Di);function Ui(t,e){return xr("endBefore","key",e,!0),new Fi(t,e)}var Vi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Or("startAt",this._value,t._path,!0);var e=me(t._queryParams,this._value,this._key);if(fi(e),pi(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new hi(t._repo,t._path,e,t._orderByCalled)},e}(Di);function zi(t,e){return void 0===t&&(t=null),xr("startAt","key",e,!0),new Vi(t,e)}var qi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){Or("startAfter",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===jt?("string"==typeof n&&(n=ae(n)),i=me(e,n,r)):i=me(e,n,null==r?I:ae(r)),i.startAfterSet_=!0,i);if(fi(o),pi(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new hi(t._repo,t._path,o,t._orderByCalled)},e}(Di);function Wi(t,e){return xr("startAfter","key",e,!0),new qi(t,e)}var Hi=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(o.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new hi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(Di);function Bi(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Hi(t)}var Gi=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(o.c)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new hi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(Di);function Ki(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Gi(t)}var $i=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Object(o.c)(e,t),e.prototype._apply=function(t){di(t,"orderByChild");var e=new at(this._path);if(bt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new re(e),r=ve(t._queryParams,n);return pi(r),new hi(t._repo,t._path,r,!0)},e}(Di);function Ji(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Tr("orderByChild","path",t,!1),new $i(t)}var Zi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype._apply=function(t){di(t,"orderByKey");var e=ve(t._queryParams,jt);return pi(e),new hi(t._repo,t._path,e,!0)},e}(Di);function Yi(){return new Zi}var Xi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype._apply=function(t){di(t,"orderByPriority");var e=ve(t._queryParams,Gt);return pi(e),new hi(t._repo,t._path,e,!0)},e}(Di);function Qi(){return new Xi}var to=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype._apply=function(t){di(t,"orderByValue");var e=ve(t._queryParams,ie);return pi(e),new hi(t._repo,t._path,e,!0)},e}(Di);function eo(){return new to}var no=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.c)(e,t),e.prototype._apply=function(t){if(Or("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Li(this._value,this._key)._apply(new Vi(this._value,this._key)._apply(t))},e}(Di);function ro(t,e){return xr("equalTo","key",e,!0),new no(t,e)}function io(t){for(var e,n,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var a=Object(i.o)(t);try{for(var c=Object(o.h)(r),u=c.next();!u.done;u=c.next()){var l=u.value;a=l._apply(a)}}catch(h){e={error:h}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a}!function(t){Object(i.e)(!Cn,"__referenceConstructor has already been defined"),Cn=t}(gi),function(t){Object(i.e)(!Nn,"__referenceConstructor has already been defined"),Nn=t}(gi);var oo={},so=!1;function ao(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||k("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),O("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var s,a=oi(o,i),c=a.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(s=!0,c=(a=oi(o="http://"+u+"?ns="+c.namespace,i)).repoInfo):s=!a.repoInfo.secure;var l=i&&s?new W(W.OWNER):new q(t.name,t.options,e);Nr("Invalid Firebase Database URL",a),bt(a.path)||k("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,r){var i=oo[e.name];i||(oo[e.name]=i={});var o=i[t.toURLString()];return o&&k("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Fr(t,so,n,r),i[t.toURLString()]=o,o}(c,t,l,new z(t.name,n));return new co(h,t)}var co=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=Z(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Oe(t.repoInfo_,(function(e,n,r,i){zr(t,e,n,r,i)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((function(){return qr(t,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(i.D)(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new xt(t.repoInfo_,e,(function(e,n,r,i){zr(t,e,n,r,i)}),(function(e){qr(t,e)}),(function(e){!function(t,e){D(e,(function(e,n){Wr(t,e,n)}))}(t,e)}),t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,o;t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((function(e){t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=(r=function(){return new Te(t.stats_,t.server_)},o=t.repoInfo_.toString(),J[o]||(J[o]=r()),J[o]),t.infoData_=new Ce,t.infoSyncTree_=new zn({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=Hn(t.infoSyncTree_,e._path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Wr(t,"connected",!1),t.serverSyncTree_=new zn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);Dr(t.eventQueue_,e._path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new gi(this._repo,ct())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return this._checkNotDeleted("delete"),t=this._repo,(n=oo[e=this.app.name])&&n[t.key]===t||k("Database "+e+"("+t.repoInfo_+") has already been deleted."),$r(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&k("Cannot call "+t+" on a deleted database.")},t}();function uo(t){(t=Object(i.o)(t))._checkNotDeleted("goOffline"),$r(t._repo)}function lo(t){var e;(t=Object(i.o)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume("repo_interrupt")}var ho={".sv":"timestamp"},po=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function fo(t,e,n){var r;if(t=Object(i.o)(t),Ir("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var o=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,s=new i.a,a=Ii(t,(function(){}));return function(e,n,r,o,a,c){Jr(e,"transaction on "+n);var u={path:n,update:r,onComplete:function(e,n,r){var i=null;e?s.reject(e):(i=new bi(r,new gi(t._repo,t._path),Gt),s.resolve(new po(n,i)))},status:null,order:b(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=Yr(e,n,void 0);u.currentInputSnapshot=l;var h=u.update(l.val());if(void 0===h)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{Cr("transaction failed: Data returned ",h,u.path),u.status=0;var d=hr(e.transactionQueueTree_,n),p=dr(d)||[];p.push(u),pr(d,p);var f=void 0;"object"==typeof h&&null!==h&&Object(i.i)(h,".priority")?(f=Object(i.A)(h,".priority"),Object(i.e)(wr(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(Kn(e.serverSyncTree_,n)||Xt.EMPTY_NODE).getPriority().val();var g=Vr(e),m=te(h,f),y=cr(m,l,g);u.currentOutputSnapshotRaw=m,u.currentOutputSnapshotResolved=y,u.currentWriteId=Hr(e);var v=qn(e.serverSyncTree_,n,y,u.currentWriteId,u.applyLocally);Dr(e.eventQueue_,n,v),Xr(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,a,o),s.promise}var go=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Object(i.E)("OnDisconnect.cancel",0,1,arguments.length),Object(i.F)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.remove=function(t){Object(i.E)("OnDisconnect.remove",0,1,arguments.length),Object(i.F)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.set=function(t,e){Object(i.E)("OnDisconnect.set",1,2,arguments.length),Object(i.F)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},t.prototype.setWithPriority=function(t,e,n){Object(i.E)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(i.F)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},t.prototype.update=function(t,e){if(Object(i.E)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,E("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(i.F)("OnDisconnect.update","onComplete",e,!0);var o=this._delegate.update(t);return e&&o.then((function(){return e(null)}),(function(t){return e(t)})),o},t}(),bo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(i.E)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),mo=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Object(i.E)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Object(i.E)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Object(i.E)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Object(i.E)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Object(i.E)("DataSnapshot.child",0,1,arguments.length),e=String(e),Tr("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Object(i.E)("DataSnapshot.hasChild",1,1,arguments.length),Tr("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Object(i.E)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Object(i.E)("DataSnapshot.forEach",1,1,arguments.length),Object(i.F)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(r){return e(new t(n._database,r))}))},t.prototype.hasChildren=function(){return Object(i.E)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(i.E)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Object(i.E)("DataSnapshot.ref",0,0,arguments.length),new vo(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),yo=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,o){var s,a=this;Object(i.E)("Query.on",2,4,arguments.length),Object(i.F)("Query.on","callback",n,!1);var c=t.getCancelAndContextArgs_("Query.on",r,o),u=function(t,e){n.call(c.context,new mo(a.database,t),e)};u.userCallback=n,u.context=c.context;var l=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return Ii(this._delegate,u,l),n;case"child_added":return Ni(this._delegate,u,l),n;case"child_removed":return Pi(this._delegate,u,l),n;case"child_changed":return ji(this._delegate,u,l),n;case"child_moved":return Ai(this._delegate,u,l),n;default:throw new Error(Object(i.n)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Object(i.E)("Query.off",0,3,arguments.length),Er("Query.off",t,!0),Object(i.F)("Query.off","callback",e,!0),Object(i.G)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,Ri(this._delegate,t,r)}else Ri(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(function(t,e){var i=mt(t,n);r=r||Dn(e,i)}));var i=t.syncPointTree_.get(n);i?r=r||Dn(i,ct()):(i=new jn,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,s=o?new Le(r,!0,!1):null;return qe(Pn(i,e,en(t.pendingWriteTree_,e._path),o?s.getNode():Xt.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then((function(n){var r=te(n),i=Hn(t.serverSyncTree_,e._path,r);return Rr(t.eventQueue_,e._path,i),Promise.resolve(r)}),(function(n){return Jr(t,"get for query "+Object(i.D)(e)+" failed: "+n),Promise.reject(new Error(n))}))}((t=Object(i.o)(t))._repo,t).then((function(e){return new bi(e,new gi(t._repo,t._path),t._queryParams.getIndex())}))}(this._delegate).then((function(e){return new mo(t.database,e)}))},t.prototype.once=function(e,n,r,o){var s=this;Object(i.E)("Query.once",1,4,arguments.length),Object(i.F)("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,o),c=new i.a,u=function(t,e){var r=new mo(s.database,t);n&&n.call(a.context,r,e),c.resolve(r)};u.userCallback=n,u.context=a.context;var l=function(t){a.cancel&&a.cancel.call(a.context,t),c.reject(t)};switch(e){case"value":Ii(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":Ni(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":Pi(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":ji(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":Ai(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(Object(i.n)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise},t.prototype.limitToFirst=function(e){return Object(i.E)("Query.limitToFirst",1,1,arguments.length),new t(this.database,io(this._delegate,Bi(e)))},t.prototype.limitToLast=function(e){return Object(i.E)("Query.limitToLast",1,1,arguments.length),new t(this.database,io(this._delegate,Ki(e)))},t.prototype.orderByChild=function(e){return Object(i.E)("Query.orderByChild",1,1,arguments.length),new t(this.database,io(this._delegate,Ji(e)))},t.prototype.orderByKey=function(){return Object(i.E)("Query.orderByKey",0,0,arguments.length),new t(this.database,io(this._delegate,Yi()))},t.prototype.orderByPriority=function(){return Object(i.E)("Query.orderByPriority",0,0,arguments.length),new t(this.database,io(this._delegate,Qi()))},t.prototype.orderByValue=function(){return Object(i.E)("Query.orderByValue",0,0,arguments.length),new t(this.database,io(this._delegate,eo()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Object(i.E)("Query.startAt",0,2,arguments.length),new t(this.database,io(this._delegate,zi(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Object(i.E)("Query.startAfter",0,2,arguments.length),new t(this.database,io(this._delegate,Wi(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Object(i.E)("Query.endAt",0,2,arguments.length),new t(this.database,io(this._delegate,Mi(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Object(i.E)("Query.endBefore",0,2,arguments.length),new t(this.database,io(this._delegate,Ui(e,n)))},t.prototype.equalTo=function(e,n){return Object(i.E)("Query.equalTo",1,2,arguments.length),new t(this.database,io(this._delegate,ro(e,n)))},t.prototype.toString=function(){return Object(i.E)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Object(i.E)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Object(i.E)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,Object(i.F)(t,"cancel",r.cancel,!0),r.context=n,Object(i.G)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(i.n)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new vo(this.database,new gi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),vo=function(t){function e(e,n){var r=t.call(this,e,new hi(n._repo,n._path,new be,!1))||this;return r.database=e,r._delegate=n,r}return Object(o.c)(e,t),e.prototype.getKey=function(){return Object(i.E)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Object(i.E)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,vi(this._delegate,t))},e.prototype.getParent=function(){Object(i.E)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Object(i.E)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Object(i.E)("Reference.set",1,2,arguments.length),Object(i.F)("Reference.set","onComplete",e,!0);var n=Oi(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.update=function(t,e){if(Object(i.E)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,E("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ir("Reference.update",this._delegate._path),Object(i.F)("Reference.update","onComplete",e,!0);var o=ki(this._delegate,t);return e&&o.then((function(){return e(null)}),(function(t){return e(t)})),o},e.prototype.setWithPriority=function(t,e,n){Object(i.E)("Reference.setWithPriority",2,3,arguments.length),Object(i.F)("Reference.setWithPriority","onComplete",n,!0);var r=Si(this._delegate,t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},e.prototype.remove=function(t){Object(i.E)("Reference.remove",0,1,arguments.length),Object(i.F)("Reference.remove","onComplete",t,!0);var e=wi(this._delegate);return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},e.prototype.transaction=function(t,e,n){var r=this;Object(i.E)("Reference.transaction",1,3,arguments.length),Object(i.F)("Reference.transaction","transactionUpdate",t,!1),Object(i.F)("Reference.transaction","onComplete",e,!0),jr("Reference.transaction","applyLocally",n,!0);var o=fo(this._delegate,t,{applyLocally:n}).then((function(t){return new bo(t.committed,new mo(r.database,t.snapshot))}));return e&&o.then((function(t){return e(null,t.committed,t.snapshot)}),(function(t){return e(t,!1,null)})),o},e.prototype.setPriority=function(t,e){Object(i.E)("Reference.setPriority",1,2,arguments.length),Object(i.F)("Reference.setPriority","onComplete",e,!0);var n=Ci(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.push=function(t,n){var r=this;Object(i.E)("Reference.push",0,2,arguments.length),Object(i.F)("Reference.push","onComplete",n,!0);var o=_i(this._delegate,t),s=o.then((function(t){return new e(r.database,t)}));n&&s.then((function(){return n(null)}),(function(t){return n(t)}));var a=new e(this.database,o);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},e.prototype.onDisconnect=function(){return Ir("Reference.onDisconnect",this._delegate._path),new go(new li(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(yo),_o=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),(t=Object(i.o)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&k("Cannot call useEmulator() after instance has already been initialized.");var o=t._repoInternal,s=void 0;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&k('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new W(W.OWNER);else if(r.mockUserToken){var a=Object(i.j)(r.mockUserToken,t.app.options.projectId);s=new W(a)}!function(t,e,n,r){t.repoInfo_=new B(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(o,e,n,s)}(this._delegate,t,e,n)},t.prototype.ref=function(t){if(Object(i.E)("database.ref",0,1,arguments.length),t instanceof vo){var e=yi(this._delegate,t.toString());return new vo(this,e)}return e=mi(this._delegate,t),new vo(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";Object(i.E)(e,1,1,arguments.length);var n=yi(this._delegate,t);return new vo(this,n)},t.prototype.goOffline=function(){return Object(i.E)("database.goOffline",0,0,arguments.length),uo(this._delegate)},t.prototype.goOnline=function(){return Object(i.E)("database.goOnline",0,0,arguments.length),lo(this._delegate)},t.ServerValue={TIMESTAMP:ho,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),wo=Object.freeze({__proto__:null,forceLongPolling:function(){et.forceDisallow(),X.forceAllow()},forceWebSockets:function(){X.forceDisallow()},isWebSocketsAvailable:function(){return et.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new xe(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce((function(t,e){return Math.max(e.length,t)}),0);D(n,(function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)}))}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,i=t.customAuthImpl,o=t.namespace,s=t.nodeAdmin,a=void 0!==s&&s;c(t.version);var u=new r.c("auth-internal",new r.b("database-standalone"));return u.setComponent(new r.a("auth-internal",(function(){return i}),"PRIVATE")),{instance:new _o(ao(e,u,void 0,n,a),e),namespace:o}}}),Oo=xt;xt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},xt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Co=Object.freeze({__proto__:null,DataConnection:Oo,RealTimeConnection:rt,hijackHash:function(t){var e=xt.prototype.put;return xt.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){xt.prototype.put=e}},ConnectionTarget:B,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){so=t}(t)}}),So=_o.ServerValue;!function(e){c(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new r.a("database",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new _o(ao(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:vo,Query:yo,Database:_o,DataSnapshot:mo,enableLogging:w,INTERNAL:wo,ServerValue:So,TEST_ACCESS:Co}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.10.1"),Object(i.u)()&&(t.exports=n)}(e.a)}).call(this,n("3UD+")(t))},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8Qeq":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Bpvx:function(t,e,n){"use strict";var r=n("Qfp6"),i=n("Pfkr"),o=n("3RSX"),s=n("n8Jw")||0;function a(){return i(s)}t.exports=a,t.exports.generate=a,t.exports.seed=function(e){return r.seed(e),t.exports},t.exports.worker=function(e){return s=e,t.exports},t.exports.characters=function(t){return void 0!==t&&r.characters(t),r.shuffled()},t.exports.isValid=o},CR0S:function(t,e,n){"use strict";var r="object"==typeof window&&(window.crypto||window.msCrypto);t.exports=r&&r.getRandomValues?function(t){return r.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],n=0;n<t;n++)e.push(Math.floor(256*Math.random()));return e}},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},FurV:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function c(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function h(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("8Qeq"),i=n("7o/Q"),o=n("2QA8"),s=n("gRHU"),a=n("kJWO"),c=n("SpAZ"),u=n("2fFW");let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(s.a)}(t,e,n);if(a.add(r?r.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Object(r.a)(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=h(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[a.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?c.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=h(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function h(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.6.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},Pfkr:function(t,e,n){"use strict";var r,i,o=n("vZIR");n("Qfp6"),t.exports=function(t){var e="",n=Math.floor(.001*(Date.now()-1567752802062));return n===i?r++:(r=0,i=n),e+=o(7),e+=o(t),r>0&&(e+=o(r)),e+o(n)}},Qfp6:function(t,e,n){"use strict";var r,i,o,s=n("fqyn"),a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function c(){o=!1}function u(t){if(t){if(t!==r){if(t.length!==a.length)throw new Error("Custom alphabet for shortid must be "+a.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter((function(t,e,n){return e!==n.lastIndexOf(t)}));if(e.length)throw new Error("Custom alphabet for shortid must be "+a.length+" unique characters. These characters were not unique: "+e.join(", "));r=t,c()}}else r!==a&&(r=a,c())}function l(){return o||(o=function(){r||u(a);for(var t,e=r.split(""),n=[],i=s.nextValue();e.length>0;)i=s.nextValue(),t=Math.floor(i*e.length),n.push(e.splice(t,1)[0]);return n.join("")}())}t.exports={get:function(){return r||a},characters:function(t){return u(t),r},seed:function(t){s.seed(t),i!==t&&(c(),i=t)},lookup:function(t){return l()[t]},shuffled:l}},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},YcCt:function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,i){n=n||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(e=e||"&");var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var c=t.length;a>0&&c>a&&(c=a);for(var u=0;u<c;++u){var l,h,d,p,f=t[u].replace(s,"%20"),g=f.indexOf(n);g>=0?(l=f.substr(0,g),h=f.substr(g+1)):(l=f,h=""),d=decodeURIComponent(l),p=decodeURIComponent(h),r(o,d)?Array.isArray(o[d])?o[d].push(p):o[d]=[o[d],p]:o[d]=p}return o}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.b)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return go})),n.d(e,"b",(function(){return Ya})),n.d(e,"c",(function(){return Ga})),n.d(e,"d",(function(){return Ha})),n.d(e,"e",(function(){return Ba})),n.d(e,"f",(function(){return zc})),n.d(e,"g",(function(){return jc})),n.d(e,"h",(function(){return Zi})),n.d(e,"i",(function(){return cc})),n.d(e,"j",(function(){return Rs})),n.d(e,"k",(function(){return tc})),n.d(e,"l",(function(){return Ds})),n.d(e,"m",(function(){return wn})),n.d(e,"n",(function(){return xa})),n.d(e,"o",(function(){return G})),n.d(e,"p",(function(){return l})),n.d(e,"q",(function(){return B})),n.d(e,"r",(function(){return fo})),n.d(e,"s",(function(){return ta})),n.d(e,"t",(function(){return ea})),n.d(e,"u",(function(){return Qa})),n.d(e,"v",(function(){return st})),n.d(e,"w",(function(){return Pc})),n.d(e,"x",(function(){return ot})),n.d(e,"y",(function(){return Ec})),n.d(e,"z",(function(){return hc})),n.d(e,"A",(function(){return h})),n.d(e,"B",(function(){return Za})),n.d(e,"C",(function(){return Ja})),n.d(e,"D",(function(){return Ia})),n.d(e,"E",(function(){return Us})),n.d(e,"F",(function(){return Ms})),n.d(e,"G",(function(){return Fs})),n.d(e,"H",(function(){return zs})),n.d(e,"I",(function(){return ur})),n.d(e,"J",(function(){return p})),n.d(e,"K",(function(){return Lc})),n.d(e,"L",(function(){return oa})),n.d(e,"M",(function(){return vc})),n.d(e,"N",(function(){return Xi})),n.d(e,"O",(function(){return Ws})),n.d(e,"P",(function(){return qs})),n.d(e,"Q",(function(){return aa})),n.d(e,"R",(function(){return gt})),n.d(e,"S",(function(){return xc})),n.d(e,"T",(function(){return Un})),n.d(e,"U",(function(){return N})),n.d(e,"V",(function(){return Fn})),n.d(e,"W",(function(){return Uc})),n.d(e,"X",(function(){return Oc})),n.d(e,"Y",(function(){return Xa})),n.d(e,"Z",(function(){return Qi})),n.d(e,"ab",(function(){return ws})),n.d(e,"bb",(function(){return ar})),n.d(e,"cb",(function(){return Hn})),n.d(e,"db",(function(){return In})),n.d(e,"eb",(function(){return jn})),n.d(e,"fb",(function(){return Dn})),n.d(e,"gb",(function(){return Pn})),n.d(e,"hb",(function(){return An})),n.d(e,"ib",(function(){return Rn})),n.d(e,"jb",(function(){return ms})),n.d(e,"kb",(function(){return Fc})),n.d(e,"lb",(function(){return ys})),n.d(e,"mb",(function(){return vs})),n.d(e,"nb",(function(){return Nn})),n.d(e,"ob",(function(){return M})),n.d(e,"pb",(function(){return Eo})),n.d(e,"qb",(function(){return Bo})),n.d(e,"rb",(function(){return Ho})),n.d(e,"sb",(function(){return bs})),n.d(e,"tb",(function(){return Zt})),n.d(e,"ub",(function(){return x})),n.d(e,"vb",(function(){return Tn})),n.d(e,"wb",(function(){return yo})),n.d(e,"xb",(function(){return Ht})),n.d(e,"yb",(function(){return js})),n.d(e,"zb",(function(){return Nr})),n.d(e,"Ab",(function(){return No})),n.d(e,"Bb",(function(){return is})),n.d(e,"Cb",(function(){return Ua})),n.d(e,"Db",(function(){return vt})),n.d(e,"Eb",(function(){return Et})),n.d(e,"Fb",(function(){return m})),n.d(e,"Gb",(function(){return y})),n.d(e,"Hb",(function(){return Ct})),n.d(e,"Ib",(function(){return xt})),n.d(e,"Jb",(function(){return Ro})),n.d(e,"Kb",(function(){return Vo})),n.d(e,"Lb",(function(){return qo})),n.d(e,"Mb",(function(){return zo})),n.d(e,"Nb",(function(){return Uo})),n.d(e,"Ob",(function(){return Fo})),n.d(e,"Pb",(function(){return Wo})),n.d(e,"Qb",(function(){return mn})),n.d(e,"Rb",(function(){return ds})),n.d(e,"Sb",(function(){return et})),n.d(e,"Tb",(function(){return Do})),n.d(e,"Ub",(function(){return Wa})),n.d(e,"Vb",(function(){return Go})),n.d(e,"Wb",(function(){return Va})),n.d(e,"Xb",(function(){return Jo})),n.d(e,"Yb",(function(){return Oa})),n.d(e,"Zb",(function(){return Ca})),n.d(e,"ac",(function(){return Sa})),n.d(e,"bc",(function(){return Xo})),n.d(e,"cc",(function(){return Yo})),n.d(e,"dc",(function(){return Lo})),n.d(e,"ec",(function(){return Qo})),n.d(e,"fc",(function(){return ya})),n.d(e,"gc",(function(){return va})),n.d(e,"hc",(function(){return Fa})),n.d(e,"ic",(function(){return Po})),n.d(e,"jc",(function(){return ge})),n.d(e,"kc",(function(){return hr})),n.d(e,"lc",(function(){return lr})),n.d(e,"mc",(function(){return St})),n.d(e,"nc",(function(){return Ao})),n.d(e,"oc",(function(){return qa})),n.d(e,"pc",(function(){return us})),n.d(e,"qc",(function(){return ls})),n.d(e,"rc",(function(){return hs}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function c(t){return{toString:t}.toString()}function u(t,e,n){return c(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const l=u("Inject",t=>({token:t})),h=u("Optional"),d=u("Self"),p=u("SkipSelf");var f=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function b(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function m(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function y(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function v(t){return _(t,t[O])||_(t,t[k])}function _(t,e){return e&&e.token===t?e:null}function w(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(E))?t[C]:null}const O=g({\u0275prov:g}),C=g({\u0275inj:g}),S=g({\u0275provFallback:g}),k=g({ngInjectableDef:g}),E=g({ngInjectorDef:g});function x(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(x).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function T(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const I=g({__forward_ref__:g});function N(t){return t.__forward_ref__=N,t.toString=function(){return x(this())},t}function j(t){return A(t)?t():t}function A(t){return"function"==typeof t&&t.hasOwnProperty(I)&&t.__forward_ref__===N}const P="undefined"!=typeof globalThis&&globalThis,R="undefined"!=typeof window&&window,D="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,L="undefined"!=typeof global&&global,M=P||L||R||D,F=g({\u0275cmp:g}),U=g({\u0275dir:g}),V=g({\u0275pipe:g}),z=g({\u0275mod:g}),q=g({\u0275loc:g}),W=g({\u0275fac:g}),H=g({__NG_ELEMENT_ID__:g});class B{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=m({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const G=new B("INJECTOR",-1),K={},$=/\n/gm,J=g({provide:String,useValue:g});let Z,Y=void 0;function X(t){const e=Y;return Y=t,e}function Q(t){const e=Z;return Z=t,e}function tt(t,e=f.Default){if(void 0===Y)throw new Error("inject() must be called from an injection context");return null===Y?nt(t,void 0,e):Y.get(t,e&f.Optional?null:void 0,e)}function et(t,e=f.Default){return(Z||tt)(j(t),e)}function nt(t,e,n){const r=v(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&f.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${x(t)}]`)}function rt(t){const e=[];for(let n=0;n<t.length;n++){const r=j(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=f.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof h||"Optional"===i.ngMetadataName||i===h?n|=f.Optional:i instanceof p||"SkipSelf"===i.ngMetadataName||i===p?n|=f.SkipSelf:i instanceof d||"Self"===i.ngMetadataName||i===d?n|=f.Self:t=i instanceof l||i===l?i.token:i}e.push(et(t,n))}else e.push(et(r))}return e}class it{get(t,e=K){if(e===K){const e=new Error(`NullInjectorError: No provider for ${x(t)}!`);throw e.name="NullInjectorError",e}return e}}class ot{}class st{}function at(t,e){t.forEach(t=>Array.isArray(t)?at(t,e):e(t))}function ct(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ut(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function lt(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function ht(t,e,n){let r=pt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function dt(t,e){const n=pt(t,e);if(n>=0)return t[1|n]}function pt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var ft=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),gt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const bt={},mt=[];let yt=0;function vt(t){return c(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===ft.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||mt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||gt.Emulated,id:"c",styles:t.styles||mt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=yt++,n.inputs=kt(t.inputs,e),n.outputs=kt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(_t):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(wt):null,n})}function _t(t){return Tt(t)||function(t){return t[U]||null}(t)}function wt(t){return function(t){return t[V]||null}(t)}const Ot={};function Ct(t){const e={type:t.type,bootstrap:t.bootstrap||mt,declarations:t.declarations||mt,imports:t.imports||mt,exports:t.exports||mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&c(()=>{Ot[t.id]=t.type}),e}function St(t,e){return c(()=>{const n=Nt(t,!0);n.declarations=e.declarations||mt,n.imports=e.imports||mt,n.exports=e.exports||mt})}function kt(t,e){if(null==t)return bt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Et=vt;function xt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Tt(t){return t[F]||null}function It(t,e){return t.hasOwnProperty(W)?t[W]:null}function Nt(t,e){const n=t[z]||null;if(!n&&!0===e)throw new Error(`Type ${x(t)} does not have '\u0275mod' property.`);return n}function jt(t){return Array.isArray(t)&&"object"==typeof t[1]}function At(t){return Array.isArray(t)&&!0===t[1]}function Pt(t){return 0!=(8&t.flags)}function Rt(t){return 2==(2&t.flags)}function Dt(t){return 1==(1&t.flags)}function Lt(t){return null!==t.template}function Mt(t){return 0!=(512&t[2])}function Ft(t){return"string"==typeof t?t:null==t?"":""+t}function Ut(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ft(t)}const Vt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(M))();function zt(t){return t instanceof Function?t():t}function qt(t,e){const n=e?" in "+e:"";throw new Error(`No provider for ${Ut(t)} found${n}`)}class Wt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ht(){return Bt}function Bt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Kt),Gt}function Gt(){const t=$t(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===bt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Kt(t,e,n,r){const i=$t(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:bt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new Wt(c&&c.currentValue,e,s===bt),t[r]=e}function $t(t){return t.__ngSimpleChanges__||null}Ht.ngInherit=!0;let Jt=void 0;function Zt(t){Jt=t}function Yt(t){return!!t.listen}const Xt={createRenderer:(t,e)=>void 0!==Jt?Jt:"undefined"!=typeof document?document:void 0};function Qt(t){for(;Array.isArray(t);)t=t[0];return t}function te(t,e){return Qt(e[t+20])}function ee(t,e){return Qt(e[t.index])}function ne(t,e){return t.data[e+20]}function re(t,e){return t[e+20]}function ie(t,e){const n=e[t];return jt(n)?n:n[0]}function oe(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function se(t){return 4==(4&t[2])}function ae(t){return 128==(128&t[2])}function ce(t,e){return null===t||null==e?null:t[e]}function ue(t){t[18]=0}function le(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const he={lFrame:je(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function de(){return he.bindingsEnabled}function pe(){return he.lFrame.lView}function fe(){return he.lFrame.tView}function ge(t){he.lFrame.contextLView=t}function be(){return he.lFrame.currentTNode}function me(t,e){he.lFrame.currentTNode=t,he.lFrame.isParent=e}function ye(){return he.lFrame.isParent}function ve(){he.lFrame.isParent=!1}function _e(){return he.isInCheckNoChangesMode}function we(t){he.isInCheckNoChangesMode=t}function Oe(){const t=he.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ce(){return he.lFrame.bindingIndex++}function Se(t,e){const n=he.lFrame;n.bindingIndex=n.bindingRootIndex=t,ke(e)}function ke(t){he.lFrame.currentDirectiveIndex=t}function Ee(){return he.lFrame.currentQueryIndex}function xe(t){he.lFrame.currentQueryIndex=t}function Te(t,e){const n=Ne();he.lFrame=n,n.currentTNode=e,n.lView=t}function Ie(t){const e=Ne(),n=t[1];he.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function Ne(){const t=he.lFrame,e=null===t?null:t.child;return null===e?je(t):e}function je(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ae(){const t=he.lFrame;return he.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Pe=Ae;function Re(){const t=Ae();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function De(){return he.lFrame.selectedIndex}function Le(t){he.lFrame.selectedIndex=t}function Me(){const t=he.lFrame;return ne(t.tView,t.selectedIndex)}function Fe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ue(t,e,n){qe(t,e,3,n)}function Ve(t,e,n,r){(3&t[2])===n&&qe(t,e,n,r)}function ze(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function qe(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(We(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function We(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class He{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Be(t,e,n){const r=Yt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];Ke(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ge(t){return 3===t||4===t||6===t}function Ke(t){return 64===t.charCodeAt(0)}function $e(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Je(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Je(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ze(t){return-1!==t}function Ye(t){return 32767&t}function Xe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Qe=!0;function tn(t){const e=Qe;return Qe=t,e}let en=0;function nn(t,e){const n=on(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,rn(r.data,t),rn(e,null),rn(r.blueprint,null));const i=sn(t,e),o=t.injectorIndex;if(Ze(i)){const t=Ye(i),n=Xe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function rn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function on(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function sn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function an(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(H)&&(r=n[H]),null==r&&(r=n[H]=en++);const i=255&r,o=1<<i,s=64&i,a=32&i,c=e.data;128&i?s?a?c[t+7]|=o:c[t+6]|=o:a?c[t+5]|=o:c[t+4]|=o:s?a?c[t+3]|=o:c[t+2]|=o:a?c[t+1]|=o:c[t]|=o}(t,e,n)}function cn(t,e,n,r=f.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(H)?t[H]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Te(e,t);try{const t=i();if(null!=t||r&f.Optional)return t;qt(n)}finally{Pe()}}else if("number"==typeof i){if(-1===i)return new gn(t,e);let o=null,s=on(t,e),a=-1,c=r&f.Host?e[16][6]:null;for((-1===s||r&f.SkipSelf)&&(a=-1===s?sn(t,e):e[s+8],-1!==a&&fn(r,!1)?(o=e[1],s=Ye(a),e=Xe(a,e)):s=-1);-1!==s;){const t=e[1];if(pn(i,s,t.data)){const t=ln(s,e,n,o,r,c);if(t!==un)return t}a=e[s+8],-1!==a&&fn(r,e[1].data[s+8]===c)&&pn(i,s,e)?(o=t,s=Ye(a),e=Xe(a,e)):s=-1}}}if(r&f.Optional&&void 0===i&&(i=null),0==(r&(f.Self|f.Host))){const t=e[9],o=Q(void 0);try{return t?t.get(n,i,r&f.Optional):nt(n,i,r&f.Optional)}finally{Q(o)}}if(r&f.Optional)return i;qt(n,"NodeInjector")}const un={};function ln(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],c=hn(a,s,n,null==r?Rt(a)&&Qe:r!=s&&2===a.type,i&f.Host&&o===a);return null!==c?dn(e,s,c,a):un}function hn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,u=o>>20,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=s[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=s[c];if(t&&Lt(t)&&t.type===n)return c}return null}function dn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof He){const s=i;s.resolving&&function(t,e){throw new Error("Circular dependency in DI detected for "+t)}(Ut(o[n]));const a=tn(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Q(s.injectImpl):null;Te(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Bt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==c&&Q(c),tn(a),s.resolving=!1,Pe()}}return i}function pn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function fn(t,e){return!(t&f.Self||t&f.Host&&e)}class gn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return cn(this._tNode,this._lView,t,void 0,e)}}function bn(t){const e=t;if(A(t))return()=>{const t=bn(j(e));return t?t():null};let n=It(e);if(null===n){const t=w(e);n=t&&t.factory}return n||null}function mn(t){return c(()=>{const e=t.prototype.constructor,n=e[W]||bn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[W]||bn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function yn(t){return t.ngDebugContext}function vn(t){return t.ngOriginalError}function _n(t,...e){t.error(...e)}class wn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||_n}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?yn(t)?yn(t):this._findContext(vn(t)):null}_findOriginalError(t){let e=vn(t);for(;e&&vn(e);)e=vn(e);return e}}class On{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Cn extends On{getTypeName(){return"HTML"}}class Sn extends On{getTypeName(){return"Style"}}class kn extends On{getTypeName(){return"Script"}}class En extends On{getTypeName(){return"URL"}}class xn extends On{getTypeName(){return"ResourceURL"}}function Tn(t){return t instanceof On?t.changingThisBreaksApplicationSecurity:t}function In(t,e){const n=Nn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Nn(t){return t instanceof On&&t.getTypeName()||null}function jn(t){return new Cn(t)}function An(t){return new Sn(t)}function Pn(t){return new kn(t)}function Rn(t){return new En(t)}function Dn(t){return new xn(t)}let Ln=!0,Mn=!1;function Fn(){return Mn=!0,Ln}function Un(){if(Mn)throw new Error("Cannot enable prod mode after platform setup.");Ln=!1}class Vn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class zn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const qn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Wn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Hn(t){return(t=String(t)).match(qn)||t.match(Wn)?t:(Fn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Bn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Gn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Kn=Bn("area,br,col,hr,img,wbr"),$n=Bn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jn=Bn("rp,rt"),Zn=Gn(Jn,$n),Yn=Gn(Kn,Gn($n,Bn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gn(Jn,Bn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zn),Xn=Bn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qn=Bn("srcset"),tr=Gn(Xn,Qn,Bn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),er=Bn("script,style,template");class nr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Yn.hasOwnProperty(e))return this.sanitizedSomething=!0,!er.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!tr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Xn[o]&&(s=Hn(s)),Qn[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Hn(t.trim())).join(", ")),this.buf.push(" ",e,'="',or(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Yn.hasOwnProperty(e)&&!Kn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(or(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const rr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ir=/([^\#-~ |!])/g;function or(t){return t.replace(/&/g,"&amp;").replace(rr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(ir,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sr;function ar(t,e){let n=null;try{sr=sr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Vn:new zn(t)}(t);let r=e?String(e):"";n=sr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=sr.getInertBodyElement(r)}while(r!==o);const s=new nr,a=s.sanitizeChildren(cr(n)||n);return Fn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=cr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function cr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ur=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function lr(t){const e=dr();return e?e.sanitize(ur.URL,t)||"":In(t,"URL")?Tn(t):Hn(Ft(t))}function hr(t){const e=dr();if(e)return e.sanitize(ur.RESOURCE_URL,t)||"";if(In(t,"ResourceURL"))return Tn(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function dr(){const t=pe();return t&&t[12]}function pr(t,e){t.__ngContext__=e}function fr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function gr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==fr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function br(t){return 0===t.type&&"ng-template"!==t.tagName}function mr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function yr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ge(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!mr(t,c,n)||""===c&&1===e.length){if(vr(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!gr(t.attrs,u,n)){if(vr(r))return!1;s=!0}continue}const l=_r(8&r?"class":c,i,br(t),n);if(-1===l){if(vr(r))return!1;s=!0;continue}if(""!==u){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==fr(e,u,0)||2&r&&u!==t){if(vr(r))return!1;s=!0}}}}else{if(!s&&!vr(r)&&!vr(c))return!1;if(s&&vr(c))continue;s=!1,r=c|1&r}}return vr(r)||s}function vr(t){return 0==(1&t)}function _r(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function wr(t,e,n=!1){for(let r=0;r<e.length;r++)if(yr(t,e[r],n))return!0;return!1}function Or(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Cr(t,e){return t?":not("+e.trim()+")":e}function Sr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||vr(s)||(e+=Cr(o,i),i=""),r=s,o=o||!vr(r);n++}return""!==i&&(e+=Cr(o,i)),e}const kr={};function Er(t){const e=t[3];return At(e)?e[3]:e}function xr(t){return Ir(t[13])}function Tr(t){return Ir(t[4])}function Ir(t){for(;null!==t&&!At(t);)t=t[4];return t}function Nr(t){jr(fe(),pe(),De()+t,_e())}function jr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ue(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ve(e,r,0,n)}Le(n)}function Ar(t,e){return t<<17|e<<2}function Pr(t){return t>>17&32767}function Rr(t){return 2|t}function Dr(t){return(131068&t)>>2}function Lr(t,e){return-131069&t|e<<2}function Mr(t){return 1|t}function Fr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];xe(i),n.contentQueries(2,e[o],o)}}}function Ur(t,e,n){return Yt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Vr(t,e,n,r,i,o,s,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ue(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function zr(t,e,n,r,i){const o=e+20,s=t.data[o]||function(t,e,n,r,i){const o=be(),s=ye(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s&&null==o.child&&null!==a.parent?o.child=a:s||(o.next=a)),a}(t,o,n,r,i);return me(s,!0),s}function qr(t,e,n){Ie(e);try{const r=t.viewQuery;null!==r&&vi(1,r,n);const i=t.template;null!==i&&Br(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Fr(t,e),t.staticViewQueries&&vi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)fi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Re()}}function Wr(t,e,n,r){const i=e[2];if(256==(256&i))return;Ie(e);const o=_e();try{ue(e),he.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Br(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Ue(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ve(e,n,0,null),ze(e,0)}if(function(t){for(let e=xr(t);null!==e;e=Tr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&le(r,1),n[2]|=1024}}}(e),function(t){for(let e=xr(t);null!==e;e=Tr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];ae(n)&&Wr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Fr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Ue(e,n)}else{const n=t.contentHooks;null!==n&&Ve(e,n,1),ze(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,Le(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(Se(r,i),s(2,e[i])),i++)}}}finally{Le(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)pi(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&vi(2,c,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Ue(e,n)}else{const n=t.viewHooks;null!==n&&Ve(e,n,2),ze(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,le(e[3],-1))}finally{Re()}}function Hr(t,e,n,r){const i=e[10],o=!_e(),s=se(e);try{o&&!s&&i.begin&&i.begin(),s&&qr(t,e,r),Wr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Br(t,e,n,r,i){const o=De();try{Le(-1),2&r&&e.length>20&&jr(t,e,0,_e()),n(r,i)}finally{Le(o)}}function Gr(t,e,n){if(Pt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Kr(t,e,n){de()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||nn(n,e),pr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Lt(r);o&&ui(e,n,r);const c=dn(e,t,a,n);pr(c,e),null!==s&&li(0,a-i,c,r,0,s),o&&(ie(n.index,e)[8]=c)}}(t,e,n,ee(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,c=he.lFrame.currentDirectiveIndex;try{Le(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ke(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ri(r,i):s&&o.push(null)}}finally{Le(-1),ke(c)}}(t,e,n))}function $r(t,e,n=ee){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Jr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Zr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Zr(t,e,n,r,i,o,s,a,c,u){const l=20+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:kr);return n}(l,h),p="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1}}function Yr(t,e,n,r){const i=wi(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Xr(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Qr(t,e,n,r,i,o,s,a){const c=ee(e,n);let u,l=e.inputs;var h;!a&&null!=l&&(u=l[r])?(Ci(t,n,u,r,i),Rt(e)&&function(t,e){const n=ie(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.tagName||"",r):i,Yt(o)?o.setProperty(c,r,i):Ke(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function ti(t,e,n,r){let i=!1;if(de()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];wr(n,s.selectors,!1)&&(i||(i=[]),an(nn(n,e),t,s.type),Lt(s)?(oi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,ai(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}ii(t,n,o.length);let a=!1,c=!1;for(let i=0;i<o.length;i++){const u=o[i];n.mergedAttrs=$e(n.mergedAttrs,u.hostAttrs),ci(t,e,u),si(t.data.length-1,u,s),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),c||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),c=!0),ei(t,u),r+=u.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||br(e)?null:hi(n,i);o.push(u),s=Xr(n,c,s),a=Xr(t.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),ni(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=$e(n.mergedAttrs,n.attrs),i}function ei(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ni(t,e,n){for(let r=0;r<n;r++)e.push(kr),t.blueprint.push(kr),t.data.push(null)}function ri(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ii(t,e,n){const r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function oi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function si(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Lt(e)&&(n[""]=t)}}function ai(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ci(t,e,n){t.data.push(n);const r=n.factory||(n.factory=It(n.type)),i=new He(r,Lt(n),null);t.blueprint.push(i),e.push(i)}function ui(t,e,n){const r=ee(e,t),i=Jr(n),o=t[10],s=gi(t,Vr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function li(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function hi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function di(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function pi(t,e){const n=ie(e,t);if(ae(n)){const t=n[1];80&n[2]?Wr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=xr(e);null!==r;r=Tr(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Wr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=ie(n[r],e);ae(i)&&i[5]>0&&t(i)}}(n)}}function fi(t,e){const n=ie(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),qr(r,n,n[8])}function gi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function bi(t){for(;t;){t[2]|=64;const e=Er(t);if(Mt(t)&&!e)return t;t=e}return null}function mi(t,e,n){const r=e[10];r.begin&&r.begin();try{Wr(t,e,t.template,n)}catch(i){throw Oi(e,i),i}finally{r.end&&r.end()}}function yi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=oe(n),i=r[1];Hr(i,r,i.template,n)}}(t[8])}function vi(t,e,n){xe(0),e(t,n)}const _i=(()=>Promise.resolve(null))();function wi(t){return t[7]||(t[7]=[])}function Oi(t,e){const n=t[9],r=n?n.get(wn,null):null;r&&r.handleError(e)}function Ci(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],u=t.data[s];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function Si(t,e,n,r,i){if(null!=r){let o,s=!1;At(r)?o=r:jt(r)&&(s=!0,r=r[0]);const a=Qt(r);0===t&&null!==n?null==i?ji(e,n,a):Ni(e,n,a,i||null):1===t&&null!==n?Ni(e,n,a,i||null):2===t?function(t,e,n){const r=Pi(t,e);r&&function(t,e,n,r){Yt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Qt(n)&&Si(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];Mi(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function ki(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,le(i,-1)),n.splice(r,1)}function Ei(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&ki(o,r),e>0&&(t[n-1][4]=r[4]);const s=ut(t,10+e);Mi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function xi(t,e){if(!(256&e[2])){const n=e[11];Yt(n)&&n.destroyNode&&Mi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ti(t[1],t);for(;e;){let n=null;if(jt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)jt(e)&&Ti(e[1],e),e=e[3];null===e&&(e=t),jt(e)&&Ti(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ti(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof He)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):Qt(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Yt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&At(e[3])){n!==e[3]&&ki(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Ii(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return ee(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==gt.ShadowDom&&n!==gt.Native)return null}return ee(r,n)}function Ni(t,e,n,r){Yt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function ji(t,e,n){Yt(t)?t.appendChild(e,n):e.appendChild(n)}function Ai(t,e,n,r){null!==r?Ni(t,e,n,r):ji(t,e,n)}function Pi(t,e){return Yt(t)?t.parentNode(e):e.parentNode}function Ri(t,e){return 3===t.type||4===t.type?ee(t,e):null}function Di(t,e,n,r){const i=Ii(t,r,e);if(null!=i){const t=e[11],o=Ri(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Ai(t,i,n[e],o);else Ai(t,i,n,o)}}function Li(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;s&&0===e&&(a&&pr(Qt(a),r),n.flags|=4),64!=(64&n.flags)&&(3===c||4===c?(Li(t,e,n.child,r,i,o,!1),Si(e,t,i,a,o)):1===c?Fi(t,e,r,n,i,o):Si(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Mi(t,e,n,r,i,o){Li(n,r,t.firstChild,e,i,o,!1)}function Fi(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Si(e,t,i,a[c],o);else Li(t,e,a,s[3],i,o,!0)}function Ui(t,e,n){Yt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Vi(t,e,n){Yt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class zi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(Qt(s)),At(s))for(let e=10;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=Er(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}xi(this._lView[1],this._lView)}onDestroy(t){Yr(this._lView[1],this._lView,null,t)}markForCheck(){bi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){mi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){we(!0);try{mi(t,e,n)}finally{we(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Mi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class qi extends zi{constructor(t){super(t),this._view=t}detectChanges(){yi(this._view)}checkNoChanges(){!function(t){we(!0);try{yi(t)}finally{we(!1)}}(this._view)}get context(){return null}}let Wi,Hi,Bi;function Gi(t,e,n){return Wi||(Wi=class extends t{}),new Wi(ee(e,n))}function Ki(t,e,n,r){return Hi||(Hi=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Vr(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),qr(e,n,t),new zi(n)}}),0===n.type?new Hi(r,n,Gi(e,n,r)):null}function $i(t,e,n,r){let i;Bi||(Bi=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Gi(e,this._hostTNode,this._hostView)}get injector(){return new gn(this._hostTNode,this._hostView)}get parentInjector(){const t=sn(this._hostTNode,this._hostView);if(Ze(t)){const e=Xe(t,this._hostView),n=Ye(t);return new gn(e[1].data[n+8],e)}return new gn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ot,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),At(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Bi(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],ct(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=function t(e,n){const r=10+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return ee(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return At(e)?t(-1,e):Qt(e)}}{const t=n[16],i=t[6],o=Er(t),s=i.projection[r.projection];return null!=s?e(o,s):e(n,r.next)}}return null}(e,i)}return n[7]}(i,o),a=n[11],c=Pi(a,o[7]);return null!==c&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Mi(t,r,n,1,i,o)}(r,o[6],a,n,c,s),t.attachToViewContainerRef(this),ct(o[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ei(this._lContainer,e);n&&(ut(this._lContainer[8],e),xi(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ei(this._lContainer,e);return n&&null!=ut(this._lContainer[8],e)?new zi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(At(o))i=o;else{let t;if(3===n.type)t=Qt(o);else if(t=r[11].createComment(""),Mt(r)){const e=r[11],i=ee(n,r);Ni(e,Pi(e,i),t,function(t,e){return Yt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Di(r[1],r,t,n);r[n.index]=i=di(o,r,t,n),gi(r,i)}return new Bi(i,n,r)}function Ji(t=!1){return function(t,e,n){if(!n&&Rt(t)){const n=ie(t.index,e);return new zi(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new zi(e[16],e):null}(be(),pe(),t)}let Zi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Yi(),t})();const Yi=Ji,Xi=Function,Qi=new B("Set Injector scope."),to={},eo={},no=[];let ro=void 0;function io(){return void 0===ro&&(ro=new it),ro}function oo(t,e=null,n=null,r){return new so(t,n,e||io(),r)}class so{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&at(e,n=>this.processProvider(n,t,e)),at([t],t=>this.processInjectorType(t,[],i)),this.records.set(G,uo(void 0,this));const o=this.records.get(Qi);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:x(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=K,n=f.Default){this.assertNotDestroyed();const r=X(this);try{if(!(n&f.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof B)&&v(t);e=n&&this.injectableDefInScope(n)?uo(ao(t),to):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&f.Self?io():this.parent).get(t,e=n&f.Optional&&e===K?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(x(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=x(e);if(Array.isArray(e))i=e.map(x).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):x(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace($,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{X(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(x(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=j(t)))return!1;let r=w(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=w(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{at(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];at(r,t=>this.processProvider(t,n,r||no))}}this.injectorDefTypes.add(o),this.records.set(o,uo(r.factory,to));const a=r.providers;if(null!=a&&!s){const e=t;at(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ho(t=j(t))?t:j(t&&t.provide);const i=function(t,e,n){return lo(t)?uo(void 0,t.useValue):uo(co(t),to)}(t);if(ho(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=uo(void 0,to,!0),e.factory=()=>rt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===to&&(e.value=eo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ao(t){const e=v(t),n=null!==e?e.factory:It(t);if(null!==n)return n;const r=w(t);if(null!==r)return r.factory;if(t instanceof B)throw new Error(`Token ${x(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=lt(e,"?");throw new Error(`Can't resolve all parameters for ${x(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[O]||t[k]||t[S]&&t[S]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function co(t,e,n){let r=void 0;if(ho(t)){const e=j(t);return It(e)||ao(e)}if(lo(t))r=()=>j(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...rt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>et(j(t.useExisting));else{const e=j(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return It(e)||ao(e);r=()=>new e(...rt(t.deps))}var i;return r}function uo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function lo(t){return null!==t&&"object"==typeof t&&J in t}function ho(t){return"function"==typeof t}const po=function(t,e,n){return function(t,e=null,n=null,r){const i=oo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let fo=(()=>{class t{static create(t,e){return Array.isArray(t)?po(t,e,""):po(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=K,t.NULL=new it,t.\u0275prov=m({token:t,providedIn:"any",factory:()=>et(G)}),t.__NG_ELEMENT_ID__=-1,t})();const go=new B("AnalyzeForEntryComponents");function bo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=T(i,t):2==o&&(r=T(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function mo(t,e){const n=oe(t)[1],r=n.data.length-1;Fe(n,{directiveStart:r,directiveEnd:r+1})}function yo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Lt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=vo(t.inputs),e.declaredInputs=vo(t.declaredInputs),e.outputs=vo(t.outputs);const n=i.hostBindings;n&&Oo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&_o(t,o),s&&wo(t,s),b(t.inputs,i.inputs),b(t.declaredInputs,i.declaredInputs),b(t.outputs,i.outputs),Lt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===yo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$e(i.hostAttrs,n=$e(n,i.hostAttrs))}}(r)}function vo(t){return t===bt?{}:t===mt?[]:t}function _o(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function wo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Oo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Co=null;function So(){if(!Co){const t=M.Symbol;if(t&&t.iterator)Co=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Co=n)}}}return Co}class ko{constructor(t){this.wrapped=t}static wrap(t){return new ko(t)}static unwrap(t){return ko.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ko}}function Eo(t){return!!xo(t)&&(Array.isArray(t)||!(t instanceof Map)&&So()in t)}function xo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function To(t,e,n){return t[e]=n}function Io(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function No(t,e,n,r){const i=pe();return Io(i,Ce(),e)&&(fe(),function(t,e,n,r,i,o){const s=ee(t,e),a=e[11];if(null==r)Yt(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?Ft(r):i(r,t.tagName||"",n);Yt(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(Me(),i,t,e,n,r)),No}function jo(t,e,n,r){return Io(t,Ce(),n)?e+Ft(n)+r:kr}function Ao(t,e,n,r,i,o,s,a){const c=pe(),u=fe(),l=t+20,h=u.firstCreatePass?function(t,e,n,r,i,o,s,a,c){const u=e.consts,l=zr(e,t,0,s||null,ce(u,a));ti(e,n,l,ce(u,c)),Fe(e,l);const h=l.tViews=Zr(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,u,c,e,n,r,i,o,s):u.data[l];me(h,!1);const d=c[11].createComment("");Di(u,c,d,h),pr(d,c),gi(c,c[l]=di(d,c,d,h)),Dt(h)&&Kr(u,c,h),null!=s&&$r(c,h,a)}function Po(t){return re(he.lFrame.contextLView,t)}function Ro(t,e=f.Default){const n=pe();return null===n?et(t,e):cn(be(),n,j(t),e)}function Do(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ge(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(be(),t)}function Lo(t,e,n){const r=pe();return Io(r,Ce(),e)&&Qr(fe(),Me(),r,t,e,r[11],n,!1),Lo}function Mo(t,e,n,r,i){const o=i?"class":"style";Ci(t,n,e.inputs[o],o,r)}function Fo(t,e,n,r){const i=pe(),o=fe(),s=20+t,a=i[11],c=i[s]=Ur(e,a,he.lFrame.currentNamespace),u=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,c=zr(e,t,2,i,ce(a,o));return ti(e,n,c,ce(a,s)),null!==c.attrs&&bo(c,c.attrs,!1),null!==c.mergedAttrs&&bo(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];me(u,!0);const l=u.mergedAttrs;null!==l&&Be(a,c,l);const h=u.classes;null!==h&&Vi(a,c,h);const d=u.styles;null!==d&&Ui(a,c,d),Di(o,i,c,u),0===he.lFrame.elementDepthCount&&pr(c,i),he.lFrame.elementDepthCount++,Dt(u)&&(Kr(o,i,u),Gr(o,u,i)),null!==r&&$r(i,u)}function Uo(){let t=be();ye()?ve():(t=t.parent,me(t,!1));const e=t;he.lFrame.elementDepthCount--;const n=fe();n.firstCreatePass&&(Fe(n,t),Pt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Mo(n,e,pe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Mo(n,e,pe(),e.stylesWithoutHost,!1)}function Vo(t,e,n,r){Fo(t,e,n,r),Uo()}function zo(t,e,n){const r=pe(),i=fe(),o=t+20,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=ce(o,r),a=zr(e,t,3,"ng-container",s);return null!==s&&bo(a,s,!0),ti(e,n,a,ce(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[o];me(s,!0);const a=r[o]=r[11].createComment("");Di(i,r,a,s),pr(a,r),Dt(s)&&(Kr(i,r,s),Gr(i,s,r)),null!=n&&$r(r,s)}function qo(){let t=be();const e=fe();ye()?ve():(t=t.parent,me(t,!1)),e.firstCreatePass&&(Fe(e,t),Pt(t)&&e.queries.elementEnd(t))}function Wo(){return pe()}function Ho(t){return!!t&&"function"==typeof t.then}function Bo(t){return!!t&&"function"==typeof t.subscribe}function Go(t,e,n=!1,r){const i=pe(),o=fe(),s=be();return function(t,e,n,r,i,o,s=!1,a){const c=Dt(r),u=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=wi(e);let h=!0;if(2===r.type){const d=ee(r,e),p=a?a(d):bt,f=p.target||d,g=l.length,b=a?t=>a(Qt(t[r.index])).target:r.index;if(Yt(n)){let s=null;if(!a&&c&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=$o(r,e,o,!1);const t=n.listen(p.name||f,i,o);l.push(o,t),u&&u.push(i,b,g,g+1)}}else o=$o(r,e,o,!0),f.addEventListener(i,o,s),l.push(o),u&&u.push(i,b,g,s)}const d=r.outputs;let p;if(h&&null!==d&&(p=d[i])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(o),s=l.length;l.push(o,t),u&&u.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Go}function Ko(t,e,n){try{return!1!==e(n)}catch(r){return Oi(t,r),!1}}function $o(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?ie(t.index,e):e;0==(32&e[2])&&bi(s);let a=Ko(e,n,o),c=i.__ngNextListenerFn__;for(;c;)a=Ko(e,c,o)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Jo(t=1){return function(t){return(he.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,he.lFrame.contextLView))[8]}(t)}function Zo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?wr(t,o,!0):Or(r,o))return i}else n=i}return n}function Yo(t){const e=pe()[16][6];if(!e.projection){const n=e.projection=lt(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Zo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Xo(t,e=0,n){const r=pe(),i=fe(),o=zr(i,t,1,null,n||null);null===o.projection&&(o.projection=e),ve(),function(t,e,n){Fi(e[11],0,e,n,Ii(t,n,e),Ri(n.parent||e[6],e))}(i,r,o)}function Qo(t,e,n){return ts(t,"",e,"",n),Qo}function ts(t,e,n,r,i){const o=pe(),s=jo(o,e,n,r);return s!==kr&&Qr(fe(),Me(),o,t,s,o[11],i,!1),ts}const es=[];function ns(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Pr(o):Dr(o),c=!1;for(;0!==a&&(!1===c||s);){const n=t[a+1];rs(t[a],e)&&(c=!0,t[a+1]=r?Mr(n):Rr(n)),a=r?Pr(n):Dr(n)}c&&(t[n+1]=r?Rr(o):Mr(o))}function rs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&pt(t,e)>=0}function is(t,e){return function(t,e,n,r){const i=pe(),o=fe(),s=function(t){const e=he.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const r=i[De()+20],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=he.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=ss(n=os(null,t,e,n,true),e.attrs,true),o=null);else{const r=e.directiveStylingLast;if(-1===r||t[r]!==i)if(n=os(i,t,e,n,true),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==Dr(r))return t[Pr(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=os(null,t,e,n[1],true),n=ss(n,e.attrs,true),function(t,e,n,r){t[Pr(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ss(r,t[o].hostAttrs,true);return ss(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,r,e),function(t,e,n,r,i,o){let s=e.classBindings,a=Pr(s),c=Dr(s);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||pt(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=Pr(t[a+1]);t[r+1]=Ar(e,a),0!==e&&(t[e+1]=Lr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Ar(a,0),0!==a&&(t[a+1]=Lr(t[a+1],r)),a=r;else t[r+1]=Ar(c,0),0===a?a=r:t[c+1]=Lr(t[c+1],r),c=r;l&&(t[r+1]=Rr(t[r+1])),ns(t,u,r,!0),ns(t,u,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&pt(o,e)>=0&&(n[r+1]=Mr(n[r+1]))}(e,u,t,r),s=Ar(a,c),e.classBindings=s}(i,r,e,n,o)}}(o,t,s),e!==kr&&Io(i,s,e)&&function(t,e,n,r,i,o,s,a){if(2!==e.type)return;const c=t.data,u=c[a+1];cs(1==(1&u)?as(c,e,n,i,Dr(u),true):void 0)||(cs(o)||function(t){return 2==(2&t)}(u)&&(o=as(c,null,n,i,a,true)),function(t,e,n,r,i){const o=Yt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,te(De(),n),i,o))}(o,o.data[De()+20],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=x(Tn(t))),t}(e),0,s)}(t,e),is}function os(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=ss(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ss(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ht(t,s,!!n||e[++o]))}return void 0===t?null:t}function as(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),c=o?e[1]:e,u=null===c;let l=n[i+1];l===kr&&(l=u?es:void 0);let h=u?dt(l,r):c===r?l:void 0;if(o&&!cs(h)&&(h=dt(e,r)),cs(h)&&(a=h,s))return a;const d=t[i+1];i=s?Pr(d):Dr(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=dt(t,r))}return a}function cs(t){return void 0!==t}function us(t,e=""){const n=pe(),r=fe(),i=t+20,o=r.firstCreatePass?zr(r,t,2,null,null):r.data[i],s=n[i]=function(t,e){return Yt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Di(r,n,s,o),me(o,!1)}function ls(t){return hs("",t,""),ls}function hs(t,e,n){const r=pe(),i=jo(r,t,e,n);return i!==kr&&function(t,e,n){const r=te(e,t),i=t[11];Yt(i)?i.setValue(r,n):r.textContent=n}(r,De(),i),hs}function ds(t,e,n){const r=pe();return Io(r,Ce(),e)&&Qr(fe(),Me(),r,t,e,r[11],n,!0),ds}const ps=void 0;var fs=["en",[["a","p"],["AM","PM"],ps],[["AM","PM"],ps,ps],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ps,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ps,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ps,"{1} 'at' {0}",ps],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let gs={};function bs(t,e,n){"string"!=typeof e&&(n=e,e=t[ws.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),gs[e]=t,n&&(gs[e][ws.ExtraData]=n)}function ms(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=_s(e);if(n)return n;const r=e.split("-")[0];if(n=_s(r),n)return n;if("en"===r)return fs;throw new Error(`Missing locale data for the locale "${t}".`)}function ys(t){return ms(t)[ws.CurrencyCode]||null}function vs(t){return ms(t)[ws.PluralCase]}function _s(t){return t in gs||(gs[t]=M.ng&&M.ng.common&&M.ng.common.locales&&M.ng.common.locales[t]),gs[t]}var ws=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let Os="en-US";function Cs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Os=t.toLowerCase().replace(/_/g,"-"))}function Ss(t,e,n,r,i){if(t=j(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ss(t[o],e,n,r,i);else{const o=fe(),s=pe();let a=ho(t)?t:j(t.provide),c=co(t);const u=be(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(ho(t)||!t.multi){const r=new He(c,i,Ro),p=xs(a,e,i?l:l+d,h);-1===p?(an(nn(u,s),o,a),ks(o,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),s.push(r)):(n[p]=r,s[p]=r)}else{const p=xs(a,e,l+d,h),f=xs(a,e,l,l+d),g=p>=0&&n[p],b=f>=0&&n[f];if(i&&!b||!i&&!g){an(nn(u,s),o,a);const l=function(t,e,n,r,i){const o=new He(t,n,Ro);return o.multi=[],o.index=e,o.componentProviders=0,Es(o,i,r&&!n),o}(i?Is:Ts,n.length,i,r,c);!i&&b&&(n[f].providerFactory=l),ks(o,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),s.push(l)}else ks(o,t,p>-1?p:f,Es(n[i?f:p],c,!i&&r));!i&&r&&b&&n[f].componentProviders++}}}function ks(t,e,n,r){const i=ho(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Es(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function xs(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ts(t,e,n,r){return Ns(this.multi,[])}function Is(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=dn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Ns(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ns(i,o);return o}function Ns(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function js(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=fe();if(r.firstCreatePass){const i=Lt(t);Ss(n,r.data,r.blueprint,i,!0),Ss(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class As{}class Ps{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${x(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Rs=(()=>{class t{}return t.NULL=new Ps,t})(),Ds=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Ls(t),t})();const Ls=function(t){return Gi(t,be(),pe())};class Ms{}var Fs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Us=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Vs(),t})();const Vs=function(){const t=pe(),e=ie(be().index,t);return function(t){const e=t[11];if(Yt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(jt(e)?e:t)};let zs=(()=>{class t{}return t.\u0275prov=m({token:t,providedIn:"root",factory:()=>null}),t})();class qs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ws=new qs("10.2.5");class Hs{constructor(){}supports(t){return Eo(t)}create(t){return new Gs(t)}}const Bs=(t,e)=>e;class Gs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Bs}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Zs(n,r,i)?e:n,s=Zs(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Eo(t))throw new Error(`Error trying to diff '${x(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[So()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ks(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Js),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Js),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ks{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $s{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Js{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new $s,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ys{constructor(){}supports(t){return t instanceof Map||xo(t)}create(){return new Xs}}class Xs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||xo(t)))throw new Error(`Error trying to diff '${x(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Qs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Qs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ta=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=m({token:t,providedIn:"root",factory:()=>new t([new Hs])}),t})(),ea=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=m({token:t,providedIn:"root",factory:()=>new t([new Ys])}),t})();const na=[new Ys],ra=new ta([new Hs]),ia=new ea(na);let oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>sa(t,Ds),t})();const sa=function(t,e){return Ki(t,e,be(),pe())};let aa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ca(t,Ds),t})();const ca=function(t,e){return $i(t,e,be(),pe())},ua={};class la extends Rs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Tt(t);return new pa(e,this.ngModule)}}function ha(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const da=new B("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Vt});class pa extends As{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Sr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ha(this.componentDef.inputs)}get outputs(){return ha(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ua,i);return o!==ua||r===ua?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ms,Xt),s=i.get(zs,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(Yt(t))return t.selectRootElement(e,n===gt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ur(c,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Vt,clean:_i,playerHandler:null,flags:0},d=Zr(0,null,null,1,0,null,null,null,null,null),p=Vr(null,d,h,l,null,null,o,a,s,i);let f,g;Ie(p);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=zr(s,0,2,null,null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(bo(a,c,!0),null!==t&&(Be(i,t,c),null!==a.classes&&Vi(i,t,a.classes),null!==a.styles&&Ui(i,t,a.styles)));const u=r.createRenderer(t,e),l=Vr(n,Jr(e),null,e.onPush?64:16,n[20],a,r,u,null,null);return s.firstCreatePass&&(an(nn(a,n),s,e.type),oi(s,a),ai(a,n.length,1)),gi(n,l),n[20]=l}(u,this.componentDef,p,o,a);if(u)if(n)Be(a,u,["ng-version",Ws.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!vr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Be(a,u,t),e&&e.length>0&&Vi(a,u,e.join(" "))}if(g=ne(d,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}f=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=be();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ii(t,r,1),ci(t,e,n));const i=dn(e,t,e.length-1,r);pr(i,e);const o=ee(r,e);return o&&pr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=be();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Le(a.index-20);const t=n[1];ei(t,e),ni(t,n,e.hostVars),ri(e,s)}return s}(t,this.componentDef,p,h,[mo]),qr(d,p,null)}finally{Re()}return new fa(this.componentType,f,Gi(Ds,g,p),p,g)}}class fa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new qi(r),this.componentType=t}get injector(){return new gn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const ga=new Map;class ba extends ot{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new la(this);const n=Nt(t),r=t[q]||null;r&&Cs(r),this._bootstrapComponents=zt(n.bootstrap),this._r3Injector=oo(t,e,[{provide:ot,useValue:this},{provide:Rs,useValue:this.componentFactoryResolver}],x(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=fo.THROW_IF_NOT_FOUND,n=f.Default){return t===fo||t===ot||t===G?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ma extends st{constructor(t){super(),this.moduleType=t,null!==Nt(t)&&function(t){const e=new Set;!function t(n){const r=Nt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${x(e)} vs ${x(e.name)}`)}(i,ga.get(i),n),ga.set(i,n));const o=zt(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new ba(this.moduleType,t)}}function ya(t,e,n){const r=Oe()+t,i=pe();return i[r]===kr?To(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function va(t,e,n,r){return wa(pe(),Oe(),t,e,n,r)}function _a(t,e){const n=t[e];return n===kr?void 0:n}function wa(t,e,n,r,i,o){const s=e+n;return Io(t,s,i)?To(t,s+1,o?r.call(o,i):r(i)):_a(t,s+1)}function Oa(t,e){const n=fe();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=It(r.type)),s=Q(Ro);try{const e=tn(!1),r=o();return tn(e),function(t,e,n,r){const i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,pe(),t,r),r}finally{Q(s)}}function Ca(t,e,n){const r=pe(),i=re(r,t);return Ea(r,ka(r,t)?wa(r,Oe(),e,i.transform,n,i):i.transform(n))}function Sa(t,e,n,r){const i=pe(),o=re(i,t);return Ea(i,ka(i,t)?function(t,e,n,r,i,o,s){const a=e+n;return function(t,e,n,r){const i=Io(t,e,n);return Io(t,e+1,r)||i}(t,a,i,o)?To(t,a+2,s?r.call(s,i,o):r(i,o)):_a(t,a+2)}(i,Oe(),e,o.transform,n,r,o):o.transform(n,r))}function ka(t,e){return t[1].data[e+20].pure}function Ea(t,e){return ko.isWrapped(e)&&(e=ko.unwrap(e),t[he.lFrame.bindingIndex]=kr),e}const xa=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function Ta(){return this._results[So()]()}class Ia{constructor(){this.dirty=!0,this._results=[],this.changes=new xa,this.length=0;const t=So(),e=Ia.prototype;e[t]||(e[t]=Ta)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Na{constructor(t){this.queryList=t,this.matches=null}clone(){return new Na(this.queryList)}setDirty(){this.queryList.setDirty()}}class ja{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ja(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==za(t,e).matches&&this.queries[e].setDirty()}}class Aa{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Pa{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Pa(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ra{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ra(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Da(e,i)),this.matchTNodeWithReadOption(t,e,hn(e,t,i,!1,!1))}else n===oa?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,hn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ds||r===aa||r===oa&&0===e.type)this.addMatch(e.index,-2);else{const n=hn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Da(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function La(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?Gi(Ds,t,e):0===t.type?Ki(oa,Ds,t,e):null}(e,t):-2===n?function(t,e,n){return n===Ds?Gi(Ds,e,t):n===oa?Ki(oa,Ds,e,t):n===aa?$i(aa,Ds,e,t):void 0}(t,e,r):dn(t,t[1],n,e)}function Ma(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:La(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Fa(t){const e=pe(),n=fe(),r=Ee();xe(r+1);const i=za(n,r);if(t.dirty&&se(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=Ma(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):Ma(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Ua(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Pa),t.queries.track(new Ra(e,n))}(t,new Aa(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new Ia;Yr(t,e,n,n.destroy),null===e[19]&&(e[19]=new ja),e[19].queries.push(new Na(n))}(t,e)}(fe(),pe(),e,n,r,0,be(),t)}function Va(){return t=pe(),e=Ee(),t[19].queries[e].queryList;var t,e}function za(t,e){return t.queries.getByIndex(e)}function qa(t,e){return Ki(oa,Ds,t,e)}function Wa(t=f.Default){const e=Ji(!0);if(null!=e||t&f.Optional)return e;qt("ChangeDetectorRef")}const Ha=new B("Application Initializer");let Ba=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ho(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(et(Ha,8))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();const Ga=new B("AppId"),Ka={provide:Ga,useFactory:function(){return`${$a()}${$a()}${$a()}`},deps:[]};function $a(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ja=new B("Platform Initializer"),Za=new B("Platform ID"),Ya=new B("appBootstrapListener");let Xa=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();const Qa=new B("LocaleId"),tc=new B("DefaultCurrencyCode");class ec{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const nc=function(t){return new ma(t)},rc=nc,ic=function(t){return Promise.resolve(nc(t))},oc=function(t){const e=nc(t),n=zt(Nt(t).declarations).reduce((t,e)=>{const n=Tt(e);return n&&t.push(new pa(n)),t},[]);return new ec(e,n)},sc=oc,ac=function(t){return Promise.resolve(oc(t))};let cc=(()=>{class t{constructor(){this.compileModuleSync=rc,this.compileModuleAsync=ic,this.compileModuleAndAllComponentsSync=sc,this.compileModuleAndAllComponentsAsync=ac}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();const uc=(()=>Promise.resolve(0))();function lc(t){"undefined"==typeof Zone?uc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class hc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xa(!1),this.onMicrotaskEmpty=new xa(!1),this.onStable=new xa(!1),this.onError=new xa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=M.requestAnimationFrame,e=M.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(M,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,gc(t),fc(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),gc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return bc(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),mc(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return bc(t),e.invoke(r,i,o,s,a)}finally{mc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,gc(t),fc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(hc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,pc,dc,dc);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function dc(){}const pc={};function fc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function bc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function mc(t){t._nesting--,fc(t)}class yc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xa,this.onMicrotaskEmpty=new xa,this.onStable=new xa,this.onError=new xa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let vc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hc.assertNotInAngularZone(),lc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(et(hc))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})(),_c=(()=>{class t{constructor(){this._applications=new Map,Sc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Sc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();class wc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Oc(t){Sc=t}let Cc,Sc=new wc;const kc=new B("AllowMultipleToken");class Ec{constructor(t,e){this.name=t,this.token=e}}function xc(t,e,n=[]){const r="Platform: "+e,i=new B(r);return(e=[])=>{let o=Tc();if(!o||o.injector.get(kc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Qi,useValue:"platform"});!function(t){if(Cc&&!Cc.destroyed&&!Cc.injector.get(kc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Cc=t.get(Ic);const e=t.get(Ja,null);e&&e.forEach(t=>t())}(fo.create({providers:t,name:r}))}return function(t){const e=Tc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Tc(){return Cc&&!Cc.destroyed?Cc:null}let Ic=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new yc:("zone.js"===t?void 0:t)||new hc({enableLongStackTrace:Fn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:hc,useValue:n}];return n.run(()=>{const e=fo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(wn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Ac(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Ho(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Ba);return t.runInitializers(),t.donePromise.then(()=>(Cs(i.injector.get(Qa,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Nc({},e);return function(t,e,n){const r=new ma(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(jc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${x(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(et(fo))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();function Nc(t,e){return Array.isArray(e)?e.reduce(Nc,t):Object.assign(Object.assign({},t),e)}let jc=(()=>{class t{constructor(t,e,n,r,i,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Fn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{hc.assertNotInAngularZone(),lc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{hc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(u,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof As?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ot),i=n.create(fo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(vc,null);return o&&i.injector.get(_c).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Fn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ac(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ya,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Ac(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(et(hc),et(Xa),et(fo),et(wn),et(Rs),et(Ba))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();function Ac(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Pc{}class Rc{}const Dc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Lc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Dc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Mc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Mc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(et(cc),et(Rc,8))},t.\u0275prov=m({token:t,factory:t.\u0275fac}),t})();function Mc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Fc=function(t){return null},Uc=xc(null,"core",[{provide:Za,useValue:"unknown"},{provide:Ic,deps:[fo]},{provide:_c,deps:[]},{provide:Xa,deps:[]}]),Vc=[{provide:jc,useClass:jc,deps:[hc,Xa,fo,wn,Rs,Ba]},{provide:da,deps:[hc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ba,useClass:Ba,deps:[[new h,Ha]]},{provide:cc,useClass:cc,deps:[]},Ka,{provide:ta,useFactory:function(){return ra},deps:[]},{provide:ea,useFactory:function(){return ia},deps:[]},{provide:Qa,useFactory:function(t){return Cs(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new l(Qa),new h,new p]]},{provide:tc,useValue:"USD"}];let zc=(()=>{class t{constructor(t){}}return t.\u0275mod=Ct({type:t}),t.\u0275inj=y({factory:function(e){return new(e||t)(et(jc))},providers:Vc}),t})()},fqyn:function(t,e,n){"use strict";var r=1;t.exports={nextValue:function(){return(r=(9301*r+49297)%233280)/233280},seed:function(t){r=t}}},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},je4i:function(t,e,n){"use strict";t.exports=n("Bpvx")},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},n8Jw:function(t,e,n){"use strict";t.exports=0},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},oB13:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new u(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class u extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function l(t,e){return function(n){let r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new h(r,e));const i=Object.create(n,c);return i.source=n,i.subjectFactory=r,i}}class h{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function c(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return p}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},c=s.INFO,u=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=u[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach((function(e){e.setLogLevel(t)}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return P})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return c})),n.d(e,"i",(function(){return T})),n.d(e,"j",(function(){return p})),n.d(e,"k",(function(){return R})),n.d(e,"l",(function(){return l})),n.d(e,"m",(function(){return h})),n.d(e,"n",(function(){return F})),n.d(e,"o",(function(){return W})),n.d(e,"p",(function(){return x})),n.d(e,"q",(function(){return b})),n.d(e,"r",(function(){return N})),n.d(e,"s",(function(){return f})),n.d(e,"t",(function(){return g})),n.d(e,"u",(function(){return y})),n.d(e,"v",(function(){return m})),n.d(e,"w",(function(){return E})),n.d(e,"x",(function(){return C})),n.d(e,"y",(function(){return j})),n.d(e,"z",(function(){return A})),n.d(e,"A",(function(){return I})),n.d(e,"B",(function(){return q})),n.d(e,"C",(function(){return z})),n.d(e,"D",(function(){return S})),n.d(e,"E",(function(){return M})),n.d(e,"F",(function(){return U})),n.d(e,"G",(function(){return V}));var r=n("FurV"),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=(15&a)<<2|u>>6,h=63&u;c||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==c)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==c&&r.push(a<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){var e=s(t);return a.encodeByteArray(e,!0)},u=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var d=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function p(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[a.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),a.encodeString(JSON.stringify(s),!1),""].join(".")}function f(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function g(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function b(){return"object"==typeof self&&self.self===self}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return!1}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,_.prototype.create),o}return Object(r.c)(e,t),e}(Error),_=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?w(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",c=new v(i,a,r);return c},t}();function w(t,e){return t.replace(O,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var O=/\{\$([^}]+)}/g;function C(t){return JSON.parse(t)}function S(t){return JSON.stringify(t)}var k=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=C(u(o[0])||""),n=C(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},E=function(t){var e=k(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},x=function(t){var e=k(t).claims;return"object"==typeof e&&!0===e.admin};function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function N(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function j(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function A(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var P=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],c=this.chain_[2],u=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(c^u),o=1518500249):(i=a^c^u,o=1859775393):r<60?(i=a&c|u&(a|c),o=2400959708):(i=a^c^u,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=u,u=c,c=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function R(t,e){var n=new D(t,e);return n.subscribe.bind(n)}var D=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=L),void 0===r.error&&(r.error=L),void 0===r.complete&&(r.complete=L);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function L(){}var M=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function F(t,e){return t+" failed: "+e+" argument "}function U(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(F(t,e)+"must be a valid function.")}function V(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(F(t,e)+"must be a valid context object.")}var z=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var s=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},q=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function W(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof s?c(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},r8II:function(t,e,n){"use strict";e.decode=e.parse=n("YcCt"),e.encode=e.stringify=n("6MUB")},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return E})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return p})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return S})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return b})),n.d(e,"j",(function(){return O}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class p{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function f(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],b=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),m=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new c.q("angularfire2.app.options"),v=new c.q("angularfire2.app.nameOrConfig"),_=new c.P("6.1.5");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{Object(c.V)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const k={provide:class{},useFactory:w,deps:[y,c.z,[new c.A,v]]};let E=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",_.full,t.toString()),u.a.registerVersion("angular",c.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(e){return new(e||t)(c.Sb(c.B))},providers:[k]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const c={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var u=n("3N8a");class l extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=c.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(c.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const p=new d(l);var f=n("Y7HM");class g extends r.a{constructor(t,e=0,n=p){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(f.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=p)}static create(t,e=0,n=p){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function b(t,e=0){return function(n){return n.lift(new m(t,e))}}class m{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vZIR:function(t,e,n){"use strict";var r=n("Qfp6"),i=n("CR0S"),o=n("5R+2");t.exports=function(t){for(var e,n=0,s="";!e;)s+=o(i,r.get(),1),e=t<Math.pow(16,n+1),n++;return s}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("oB13"),i=n("x+ZX"),o=n("XNiG");function s(){return new o.a}function a(){return t=>Object(i.a)()(Object(r.a)(s)(t))}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,o=n("FurV"),s=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",u),h="@firebase/app",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new c.b("@firebase/app"),f=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.l)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.i)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,o,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),c=e.match(/\s|\//);if(s||c){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&c&&u.push("and"),c&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}o(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.i)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.m)(c,o.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var u=0,h=Object.keys(e);u<h.length;u++)e[h[u]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(f);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.m)(e,t)},createSubscribe:s.k,ErrorFactory:s.b,deepExtend:s.m}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.q)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.t)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var v=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new b(t)}),"PRIVATE")),t.registerVersion(h,"0.6.22",void 0),t.registerVersion("fire-js","")}(v),e.a=v},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyBzmXumYjOj_AINSeVOB96doLWGqh4xSOU",authDomain:"fotos-app-779cb.firebaseapp.com",databaseURL:"https://fotos-app-779cb-default-rtdb.firebaseio.com",projectId:"fotos-app-779cb",storageBucket:"fotos-app-779cb.appspot.com",messagingSenderId:"420287488542",appId:"1:420287488542:web:36bce96229e7974d02840f",measurementId:"G-E9JTVTWSQG"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Sb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:p,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function p(){return new h(Object(r.Sb)(a))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function b(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Sb)(a).location;return new _(Object(r.Sb)(c),e&&e.origin||"")}const v=new r.q("appBaseHref");let _=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+b(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(c),r.Sb(v,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(c),r.Sb(v,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+b(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(m),r.Sb(c))},t.normalizeQueryParams=b,t.joinWithSlash=f,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Fb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new O(Object(r.Sb)(m),Object(r.Sb)(c))}function S(t){return t.replace(/\/index.html$/,"")}var k=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),E=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),x=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function T(t,e){const n=Object(r.jb)(t),i=n[r.ab.NumberSymbols][e];if(void 0===i){if(e===x.CurrencyDecimal)return n[r.ab.NumberSymbols][x.Decimal];if(e===x.CurrencyGroup)return n[r.ab.NumberSymbols][x.Group]}return i}const I=r.mb,N=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function j(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class A{}let P=(()=>{class t extends A{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(I(e||this.locale)(t)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.u))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function R(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let D=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.pb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.ub)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.s),r.Jb(r.t),r.Jb(r.l),r.Jb(r.E))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class L{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let M=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.V)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new L(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new F(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new F(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.Q),r.Jb(r.L),r.Jb(r.s))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class F{constructor(t,e){this.record=t,this.view=e}}let U=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new V,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){z("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){z("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.Q),r.Jb(r.L))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class V{constructor(){this.$implicit=null,this.ngIf=null}}function z(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.ub)(e)}'.`)}let q=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.t),r.Jb(r.E))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})();function W(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.ub)(t)}'`)}class H{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class B{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const G=new B,K=new H;let $=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.rb)(e))return G;if(Object(r.qb)(e))return K;throw W(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Ub())},t.\u0275pipe=r.Ib({name:"async",type:t,pure:!1}),t})(),J=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(function(t){return null==t||""===t||t!=t}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,o,s=!1){let a="",c=!1;if(isFinite(t)){let u=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf("."))>-1&&(s=s.replace(".","")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;"0"===s.charAt(r);r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;"0"===s.charAt(o);)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(u=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));let l=e.minInt,h=e.minFrac,d=e.maxFrac;if(o){const t=o.match(N);if(null===t)throw new Error(o+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(l=j(e)),null!=n&&(h=j(n)),null!=r?d=j(r):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=0!==o;const u=e+t.integerLen,l=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,c&&(0===r[n]&&n>=u?r.pop():c=!1),e>=10?1:0}),0);l&&(r.unshift(l),t.integerLen++)}(u,h,d);let p=u.digits,f=u.integerLen;const g=u.exponent;let b=[];for(c=p.every(t=>!t);f<l;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?b=p.splice(f,p.length):(b=p,p=[0]);const m=[];for(p.length>=e.lgSize&&m.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)m.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&m.unshift(p.join("")),a=m.join(T(n,r)),b.length&&(a+=T(n,i)+b.join("")),g&&(a+=T(n,x.Exponential)+"+"+g)}else a=T(n,x.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],c=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<c.length;l++){const t=c.charAt(l);"0"===t?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const u=a.split(",");if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.jb)(t)[r.ab.NumberFormats][e]}(e,k.Decimal),T(e,x.MinusSign)),e,x.Group,x.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),i,n)}catch(o){throw W(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.u))},t.\u0275pipe=r.Ib({name:"number",type:t,pure:!0}),t})(),Z=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[{provide:A,useClass:P}]}),t})();function Y(t){return"server"===t}let X=(()=>{class t{}return t.\u0275prov=Object(r.Fb)({token:t,providedIn:"root",factory:()=>new Q(Object(r.Sb)(a),window,Object(r.Sb)(r.m))}),t})();class Q{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=tt(this.window.history)||tt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function tt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class et extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new et,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=rt||(rt=document.querySelector("base"),rt)?rt.getAttribute("href"):null;return null==e?null:(n=e,nt||(nt=document.createElement("a")),nt.setAttribute("href",n),"/"===nt.pathname.charAt(0)?nt.pathname:"/"+nt.pathname);var n}resetBaseElement(){rt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return R(document.cookie,t)}}let nt,rt=null;const it=new r.q("TRANSITION_ID"),ot=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[it,a,r.r],multi:!0}];class st{static init(){Object(r.X)(new st)}addToWindow(t){r.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.ob.getAllAngularRootElements=()=>t.getAllRootElements(),r.ob.frameworkStabilizers||(r.ob.frameworkStabilizers=[]),r.ob.frameworkStabilizers.push(t=>{const e=r.ob.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const at=new r.q("EventManagerPlugins");let ct=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(at),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class ut{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let lt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),ht=(()=>{class t extends lt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},pt=/%COMP%/g;function ft(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ft(t,i,n):(i=i.replace(pt,t),n.push(i))}return n}function gt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let bt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new mt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new yt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.R.Native:case r.R.ShadowDom:return new vt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ft(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(ct),r.Sb(ht),r.Sb(r.c))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class mt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(dt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=dt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=dt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.G.DashCase?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,gt(n)):this.eventManager.addEventListener(t,e,gt(n))}}class yt extends mt{constructor(t,e,n,r){super(t),this.component=n;const i=ft(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(pt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(pt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class vt extends mt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.R.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=ft(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let _t=(()=>{class t extends ut{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const wt=["alt","control","meta","shift"],Ot={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ct={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},St={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let kt=(()=>{class t extends ut{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(wt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ct.hasOwnProperty(e)&&(e=Ct[e]))}return Ot[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),wt.forEach(r=>{r!=n&&(0,St[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:function(){return Object(r.Sb)(xt)},token:t,providedIn:"root"}),t})(),xt=(()=>{class t extends Et{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.I.NONE:return e;case r.I.HTML:return Object(r.db)(e,"HTML")?Object(r.vb)(e):Object(r.bb)(this._doc,String(e));case r.I.STYLE:return Object(r.db)(e,"Style")?Object(r.vb)(e):e;case r.I.SCRIPT:if(Object(r.db)(e,"Script"))return Object(r.vb)(e);throw new Error("unsafe value used in a script context");case r.I.URL:return Object(r.nb)(e),Object(r.db)(e,"URL")?Object(r.vb)(e):Object(r.cb)(String(e));case r.I.RESOURCE_URL:if(Object(r.db)(e,"ResourceURL"))return Object(r.vb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.eb)(t)}bypassSecurityTrustStyle(t){return Object(r.hb)(t)}bypassSecurityTrustScript(t){return Object(r.gb)(t)}bypassSecurityTrustUrl(t){return Object(r.ib)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.fb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a))},t.\u0275prov=Object(r.Fb)({factory:function(){return t=Object(r.Sb)(r.o),new xt(t.get(a));var t},token:t,providedIn:"root"}),t})();const Tt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){et.makeCurrent(),st.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.tb)(document),document},deps:[]}],It=Object(r.S)(r.W,"browser",Tt),Nt=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:at,useClass:_t,multi:!0,deps:[a,r.z,r.B]},{provide:at,useClass:kt,multi:!0,deps:[a]},[],{provide:bt,useClass:bt,deps:[ct,ht,r.c]},{provide:r.F,useExisting:bt},{provide:lt,useExisting:ht},{provide:ht,useClass:ht,deps:[a]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:ct,useClass:ct,deps:[at,r.z]},[]];let jt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:it,useExisting:r.c},ot]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Sb(t,12))},providers:Nt,imports:[Z,r.f]}),t})();"undefined"!=typeof window&&window;var At=n("HDdC"),Pt=n("DH7j"),Rt=n("lJxs"),Dt=n("XoHu"),Lt=n("Cfvw");function Mt(t,e){return new At.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const c=Object(Lt.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&u||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Ft=new r.q("NgValueAccessor"),Ut={provide:Ft,useExisting:Object(r.U)(()=>Vt),multi:!0};let Vt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.E),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.yb([Ut])]}),t})();const zt={provide:Ft,useExisting:Object(r.U)(()=>Wt),multi:!0},qt=new r.q("CompositionEventMode");let Wt=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.E),r.Jb(r.l),r.Jb(qt,8))},t.\u0275dir=r.Eb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Vb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.yb([zt])]}),t})(),Ht=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t}),t})(),Bt=(()=>{class t extends Ht{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Gt(e||t)},t.\u0275dir=r.Eb({type:t,features:[r.wb]}),t})();const Gt=r.Qb(Bt);class Kt extends Ht{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}let $t=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Kt,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.wb]}),t})();function Jt(t){return null==t||0===t.length}function Zt(t){return null!=t&&"number"==typeof t.length}const Yt=new r.q("NgValidators"),Xt=new r.q("NgAsyncValidators"),Qt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class te{static min(t){return e=>{if(Jt(e.value)||Jt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Jt(e.value)||Jt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Jt(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Jt(t.value)||Qt.test(t.value)?null:{email:!0}}static minLength(t){return e=>Jt(e.value)||!Zt(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Zt(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return te.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Jt(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(ee);return 0==e.length?null:function(t){return re(ie(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(ee);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Pt.a)(e))return Mt(e,null);if(Object(Dt.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Mt(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Mt(t=1===t.length&&Object(Pt.a)(t[0])?t[0]:t,null).pipe(Object(Rt.a)(t=>e(...t)))}return Mt(t,null)}(ie(t,e).map(ne)).pipe(Object(Rt.a)(re))}}}function ee(t){return null!=t}function ne(t){const e=Object(r.rb)(t)?Object(Lt.a)(t):t;return Object(r.qb)(e),e}function re(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ie(t,e){return e.map(e=>e(t))}function oe(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const se={provide:Ft,useExisting:Object(r.U)(()=>ae),multi:!0};let ae=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.E),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.yb([se])]}),t})();const ce={provide:Ft,useExisting:Object(r.U)(()=>le),multi:!0};let ue=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),le=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Kt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.E),r.Jb(r.l),r.Jb(ue),r.Jb(r.r))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.yb([ce])]}),t})();const he={provide:Ft,useExisting:Object(r.U)(()=>de),multi:!0};let de=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.E),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.yb([he])]}),t})();const pe={provide:Ft,useExisting:Object(r.U)(()=>ge),multi:!0};function fe(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ge=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=fe(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.E),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.yb([pe])]}),t})(),be=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(fe(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.E),r.Jb(ge,9))},t.\u0275dir=r.Eb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const me={provide:Ft,useExisting:Object(r.U)(()=>ve),multi:!0};function ye(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ve=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.E),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Vb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.yb([me])]}),t})(),_e=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ye(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ye(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.E),r.Jb(ve,9))},t.\u0275dir=r.Eb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function we(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Oe(t){return null!=t?te.compose(oe(t)):null}function Ce(t){return null!=t?te.composeAsync(oe(t)):null}const Se=[Vt,de,ae,ge,ve,le];function ke(t){return(Ie(t)?t.validators:t)||null}function Ee(t){return Array.isArray(t)?Oe(t):t||null}function xe(t,e){return(Ie(e)?e.asyncValidators:t)||null}function Te(t){return Array.isArray(t)?Ce(t):t||null}function Ie(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ne{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Ee(this._rawValidators),this._composedAsyncValidatorFn=Te(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Ee(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Te(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=ne(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Ae?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Pe&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ie(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class je extends Ne{constructor(t=null,e,n){super(ke(e),xe(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ae extends Ne{constructor(t,e,n){super(ke(e),xe(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof je?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Pe extends Ne{constructor(t,e,n){super(ke(e),xe(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof je?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Re={provide:Kt,useExisting:Object(r.U)(()=>Le)},De=(()=>Promise.resolve(null))();let Le=(()=>{class t extends Kt{constructor(t,e,n,i){super(),this.control=new je,this._registered=!1,this.update=new r.n,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Wt?n=t:(e=t,Se.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Oe(this._rawValidators)}get asyncValidator(){return Ce(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(t=this.control).validator=te.compose([t.validator,(e=this).validator]),t.asyncValidator=te.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&we(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&we(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){De.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;De.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Bt,9),r.Jb(Yt,10),r.Jb(Xt,10),r.Jb(Ft,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.yb([Re]),r.wb,r.xb]}),t})();const Me=new r.q("NgModelWithFormControlWarning");let Fe=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})(),Ue=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Ae(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new je(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Pe(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof je||t instanceof Ae||t instanceof Pe?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Ve=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[ue],imports:[Fe]}),t})(),ze=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Me,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Ue,ue],imports:[Fe]}),t})();var qe=function(t,e){return(qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function We(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}qe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var He=function(){return(He=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Be(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ge(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function Ke(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var $e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Je(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ze(t,e){return t(e={exports:{}},e.exports),e.exports}var Ye=function(t){return t&&t.Math==Math&&t},Xe=Ye("object"==typeof globalThis&&globalThis)||Ye("object"==typeof window&&window)||Ye("object"==typeof self&&self)||Ye("object"==typeof $e&&$e)||function(){return this}()||Function("return this")(),Qe=function(t){try{return!!t()}catch(t){return!0}},tn=!Qe((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),en={}.propertyIsEnumerable,nn=Object.getOwnPropertyDescriptor,rn={f:nn&&!en.call({1:2},1)?function(t){var e=nn(this,t);return!!e&&e.enumerable}:en},on=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},sn={}.toString,an=function(t){return sn.call(t).slice(8,-1)},cn="".split,un=Qe((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==an(t)?cn.call(t,""):Object(t)}:Object,ln=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},hn=function(t){return un(ln(t))},dn=function(t){return"object"==typeof t?null!==t:"function"==typeof t},pn=function(t,e){if(!dn(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!dn(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!dn(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!dn(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},fn=function(t){return Object(ln(t))},gn={}.hasOwnProperty,bn=function(t,e){return gn.call(fn(t),e)},mn=Xe.document,yn=dn(mn)&&dn(mn.createElement),vn=function(t){return yn?mn.createElement(t):{}},_n=!tn&&!Qe((function(){return 7!=Object.defineProperty(vn("div"),"a",{get:function(){return 7}}).a})),wn=Object.getOwnPropertyDescriptor,On={f:tn?wn:function(t,e){if(t=hn(t),e=pn(e,!0),_n)try{return wn(t,e)}catch(t){}if(bn(t,e))return on(!rn.f.call(t,e),t[e])}},Cn=function(t){if(!dn(t))throw TypeError(String(t)+" is not an object");return t},Sn=Object.defineProperty,kn={f:tn?Sn:function(t,e,n){if(Cn(t),e=pn(e,!0),Cn(n),_n)try{return Sn(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},En=tn?function(t,e,n){return kn.f(t,e,on(1,n))}:function(t,e,n){return t[e]=n,t},xn=function(t,e){try{En(Xe,t,e)}catch(n){Xe[t]=e}return e},Tn=Xe["__core-js_shared__"]||xn("__core-js_shared__",{}),In=Function.toString;"function"!=typeof Tn.inspectSource&&(Tn.inspectSource=function(t){return In.call(t)});var Nn,jn,An,Pn=Tn.inspectSource,Rn=Xe.WeakMap,Dn="function"==typeof Rn&&/native code/.test(Pn(Rn)),Ln=Ze((function(t){(t.exports=function(t,e){return Tn[t]||(Tn[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.11.0",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})})),Mn=0,Fn=Math.random(),Un=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Mn+Fn).toString(36)},Vn=Ln("keys"),zn=function(t){return Vn[t]||(Vn[t]=Un(t))},qn={};if(Dn){var Wn=Tn.state||(Tn.state=new(0,Xe.WeakMap)),Hn=Wn.get,Bn=Wn.has,Gn=Wn.set;Nn=function(t,e){if(Bn.call(Wn,t))throw new TypeError("Object already initialized");return e.facade=t,Gn.call(Wn,t,e),e},jn=function(t){return Hn.call(Wn,t)||{}},An=function(t){return Bn.call(Wn,t)}}else{var Kn=zn("state");qn[Kn]=!0,Nn=function(t,e){if(bn(t,Kn))throw new TypeError("Object already initialized");return e.facade=t,En(t,Kn,e),e},jn=function(t){return bn(t,Kn)?t[Kn]:{}},An=function(t){return bn(t,Kn)}}var $n,Jn,Zn={set:Nn,get:jn,has:An,enforce:function(t){return An(t)?jn(t):Nn(t,{})},getterFor:function(t){return function(e){var n;if(!dn(e)||(n=jn(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},Yn=Ze((function(t){var e=Zn.get,n=Zn.enforce,r=String(String).split("String");(t.exports=function(t,e,i,o){var s,a=!!o&&!!o.unsafe,c=!!o&&!!o.enumerable,u=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof e||bn(i,"name")||En(i,"name",e),(s=n(i)).source||(s.source=r.join("string"==typeof e?e:""))),t!==Xe?(a?!u&&t[e]&&(c=!0):delete t[e],c?t[e]=i:En(t,e,i)):c?t[e]=i:xn(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||Pn(this)}))})),Xn=Xe,Qn=function(t){return"function"==typeof t?t:void 0},tr=function(t,e){return arguments.length<2?Qn(Xn[t])||Qn(Xe[t]):Xn[t]&&Xn[t][e]||Xe[t]&&Xe[t][e]},er=Math.ceil,nr=Math.floor,rr=function(t){return isNaN(t=+t)?0:(t>0?nr:er)(t)},ir=Math.min,or=function(t){return t>0?ir(rr(t),9007199254740991):0},sr=Math.max,ar=Math.min,cr=function(t){return function(e,n,r){var i,o=hn(e),s=or(o.length),a=function(t,e){var n=rr(t);return n<0?sr(n+e,0):ar(n,e)}(r,s);if(t&&n!=n){for(;s>a;)if((i=o[a++])!=i)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},ur={includes:cr(!0),indexOf:cr(!1)},lr=ur.indexOf,hr=function(t,e){var n,r=hn(t),i=0,o=[];for(n in r)!bn(qn,n)&&bn(r,n)&&o.push(n);for(;e.length>i;)bn(r,n=e[i++])&&(~lr(o,n)||o.push(n));return o},dr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],pr=dr.concat("length","prototype"),fr={f:Object.getOwnPropertyNames||function(t){return hr(t,pr)}},gr={f:Object.getOwnPropertySymbols},br=tr("Reflect","ownKeys")||function(t){var e=fr.f(Cn(t)),n=gr.f;return n?e.concat(n(t)):e},mr=function(t,e){for(var n=br(e),r=kn.f,i=On.f,o=0;o<n.length;o++){var s=n[o];bn(t,s)||r(t,s,i(e,s))}},yr=/#|\.prototype\./,vr=function(t,e){var n=wr[_r(t)];return n==Cr||n!=Or&&("function"==typeof e?Qe(e):!!e)},_r=vr.normalize=function(t){return String(t).replace(yr,".").toLowerCase()},wr=vr.data={},Or=vr.NATIVE="N",Cr=vr.POLYFILL="P",Sr=vr,kr=On.f,Er=function(t,e){var n,r,i,o,s,a=t.target,c=t.global,u=t.stat;if(n=c?Xe:u?Xe[a]||xn(a,{}):(Xe[a]||{}).prototype)for(r in e){if(o=e[r],i=t.noTargetGet?(s=kr(n,r))&&s.value:n[r],!Sr(c?r:a+(u?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;mr(o,i)}(t.sham||i&&i.sham)&&En(o,"sham",!0),Yn(n,r,o,t)}},xr="process"==an(Xe.process),Tr=tr("navigator","userAgent")||"",Ir=Xe.process,Nr=Ir&&Ir.versions,jr=Nr&&Nr.v8;jr?Jn=($n=jr.split("."))[0]+$n[1]:Tr&&(!($n=Tr.match(/Edge\/(\d+)/))||$n[1]>=74)&&($n=Tr.match(/Chrome\/(\d+)/))&&(Jn=$n[1]);var Ar,Pr=Jn&&+Jn,Rr=!!Object.getOwnPropertySymbols&&!Qe((function(){return!Symbol.sham&&(xr?38===Pr:Pr>37&&Pr<41)})),Dr=Rr&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Lr=Ln("wks"),Mr=Xe.Symbol,Fr=Dr?Mr:Mr&&Mr.withoutSetter||Un,Ur=function(t){return bn(Lr,t)&&(Rr||"string"==typeof Lr[t])||(Lr[t]=Rr&&bn(Mr,t)?Mr[t]:Fr("Symbol."+t)),Lr[t]},Vr=Ur("match"),zr=function(t){if(function(t){var e;return dn(t)&&(void 0!==(e=t[Vr])?!!e:"RegExp"==an(t))}(t))throw TypeError("The method doesn't accept regular expressions");return t},qr=Ur("match"),Wr=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[qr]=!1,"/./"[t](e)}catch(t){}}return!1},Hr=On.f,Br="".startsWith,Gr=Math.min,Kr=Wr("startsWith"),$r=!(Kr||(Ar=Hr(String.prototype,"startsWith"),!Ar||Ar.writable));Er({target:"String",proto:!0,forced:!$r&&!Kr},{startsWith:function(t){var e=String(ln(this));zr(t);var n=or(Gr(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return Br?Br.call(e,r,n):e.slice(n,n+r.length)===r}});var Jr=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Zr=function(t,e,n){if(Jr(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},Yr=Function.call,Xr=function(t,e,n){return Zr(Yr,Xe[t].prototype[e],n)};Xr("String","startsWith");var Qr=Array.isArray||function(t){return"Array"==an(t)},ti=function(t,e,n){var r=pn(e);r in t?kn.f(t,r,on(0,n)):t[r]=n},ei=Ur("species"),ni=function(t,e){var n;return Qr(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Qr(n.prototype)?dn(n)&&null===(n=n[ei])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},ri=Ur("species"),ii=Ur("isConcatSpreadable"),oi=Pr>=51||!Qe((function(){var t=[];return t[ii]=!1,t.concat()[0]!==t})),si=Pr>=51||!Qe((function(){var t=[];return(t.constructor={})[ri]=function(){return{foo:1}},1!==t.concat(Boolean).foo})),ai=function(t){if(!dn(t))return!1;var e=t[ii];return void 0!==e?!!e:Qr(t)};Er({target:"Array",proto:!0,forced:!oi||!si},{concat:function(t){var e,n,r,i,o,s=fn(this),a=ni(s,0),c=0;for(e=-1,r=arguments.length;e<r;e++)if(ai(o=-1===e?s:arguments[e])){if(c+(i=or(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,c++)n in o&&ti(a,c,o[n])}else{if(c>=9007199254740991)throw TypeError("Maximum allowed index exceeded");ti(a,c++,o)}return a.length=c,a}});var ci={};ci[Ur("toStringTag")]="z";var ui="[object z]"===String(ci),li=Ur("toStringTag"),hi="Arguments"==an(function(){return arguments}()),di=ui?an:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),li))?n:hi?an(e):"Object"==(r=an(e))&&"function"==typeof e.callee?"Arguments":r};ui||Yn(Object.prototype,"toString",ui?{}.toString:function(){return"[object "+di(this)+"]"},{unsafe:!0});var pi,fi=Object.keys||function(t){return hr(t,dr)},gi=tn?Object.defineProperties:function(t,e){Cn(t);for(var n,r=fi(e),i=r.length,o=0;i>o;)kn.f(t,n=r[o++],e[n]);return t},bi=tr("document","documentElement"),mi=zn("IE_PROTO"),yi=function(){},vi=function(t){return"<script>"+t+"<\/script>"},_i=function(){try{pi=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;_i=pi?function(t){t.write(vi("")),t.close();var e=t.parentWindow.Object;return t=null,e}(pi):((e=vn("iframe")).style.display="none",bi.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(vi("document.F=Object")),t.close(),t.F);for(var n=dr.length;n--;)delete _i.prototype[dr[n]];return _i()};qn[mi]=!0;var wi=Object.create||function(t,e){var n;return null!==t?(yi.prototype=Cn(t),n=new yi,yi.prototype=null,n[mi]=t):n=_i(),void 0===e?n:gi(n,e)},Oi=fr.f,Ci={}.toString,Si="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ki={f:function(t){return Si&&"[object Window]"==Ci.call(t)?function(t){try{return Oi(t)}catch(t){return Si.slice()}}(t):Oi(hn(t))}},Ei={f:Ur},xi=kn.f,Ti=function(t){var e=Xn.Symbol||(Xn.Symbol={});bn(e,t)||xi(e,t,{value:Ei.f(t)})},Ii=kn.f,Ni=Ur("toStringTag"),ji=function(t,e,n){t&&!bn(t=n?t:t.prototype,Ni)&&Ii(t,Ni,{configurable:!0,value:e})},Ai=[].push,Pi=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,s=7==t,a=5==t||o;return function(c,u,l,h){for(var d,p,f=fn(c),g=un(f),b=Zr(u,l,3),m=or(g.length),y=0,v=h||ni,_=e?v(c,m):n||s?v(c,0):void 0;m>y;y++)if((a||y in g)&&(p=b(d=g[y],y,f),t))if(e)_[y]=p;else if(p)switch(t){case 3:return!0;case 5:return d;case 6:return y;case 2:Ai.call(_,d)}else switch(t){case 4:return!1;case 7:Ai.call(_,d)}return o?-1:r||i?i:_}},Ri=[Pi(0),Pi(1),Pi(2),Pi(3),Pi(4),Pi(5),Pi(6),Pi(7)][0],Di=zn("hidden"),Li=Ur("toPrimitive"),Mi=Zn.set,Fi=Zn.getterFor("Symbol"),Ui=Object.prototype,Vi=Xe.Symbol,zi=tr("JSON","stringify"),qi=On.f,Wi=kn.f,Hi=ki.f,Bi=rn.f,Gi=Ln("symbols"),Ki=Ln("op-symbols"),$i=Ln("string-to-symbol-registry"),Ji=Ln("symbol-to-string-registry"),Zi=Ln("wks"),Yi=Xe.QObject,Xi=!Yi||!Yi.prototype||!Yi.prototype.findChild,Qi=tn&&Qe((function(){return 7!=wi(Wi({},"a",{get:function(){return Wi(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=qi(Ui,e);r&&delete Ui[e],Wi(t,e,n),r&&t!==Ui&&Wi(Ui,e,r)}:Wi,to=function(t,e){var n=Gi[t]=wi(Vi.prototype);return Mi(n,{type:"Symbol",tag:t,description:e}),tn||(n.description=e),n},eo=Dr?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Vi},no=function(t,e,n){t===Ui&&no(Ki,e,n),Cn(t);var r=pn(e,!0);return Cn(n),bn(Gi,r)?(n.enumerable?(bn(t,Di)&&t[Di][r]&&(t[Di][r]=!1),n=wi(n,{enumerable:on(0,!1)})):(bn(t,Di)||Wi(t,Di,on(1,{})),t[Di][r]=!0),Qi(t,r,n)):Wi(t,r,n)},ro=function(t,e){Cn(t);var n=hn(e),r=fi(n).concat(ao(n));return Ri(r,(function(e){tn&&!io.call(n,e)||no(t,e,n[e])})),t},io=function(t){var e=pn(t,!0),n=Bi.call(this,e);return!(this===Ui&&bn(Gi,e)&&!bn(Ki,e))&&(!(n||!bn(this,e)||!bn(Gi,e)||bn(this,Di)&&this[Di][e])||n)},oo=function(t,e){var n=hn(t),r=pn(e,!0);if(n!==Ui||!bn(Gi,r)||bn(Ki,r)){var i=qi(n,r);return!i||!bn(Gi,r)||bn(n,Di)&&n[Di][r]||(i.enumerable=!0),i}},so=function(t){var e=Hi(hn(t)),n=[];return Ri(e,(function(t){bn(Gi,t)||bn(qn,t)||n.push(t)})),n},ao=function(t){var e=t===Ui,n=Hi(e?Ki:hn(t)),r=[];return Ri(n,(function(t){!bn(Gi,t)||e&&!bn(Ui,t)||r.push(Gi[t])})),r};if(Rr||(Yn((Vi=function(){if(this instanceof Vi)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=Un(t),n=function(t){this===Ui&&n.call(Ki,t),bn(this,Di)&&bn(this[Di],e)&&(this[Di][e]=!1),Qi(this,e,on(1,t))};return tn&&Xi&&Qi(Ui,e,{configurable:!0,set:n}),to(e,t)}).prototype,"toString",(function(){return Fi(this).tag})),Yn(Vi,"withoutSetter",(function(t){return to(Un(t),t)})),rn.f=io,kn.f=no,On.f=oo,fr.f=ki.f=so,gr.f=ao,Ei.f=function(t){return to(Ur(t),t)},tn&&(Wi(Vi.prototype,"description",{configurable:!0,get:function(){return Fi(this).description}}),Yn(Ui,"propertyIsEnumerable",io,{unsafe:!0}))),Er({global:!0,wrap:!0,forced:!Rr,sham:!Rr},{Symbol:Vi}),Ri(fi(Zi),(function(t){Ti(t)})),Er({target:"Symbol",stat:!0,forced:!Rr},{for:function(t){var e=String(t);if(bn($i,e))return $i[e];var n=Vi(e);return $i[e]=n,Ji[n]=e,n},keyFor:function(t){if(!eo(t))throw TypeError(t+" is not a symbol");if(bn(Ji,t))return Ji[t]},useSetter:function(){Xi=!0},useSimple:function(){Xi=!1}}),Er({target:"Object",stat:!0,forced:!Rr,sham:!tn},{create:function(t,e){return void 0===e?wi(t):ro(wi(t),e)},defineProperty:no,defineProperties:ro,getOwnPropertyDescriptor:oo}),Er({target:"Object",stat:!0,forced:!Rr},{getOwnPropertyNames:so,getOwnPropertySymbols:ao}),Er({target:"Object",stat:!0,forced:Qe((function(){gr.f(1)}))},{getOwnPropertySymbols:function(t){return gr.f(fn(t))}}),zi){var co=!Rr||Qe((function(){var t=Vi();return"[null]"!=zi([t])||"{}"!=zi({a:t})||"{}"!=zi(Object(t))}));Er({target:"JSON",stat:!0,forced:co},{stringify:function(t,e,n){for(var r,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=e,(dn(e)||void 0!==t)&&!eo(t))return Qr(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!eo(e))return e}),i[1]=e,zi.apply(null,i)}})}Vi.prototype[Li]||En(Vi.prototype,Li,Vi.prototype.valueOf),ji(Vi,"Symbol"),qn[Di]=!0,Ti("asyncIterator");var uo=kn.f,lo=Xe.Symbol;if(tn&&"function"==typeof lo&&(!("description"in lo.prototype)||void 0!==lo().description)){var ho={},po=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof po?new lo(t):void 0===t?lo():lo(t);return""===t&&(ho[e]=!0),e};mr(po,lo);var fo=po.prototype=lo.prototype;fo.constructor=po;var go=fo.toString,bo="Symbol(test)"==String(lo("test")),mo=/^Symbol\((.*)\)[^)]+$/;uo(fo,"description",{configurable:!0,get:function(){var t=dn(this)?this.valueOf():this,e=go.call(t);if(bn(ho,t))return"";var n=bo?e.slice(7,-1):e.replace(mo,"$1");return""===n?void 0:n}}),Er({global:!0,forced:!0},{Symbol:po})}Ti("hasInstance"),Ti("isConcatSpreadable"),Ti("iterator"),Ti("match"),Ti("matchAll"),Ti("replace"),Ti("search"),Ti("species"),Ti("split"),Ti("toPrimitive"),Ti("toStringTag"),Ti("unscopables"),ji(Xe.JSON,"JSON",!0),ji(Math,"Math",!0),Er({global:!0},{Reflect:{}}),ji(Xe.Reflect,"Reflect",!0);var yo,vo,_o,wo=function(t){return function(e,n){var r,i,o=String(ln(e)),s=rr(n),a=o.length;return s<0||s>=a?t?"":void 0:(r=o.charCodeAt(s))<55296||r>56319||s+1===a||(i=o.charCodeAt(s+1))<56320||i>57343?t?o.charAt(s):r:t?o.slice(s,s+2):i-56320+(r-55296<<10)+65536}},Oo={codeAt:wo(!1),charAt:wo(!0)},Co=!Qe((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),So=zn("IE_PROTO"),ko=Object.prototype,Eo=Co?Object.getPrototypeOf:function(t){return t=fn(t),bn(t,So)?t[So]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ko:null},xo=Ur("iterator"),To=!1;[].keys&&("next"in(_o=[].keys())?(vo=Eo(Eo(_o)))!==Object.prototype&&(yo=vo):To=!0),(null==yo||Qe((function(){var t={};return yo[xo].call(t)!==t})))&&(yo={}),bn(yo,xo)||En(yo,xo,(function(){return this}));var Io={IteratorPrototype:yo,BUGGY_SAFARI_ITERATORS:To},No={},jo=Io.IteratorPrototype,Ao=function(){return this},Po=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return Cn(n),function(t){if(!dn(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),Ro=Io.IteratorPrototype,Do=Io.BUGGY_SAFARI_ITERATORS,Lo=Ur("iterator"),Mo=function(){return this},Fo=function(t,e,n,r,i,o,s){!function(t,e,n){var r=e+" Iterator";t.prototype=wi(jo,{next:on(1,n)}),ji(t,r,!1),No[r]=Ao}(n,e,r);var a,c,u,l=function(t){if(t===i&&g)return g;if(!Do&&t in p)return p[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",d=!1,p=t.prototype,f=p[Lo]||p["@@iterator"]||i&&p[i],g=!Do&&f||l(i),b="Array"==e&&p.entries||f;if(b&&(a=Eo(b.call(new t)),Ro!==Object.prototype&&a.next&&(Eo(a)!==Ro&&(Po?Po(a,Ro):"function"!=typeof a[Lo]&&En(a,Lo,Mo)),ji(a,h,!0))),"values"==i&&f&&"values"!==f.name&&(d=!0,g=function(){return f.call(this)}),p[Lo]!==g&&En(p,Lo,g),No[e]=g,i)if(c={values:l("values"),keys:o?g:l("keys"),entries:l("entries")},s)for(u in c)(Do||d||!(u in p))&&Yn(p,u,c[u]);else Er({target:e,proto:!0,forced:Do||d},c);return c},Uo=Oo.charAt,Vo=Zn.set,zo=Zn.getterFor("String Iterator");Fo(String,"String",(function(t){Vo(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=zo(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Uo(n,r),e.index+=t.length,{value:t,done:!1})}));var qo=function(t){var e=t.return;if(void 0!==e)return Cn(e.call(t)).value},Wo=function(t,e,n,r){try{return r?e(Cn(n)[0],n[1]):e(n)}catch(e){throw qo(t),e}},Ho=Ur("iterator"),Bo=Array.prototype,Go=function(t){return void 0!==t&&(No.Array===t||Bo[Ho]===t)},Ko=Ur("iterator"),$o=function(t){if(null!=t)return t[Ko]||t["@@iterator"]||No[di(t)]},Jo=Ur("iterator"),Zo=!1;try{var Yo=0,Xo={next:function(){return{done:!!Yo++}},return:function(){Zo=!0}};Xo[Jo]=function(){return this},Array.from(Xo,(function(){throw 2}))}catch(Zb){}var Qo=function(t,e){if(!e&&!Zo)return!1;var n=!1;try{var r={};r[Jo]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},ts=!Qo((function(t){Array.from(t)}));Er({target:"Array",stat:!0,forced:ts},{from:function(t){var e,n,r,i,o,s,a=fn(t),c="function"==typeof this?this:Array,u=arguments.length,l=u>1?arguments[1]:void 0,h=void 0!==l,d=$o(a),p=0;if(h&&(l=Zr(l,u>2?arguments[2]:void 0,2)),null==d||c==Array&&Go(d))for(n=new c(e=or(a.length));e>p;p++)s=h?l(a[p],p):a[p],ti(n,p,s);else for(o=(i=d.call(a)).next,n=new c;!(r=o.call(i)).done;p++)s=h?Wo(i,l,[r.value,p],!0):r.value,ti(n,p,s);return n.length=p,n}});var es,ns="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,rs=kn.f,is=Xe.Int8Array,os=is&&is.prototype,ss=Xe.Uint8ClampedArray,as=ss&&ss.prototype,cs=is&&Eo(is),us=os&&Eo(os),ls=Object.prototype,hs=ls.isPrototypeOf,ds=Ur("toStringTag"),ps=Un("TYPED_ARRAY_TAG"),fs=ns&&!!Po&&"Opera"!==di(Xe.opera),gs={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},bs={BigInt64Array:8,BigUint64Array:8};for(es in gs)Xe[es]||(fs=!1);if((!fs||"function"!=typeof cs||cs===Function.prototype)&&(cs=function(){throw TypeError("Incorrect invocation")},fs))for(es in gs)Xe[es]&&Po(Xe[es],cs);if((!fs||!us||us===ls)&&(us=cs.prototype,fs))for(es in gs)Xe[es]&&Po(Xe[es].prototype,us);if(fs&&Eo(as)!==us&&Po(as,us),tn&&!bn(us,ds))for(es in rs(us,ds,{get:function(){return dn(this)?this[ps]:void 0}}),gs)Xe[es]&&En(Xe[es],ps,es);var ms=Ur("species"),ys=[].slice;!function(t,e,n){if(tn){if(n)for(var r in gs){var i=Xe[r];i&&bn(i.prototype,t)&&delete i.prototype[t]}us[t]&&!n||Yn(us,t,n?e:fs&&os[t]||e)}}("slice",(function(t,e){for(var n=ys.call(function(t){if(function(t){if(!dn(t))return!1;var e=di(t);return bn(gs,e)||bn(bs,e)}(t))return t;throw TypeError("Target is not a typed array")}(this),t,e),r=function(t,e){var n,r=Cn(t).constructor;return void 0===r||null==(n=Cn(r)[ms])?e:Jr(n)}(this,this.constructor),i=0,o=n.length,s=new(function(t){if(Po){if(hs.call(cs,t))return t}else for(var e in gs)if(bn(gs,es)){var n=Xe[e];if(n&&(t===n||hs.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")}(r))(o);o>i;)s[i]=n[i++];return s}),Qe((function(){new Int8Array(1).slice()})));var vs=Ur("unscopables"),_s=Array.prototype;null==_s[vs]&&kn.f(_s,vs,{configurable:!0,value:wi(null)});var ws=function(t){_s[vs][t]=!0},Os=ur.includes;Er({target:"Array",proto:!0},{includes:function(t){return Os(this,t,arguments.length>1?arguments[1]:void 0)}}),ws("includes"),Xr("Array","includes"),Er({target:"String",proto:!0,forced:!Wr("includes")},{includes:function(t){return!!~String(ln(this)).indexOf(zr(t),arguments.length>1?arguments[1]:void 0)}}),Xr("String","includes");var Cs=!Qe((function(){return Object.isExtensible(Object.preventExtensions({}))})),Ss=Ze((function(t){var e=kn.f,n=Un("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(t){e(t,n,{value:{objectID:"O"+ ++r,weakData:{}}})},s=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!dn(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!bn(t,n)){if(!i(t))return"F";if(!e)return"E";o(t)}return t[n].objectID},getWeakData:function(t,e){if(!bn(t,n)){if(!i(t))return!0;if(!e)return!1;o(t)}return t[n].weakData},onFreeze:function(t){return Cs&&s.REQUIRED&&i(t)&&!bn(t,n)&&o(t),t}};qn[n]=!0})),ks=function(t,e){this.stopped=t,this.result=e},Es=function(t,e,n){var r,i,o,s,a,c,u,l=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),p=Zr(e,n&&n.that,1+l+d),f=function(t){return r&&qo(r),new ks(!0,t)},g=function(t){return l?(Cn(t),d?p(t[0],t[1],f):p(t[0],t[1])):d?p(t,f):p(t)};if(h)r=t;else{if("function"!=typeof(i=$o(t)))throw TypeError("Target is not iterable");if(Go(i)){for(o=0,s=or(t.length);s>o;o++)if((a=g(t[o]))&&a instanceof ks)return a;return new ks(!1)}r=i.call(t)}for(c=r.next;!(u=c.call(r)).done;){try{a=g(u.value)}catch(t){throw qo(r),t}if("object"==typeof a&&a&&a instanceof ks)return a}return new ks(!1)},xs=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},Ts=function(t,e,n){for(var r in e)Yn(t,r,e[r],n);return t},Is=Ur("species"),Ns=kn.f,js=Ss.fastKey,As=Zn.set,Ps=Zn.getterFor;!function(t,e,n){var r=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),o=r?"set":"add",s=Xe[t],a=s&&s.prototype,c=s,u={},l=function(t){var e=a[t];Yn(a,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(i&&!dn(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return i&&!dn(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!dn(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(Sr(t,"function"!=typeof s||!(i||a.forEach&&!Qe((function(){(new s).entries().next()})))))c=n.getConstructor(e,t,r,o),Ss.REQUIRED=!0;else if(Sr(t,!0)){var h=new c,d=h[o](i?{}:-0,1)!=h,p=Qe((function(){h.has(1)})),f=Qo((function(t){new s(t)})),g=!i&&Qe((function(){for(var t=new s,e=5;e--;)t[o](e,e);return!t.has(-0)}));f||((c=e((function(e,n){xs(e,c,t);var i=function(t,e,n){var r,i;return Po&&"function"==typeof(r=e.constructor)&&r!==n&&dn(i=r.prototype)&&i!==n.prototype&&Po(t,i),t}(new s,e,c);return null!=n&&Es(n,i[o],{that:i,AS_ENTRIES:r}),i}))).prototype=a,a.constructor=c),(p||g)&&(l("delete"),l("has"),r&&l("get")),(g||d)&&l(o),i&&a.clear&&delete a.clear}u[t]=c,Er({global:!0,forced:c!=s},u),ji(c,t),i||n.setStrong(c,t,r)}("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(t,e,n,r){var i=t((function(t,o){xs(t,i,e),As(t,{type:e,index:wi(null),first:void 0,last:void 0,size:0}),tn||(t.size=0),null!=o&&Es(o,t[r],{that:t,AS_ENTRIES:n})})),o=Ps(e),s=function(t,e,n){var r,i,s=o(t),c=a(t,e);return c?c.value=n:(s.last=c={index:i=js(e,!0),key:e,value:n,previous:r=s.last,next:void 0,removed:!1},s.first||(s.first=c),r&&(r.next=c),tn?s.size++:t.size++,"F"!==i&&(s.index[i]=c)),t},a=function(t,e){var n,r=o(t),i=js(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return Ts(i.prototype,{clear:function(){for(var t=o(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,tn?t.size=0:this.size=0},delete:function(t){var e=this,n=o(e),r=a(e,t);if(r){var i=r.next,s=r.previous;delete n.index[r.index],r.removed=!0,s&&(s.next=i),i&&(i.previous=s),n.first==r&&(n.first=i),n.last==r&&(n.last=s),tn?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=o(this),r=Zr(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!a(this,t)}}),Ts(i.prototype,n?{get:function(t){var e=a(this,t);return e&&e.value},set:function(t,e){return s(this,0===t?0:t,e)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),tn&&Ns(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(t,e,n){var r=e+" Iterator",i=Ps(e),o=Ps(r);Fo(t,e,(function(t,e){As(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),function(t){var e=tr(t);tn&&e&&!e[Is]&&(0,kn.f)(e,Is,{configurable:!0,get:function(){return this}})}(e)}});var Rs={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Ds=Zn.set,Ls=Zn.getterFor("Array Iterator"),Ms=Fo(Array,"Array",(function(t,e){Ds(this,{type:"Array Iterator",target:hn(t),index:0,kind:e})}),(function(){var t=Ls(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");No.Arguments=No.Array,ws("keys"),ws("values"),ws("entries");var Fs=Ur("iterator"),Us=Ur("toStringTag"),Vs=Ms.values;for(var zs in Rs){var qs=Xe[zs],Ws=qs&&qs.prototype;if(Ws){if(Ws[Fs]!==Vs)try{En(Ws,Fs,Vs)}catch(Zb){Ws[Fs]=Vs}if(Ws[Us]||En(Ws,Us,zs),Rs[zs])for(var Hs in Ms)if(Ws[Hs]!==Ms[Hs])try{En(Ws,Hs,Ms[Hs])}catch(Zb){Ws[Hs]=Ms[Hs]}}}function Bs(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}function Gs(t){return new this((function(e,n){if(!t||void 0===t.length)return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,n){if(n&&("object"==typeof n||"function"==typeof n)){var s=n.then;if("function"==typeof s)return void s.call(n,(function(e){o(t,e)}),(function(n){r[t]={status:"rejected",reason:n},0==--i&&e(r)}))}r[t]={status:"fulfilled",value:n},0==--i&&e(r)}for(var s=0;s<r.length;s++)o(s,r[s])}))}var Ks=setTimeout;function $s(t){return Boolean(t&&void 0!==t.length)}function Js(){}function Zs(t){if(!(this instanceof Zs))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],na(t,this)}function Ys(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,Zs._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void Qs(e.promise,t)}Xs(e.promise,r)}else(1===t._state?Xs:Qs)(e.promise,t._value)}))):t._deferreds.push(e)}function Xs(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof Zs)return t._state=3,t._value=e,void ta(t);if("function"==typeof n)return void na((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,ta(t)}catch(e){Qs(t,e)}var r,i}function Qs(t,e){t._state=2,t._value=e,ta(t)}function ta(t){2===t._state&&0===t._deferreds.length&&Zs._immediateFn((function(){t._handled||Zs._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)Ys(t,t._deferreds[e]);t._deferreds=null}function ea(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function na(t,e){var n=!1;try{t((function(t){n||(n=!0,Xs(e,t))}),(function(t){n||(n=!0,Qs(e,t))}))}catch(t){if(n)return;n=!0,Qs(e,t)}}Zs.prototype.catch=function(t){return this.then(null,t)},Zs.prototype.then=function(t,e){var n=new this.constructor(Js);return Ys(this,new ea(t,e,n)),n},Zs.prototype.finally=Bs,Zs.all=function(t){return new Zs((function(e,n){if(!$s(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(e){o(t,e)}),n)}r[t]=s,0==--i&&e(r)}catch(t){n(t)}}for(var s=0;s<r.length;s++)o(s,r[s])}))},Zs.allSettled=Gs,Zs.resolve=function(t){return t&&"object"==typeof t&&t.constructor===Zs?t:new Zs((function(e){e(t)}))},Zs.reject=function(t){return new Zs((function(e,n){n(t)}))},Zs.race=function(t){return new Zs((function(e,n){if(!$s(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=t.length;r<i;r++)Zs.resolve(t[r]).then(e,n)}))},Zs._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){Ks(t,0)},Zs._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var ra=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"function"!=typeof ra.Promise?ra.Promise=Zs:ra.Promise.prototype.finally?ra.Promise.allSettled||(ra.Promise.allSettled=Gs):ra.Promise.prototype.finally=Bs,function(t){function e(){}function n(t,e){if(e=void 0===e?{fatal:!1}:e,-1===i.indexOf((t=void 0===t?"utf-8":t).toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+t+"') is invalid.");if(e.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function r(t){for(var e=0,n=Math.min(65536,t.length+1),r=new Uint16Array(n),i=[],o=0;;){var s=e<t.length;if(!s||o>=n-1){if(i.push(String.fromCharCode.apply(null,r.subarray(0,o))),!s)return i.join("");t=t.subarray(e),o=e=0}if(0==(128&(s=t[e++])))r[o++]=s;else if(192==(224&s)){var a=63&t[e++];r[o++]=(31&s)<<6|a}else if(224==(240&s)){a=63&t[e++];var c=63&t[e++];r[o++]=(31&s)<<12|a<<6|c}else 240==(248&s)&&(65535<(s=(7&s)<<18|(a=63&t[e++])<<12|(c=63&t[e++])<<6|63&t[e++])&&(r[o++]=(s-=65536)>>>10&1023|55296,s=56320|1023&s),r[o++]=s)}}if(t.TextEncoder&&t.TextDecoder)return!1;var i=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");e=0;for(var n=t.length,r=0,i=Math.max(32,n+(n>>>1)+7),o=new Uint8Array(i>>>3<<3);e<n;){var s=t.charCodeAt(e++);if(55296<=s&&56319>=s){if(e<n){var a=t.charCodeAt(e);56320==(64512&a)&&(++e,s=((1023&s)<<10)+(1023&a)+65536)}if(55296<=s&&56319>=s)continue}if(r+4>o.length&&(i+=8,i=(i*=1+e/t.length*2)>>>3<<3,(a=new Uint8Array(i)).set(o),o=a),0==(4294967168&s))o[r++]=s;else{if(0==(4294965248&s))o[r++]=s>>>6&31|192;else if(0==(4294901760&s))o[r++]=s>>>12&15|224,o[r++]=s>>>6&63|128;else{if(0!=(4292870144&s))continue;o[r++]=s>>>18&7|240,o[r++]=s>>>12&63|128,o[r++]=s>>>6&63|128}o[r++]=63&s|128}}return o.slice?o.slice(0,r):o.subarray(0,r)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1});var o=r;"function"==typeof Buffer&&Buffer.from?o=function(t){return Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(o=function(t){var e=URL.createObjectURL(new Blob([t],{type:"text/plain;charset=UTF-8"}));try{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(),n.responseText}catch(e){return r(t)}finally{URL.revokeObjectURL(e)}}),n.prototype.decode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return t=t instanceof Uint8Array?t:t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer):new Uint8Array(t),o(t)},t.TextEncoder=e,t.TextDecoder=n}("undefined"!=typeof window?window:$e),function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?i(t):e}function s(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=s(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}var c=function(){function e(){t(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(e,[{key:"addEventListener",value:function(t,e,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push({callback:e,options:n})}},{key:"removeEventListener",value:function(t,e){if(t in this.listeners)for(var n=this.listeners[t],r=0,i=n.length;r<i;r++)if(n[r].callback===e)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(t){if(t.type in this.listeners){for(var e=this.listeners[t.type].slice(),n=0,r=e.length;n<r;n++){var i=e[n];try{i.callback.call(this,t)}catch(t){Promise.resolve().then((function(){throw t}))}i.options&&i.options.once&&this.removeEventListener(t.type,i.callback)}return!t.defaultPrevented}}}]),e}(),u=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}(u,e);var s=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=r(t);if(e){var s=r(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return o(this,n)}}(u);function u(){var e;return t(this,u),(e=s.call(this)).listeners||c.call(i(e)),Object.defineProperty(i(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(i(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return n(u,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),a(r(u.prototype),"dispatchEvent",this).call(this,t)}}]),u}(c),l=function(){function e(){t(this,e),Object.defineProperty(this,"signal",{value:new u,writable:!0,configurable:!0})}return n(e,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(l.prototype[Symbol.toStringTag]="AbortController",u.prototype[Symbol.toStringTag]="AbortSignal"),function(t){(function(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController})(t)&&(t.AbortController=l,t.AbortSignal=u)}("undefined"!=typeof self?self:$e)}();var ia=Ze((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){var t=this;this.locked=new Map,this.addToLocked=function(e,n){var r=t.locked.get(e);void 0===r?t.locked.set(e,void 0===n?[]:[n]):void 0!==n&&(r.unshift(n),t.locked.set(e,r))},this.isLocked=function(e){return t.locked.has(e)},this.lock=function(e){return new Promise((function(n,r){t.isLocked(e)?t.addToLocked(e,n):(t.addToLocked(e),n())}))},this.unlock=function(e){var n=t.locked.get(e);if(void 0!==n&&0!==n.length){var r=n.pop();t.locked.set(e,n),void 0!==r&&setTimeout(r,0)}else t.locked.delete(e)}}return t.getInstance=function(){return void 0===t.instance&&(t.instance=new t),t.instance},t}();e.default=function(){return n.getInstance()}}));Je(ia);var oa=Je(Ze((function(t,e){var n=$e&&$e.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}c((r=r.apply(t,e||[])).next())}))},r=$e&&$e.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var i="browser-tabs-lock-key";function o(t){return new Promise((function(e){return setTimeout(e,t)}))}function s(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n}var a=function(){function t(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+s(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===t.waiters&&(t.waiters=[])}return t.prototype.acquireLock=function(e,a){return void 0===a&&(a=5e3),n(this,void 0,void 0,(function(){var n,c,u,l,h,d;return r(this,(function(r){switch(r.label){case 0:n=Date.now()+s(4),c=Date.now()+a,u=i+"-"+e,l=window.localStorage,r.label=1;case 1:return Date.now()<c?[4,o(30)]:[3,8];case 2:return r.sent(),null!==l.getItem(u)?[3,5]:(h=this.id+"-"+e+"-"+n,[4,o(Math.floor(25*Math.random()))]);case 3:return r.sent(),l.setItem(u,JSON.stringify({id:this.id,iat:n,timeoutKey:h,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:return r.sent(),null!==(d=l.getItem(u))&&(d=JSON.parse(d)).id===this.id&&d.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(u,n),[2,!0]):[3,7];case 5:return t.lockCorrector(),[4,this.waitForSomethingToChange(c)];case 6:r.sent(),r.label=7;case 7:return n=Date.now()+s(4),[3,1];case 8:return[2,!1]}}))}))},t.prototype.refreshLockWhileAcquired=function(t,e){return n(this,void 0,void 0,(function(){var i=this;return r(this,(function(o){return setTimeout((function(){return n(i,void 0,void 0,(function(){var n,i;return r(this,(function(r){switch(r.label){case 0:return[4,ia.default().lock(e)];case 1:return r.sent(),this.acquiredIatSet.has(e)?(n=window.localStorage,null===(i=n.getItem(t))?(ia.default().unlock(e),[2]):((i=JSON.parse(i)).timeRefreshed=Date.now(),n.setItem(t,JSON.stringify(i)),ia.default().unlock(e),this.refreshLockWhileAcquired(t,e),[2])):(ia.default().unlock(e),[2])}}))}))}),1e3),[2]}))}))},t.prototype.waitForSomethingToChange=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var r=!1,i=Date.now(),o=!1;function s(){if(o||(window.removeEventListener("storage",s),t.removeFromWaiting(s),clearTimeout(a),o=!0),!r){r=!0;var e=50-(Date.now()-i);e>0?setTimeout(n,e):n()}}window.addEventListener("storage",s),t.addToWaiting(s);var a=setTimeout(s,Math.max(0,e-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},t.addToWaiting=function(e){this.removeFromWaiting(e),void 0!==t.waiters&&t.waiters.push(e)},t.removeFromWaiting=function(e){void 0!==t.waiters&&(t.waiters=t.waiters.filter((function(t){return t!==e})))},t.notifyWaiters=function(){void 0!==t.waiters&&t.waiters.slice().forEach((function(t){return t()}))},t.prototype.releaseLock=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,this.releaseLock__private__(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.releaseLock__private__=function(e){return n(this,void 0,void 0,(function(){var n,o,s;return r(this,(function(r){switch(r.label){case 0:return n=window.localStorage,null===(s=n.getItem(o=i+"-"+e))?[2]:(s=JSON.parse(s)).id!==this.id?[3,2]:[4,ia.default().lock(s.iat)];case 1:r.sent(),this.acquiredIatSet.delete(s.iat),n.removeItem(o),ia.default().unlock(s.iat),t.notifyWaiters(),r.label=2;case 2:return[2]}}))}))},t.lockCorrector=function(){for(var e=Date.now()-5e3,n=window.localStorage,r=Object.keys(n),o=!1,s=0;s<r.length;s++){var a=r[s];if(a.includes(i)){var c=n.getItem(a);null!==c&&(void 0===(c=JSON.parse(c)).timeRefreshed&&c.timeAcquired<e||void 0!==c.timeRefreshed&&c.timeRefreshed<e)&&(n.removeItem(a),o=!0)}}o&&t.notifyWaiters()},t.waiters=void 0,t}();e.default=a}))),sa={timeoutInSeconds:60},aa=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],ca={name:"auth0-spa-js",version:"1.15.0"},ua=function(t){function e(n,r){var i=t.call(this,r)||this;return i.error=n,i.error_description=r,Object.setPrototypeOf(i,e.prototype),i}return We(e,t),e.fromPayload=function(t){return new e(t.error,t.error_description)},e}(Error),la=function(t){function e(n,r,i,o){void 0===o&&(o=null);var s=t.call(this,n,r)||this;return s.state=i,s.appState=o,Object.setPrototypeOf(s,e.prototype),s}return We(e,t),e}(ua),ha=function(t){function e(){var n=t.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(n,e.prototype),n}return We(e,t),e}(ua),da=function(t){function e(n){var r=t.call(this)||this;return r.popup=n,Object.setPrototypeOf(r,e.prototype),r}return We(e,t),e}(ha),pa=function(t){function e(n){var r=t.call(this,"cancelled","Popup closed")||this;return r.popup=n,Object.setPrototypeOf(r,e.prototype),r}return We(e,t),e}(ua),fa=function(t){return new Promise((function(e,n){var r,i=setInterval((function(){t.popup&&t.popup.closed&&(clearInterval(i),clearTimeout(o),window.removeEventListener("message",r,!1),n(new pa(t.popup)))}),1e3),o=setTimeout((function(){clearInterval(i),n(new da(t.popup)),window.removeEventListener("message",r,!1)}),1e3*(t.timeoutInSeconds||60));r=function(s){if(s.data&&"authorization_response"===s.data.type){if(clearTimeout(o),clearInterval(i),window.removeEventListener("message",r,!1),t.popup.close(),s.data.response.error)return n(ua.fromPayload(s.data.response));e(s.data.response)}},window.addEventListener("message",r)}))},ga=function(){return window.crypto||window.msCrypto},ba=function(){var t=ga();return t.subtle||t.webkitSubtle},ma=function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",e="";return Array.from(ga().getRandomValues(new Uint8Array(43))).forEach((function(n){return e+=t[n%t.length]})),e},ya=function(t){return btoa(t)},va=function(t){return Object.keys(t).filter((function(e){return void 0!==t[e]})).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},_a=function(t){return Ge(void 0,void 0,void 0,(function(){var e;return Ke(this,(function(n){switch(n.label){case 0:return e=ba().digest({name:"SHA-256"},(new TextEncoder).encode(t)),window.msCrypto?[2,new Promise((function(t,n){e.oncomplete=function(e){t(e.target.result)},e.onerror=function(t){n(t.error)},e.onabort=function(){n("The digest operation was aborted")}}))]:[4,e];case 1:return[2,n.sent()]}}))}))},wa=function(t){return function(t){return decodeURIComponent(atob(t).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(t.replace(/_/g,"/").replace(/-/g,"+"))},Oa=function(t){var e=new Uint8Array(t);return function(t){var e={"+":"-","/":"_","=":""};return t.replace(/[+/=]/g,(function(t){return e[t]}))}(window.btoa(String.fromCharCode.apply(String,Array.from(e))))},Ca=function(t,e){return Ge(void 0,void 0,void 0,(function(){var n,r;return Ke(this,(function(i){switch(i.label){case 0:return[4,(o=t,s=e,s=s||{},new Promise((function(t,e){var n=new XMLHttpRequest,r=[],i=[],a={},c=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(n.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:c,headers:{keys:function(){return r},entries:function(){return i},get:function(t){return a[t.toLowerCase()]},has:function(t){return t.toLowerCase()in a}}}};for(var u in n.open(s.method||"get",o,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){r.push(e=e.toLowerCase()),i.push([e,n]),a[e]=a[e]?a[e]+","+n:n})),t(c())},n.onerror=e,n.withCredentials="include"==s.credentials,s.headers)n.setRequestHeader(u,s.headers[u]);n.send(s.body||null)})))];case 1:return n=i.sent(),r={ok:n.ok},[4,n.json()];case 2:return[2,(r.json=i.sent(),r)]}var o,s}))}))},Sa=function(t,e,n){return Ge(void 0,void 0,void 0,(function(){var r,i;return Ke(this,(function(o){return r=new AbortController,e.signal=r.signal,[2,Promise.race([Ca(t,e),new Promise((function(t,e){i=setTimeout((function(){r.abort(),e(new Error("Timeout when executing 'fetch'"))}),n)}))]).finally((function(){clearTimeout(i)}))]}))}))},ka=function(t,e,n,r,i,o){return Ge(void 0,void 0,void 0,(function(){return Ke(this,(function(s){return[2,(a={auth:{audience:e,scope:n},timeout:i,fetchUrl:t,fetchOptions:r},c=o,new Promise((function(t,e){var n=new MessageChannel;n.port1.onmessage=function(n){n.data.error?e(new Error(n.data.error)):t(n.data)},c.postMessage(a,[n.port2])})))];var a,c}))}))},Ea=function(t,e,n,r,i,o){return void 0===o&&(o=1e4),Ge(void 0,void 0,void 0,(function(){return Ke(this,(function(s){return i?[2,ka(t,e,n,r,o,i)]:[2,Sa(t,r,o)]}))}))};function xa(t,e,n,r,i,o){return Ge(this,void 0,void 0,(function(){var s,a,c,u,l,h,d,p;return Ke(this,(function(f){switch(f.label){case 0:s=null,c=0,f.label=1;case 1:if(!(c<3))return[3,6];f.label=2;case 2:return f.trys.push([2,4,,5]),[4,Ea(t,n,r,i,o,e)];case 3:return a=f.sent(),s=null,[3,6];case 4:return u=f.sent(),s=u,[3,5];case 5:return c++,[3,1];case 6:if(s)throw s.message=s.message||"Failed to fetch",s;if(h=(l=a.json).error,d=l.error_description,p=Be(l,["error","error_description"]),!a.ok)throw new ua(h||"request_error",d||"HTTP error. Unable to fetch "+t);return[2,p]}}))}))}function Ta(t,e){var n=t.baseUrl,r=t.timeout,i=t.audience,o=t.scope,s=t.auth0Client,a=Be(t,["baseUrl","timeout","audience","scope","auth0Client"]);return Ge(this,void 0,void 0,(function(){return Ke(this,(function(t){switch(t.label){case 0:return[4,xa(n+"/oauth/token",r,i||"default",o,{method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json","Auth0-Client":btoa(JSON.stringify(s||ca))}},e)];case 1:return[2,t.sent()]}}))}))}var Ia=function(t){return Array.from(new Set(t))},Na=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ia(t.join(" ").trim().split(/\s+/)).join(" ")},ja=function(){function t(t,e){void 0===e&&(e=Aa),this.prefix=e,this.client_id=t.client_id,this.scope=t.scope,this.audience=t.audience}return t.prototype.toKey=function(){return this.prefix+"::"+this.client_id+"::"+this.audience+"::"+this.scope},t.fromKey=function(e){var n=e.split("::");return new t({client_id:n[1],scope:n[3],audience:n[2]},n[0])},t}(),Aa="@@auth0spajs@@",Pa=function(t){var e=Math.floor(Date.now()/1e3)+t.expires_in;return{body:t,expiresAt:Math.min(e,t.decodedToken.claims.exp)}},Ra=function(t,e){var n=t.client_id,r=t.audience,i=t.scope;return e.filter((function(t){var e=ja.fromKey(t),o=e.prefix,s=e.client_id,a=e.audience,c=e.scope,u=c&&c.split(" "),l=c&&i.split(" ").reduce((function(t,e){return t&&u.includes(e)}),!0);return o===Aa&&s===n&&a===r&&l}))[0]},Da=function(){function t(){}return t.prototype.save=function(t){var e=new ja({client_id:t.client_id,scope:t.scope,audience:t.audience}),n=Pa(t);window.localStorage.setItem(e.toKey(),JSON.stringify(n))},t.prototype.get=function(t,e){void 0===e&&(e=0);var n=this.readJson(t),r=Math.floor(Date.now()/1e3);if(n){if(!(n.expiresAt-e<r))return n.body;if(n.body.refresh_token){var i=this.stripData(n);return this.writeJson(t.toKey(),i),i.body}localStorage.removeItem(t.toKey())}},t.prototype.clear=function(){for(var t=localStorage.length-1;t>=0;t--)localStorage.key(t).startsWith(Aa)&&localStorage.removeItem(localStorage.key(t))},t.prototype.readJson=function(t){var e,n=Ra(t,Object.keys(window.localStorage)),r=n&&window.localStorage.getItem(n);if(r&&(e=JSON.parse(r)))return e},t.prototype.writeJson=function(t,e){localStorage.setItem(t,JSON.stringify(e))},t.prototype.stripData=function(t){return{body:{refresh_token:t.body.refresh_token},expiresAt:t.expiresAt}},t}(),La=function(){var t;this.enclosedCache=(t={},{save:function(e){var n=new ja({client_id:e.client_id,scope:e.scope,audience:e.audience}),r=Pa(e);t[n.toKey()]=r},get:function(e,n){void 0===n&&(n=0);var r=Ra(e,Object.keys(t)),i=t[r],o=Math.floor(Date.now()/1e3);if(i)return i.expiresAt-n<o?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},i.body):void delete t[e.toKey()]:i.body},clear:function(){t={}}})},Ma=function(){function t(t){this.storage=t,this.transaction=this.storage.get("a0.spajs.txs")}return t.prototype.create=function(t){this.transaction=t,this.storage.save("a0.spajs.txs",t,{daysUntilExpire:1})},t.prototype.get=function(){return this.transaction},t.prototype.remove=function(){delete this.transaction,this.storage.remove("a0.spajs.txs")},t}(),Fa=function(t){return"number"==typeof t},Ua=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],Va=Ze((function(t,e){var n=$e&&$e.__assign||function(){return(n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function r(t,e){if(!e)return"";var n="; "+t;return!0===e?n:n+"="+e}function i(t,e,n){return encodeURIComponent(t).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(e).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(t){if("number"==typeof t.expires){var e=new Date;e.setMilliseconds(e.getMilliseconds()+864e5*t.expires),t.expires=e}return r("Expires",t.expires?t.expires.toUTCString():"")+r("Domain",t.domain)+r("Path",t.path)+r("Secure",t.secure)+r("SameSite",t.sameSite)}(n)}function o(t){for(var e={},n=t?t.split("; "):[],r=/(%[\dA-F]{2})+/gi,i=0;i<n.length;i++){var o=n[i].split("="),s=o.slice(1).join("=");'"'===s.charAt(0)&&(s=s.slice(1,-1));try{e[o[0].replace(r,decodeURIComponent)]=s.replace(r,decodeURIComponent)}catch(t){}}return e}function s(){return o(document.cookie)}function a(t,e,r){document.cookie=i(t,e,n({path:"/"},r))}e.__esModule=!0,e.encode=i,e.parse=o,e.getAll=s,e.get=function(t){return s()[t]},e.set=a,e.remove=function(t,e){a(t,"",n(n({},e),{expires:-1}))}}));Je(Va);var za,qa=Va.get,Wa=Va.set,Ha=Va.remove,Ba={get:function(t){var e=qa(t);if(void 0!==e)return JSON.parse(e)},save:function(t,e,n){var r={};"https:"===window.location.protocol&&(r={secure:!0,sameSite:"none"}),r.expires=n.daysUntilExpire,Wa(t,JSON.stringify(e),r)},remove:function(t){Ha(t)}},Ga={get:function(t){return Ba.get(t)||Ba.get("_legacy_"+t)},save:function(t,e,n){var r={};"https:"===window.location.protocol&&(r={secure:!0}),r.expires=n.daysUntilExpire,Wa("_legacy_"+t,JSON.stringify(e),r),Ba.save(t,e,n)},remove:function(t){Ba.remove(t),Ba.remove("_legacy_"+t)}},Ka={get:function(t){if("undefined"!=typeof sessionStorage){var e=sessionStorage.getItem(t);if(void 0!==e)return JSON.parse(e)}},save:function(t,e){sessionStorage.setItem(t,JSON.stringify(e))},remove:function(t){sessionStorage.removeItem(t)}},$a=function(t){return za=za||(n=(e=atob("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uCgogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55CiAgICBwdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuCgogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgKICAgIFJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWQogICAgQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULAogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NCiAgICBMT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUgogICAgT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUgogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQscj0xLG49YXJndW1lbnRzLmxlbmd0aDtyPG47cisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tyXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHQoZSx0LHIsbil7cmV0dXJuIG5ldyhyfHwocj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8scyl7ZnVuY3Rpb24gYShlKXt0cnl7dShuLm5leHQoZSkpfWNhdGNoKGUpe3MoZSl9fWZ1bmN0aW9uIGkoZSl7dHJ5e3Uobi50aHJvdyhlKSl9Y2F0Y2goZSl7cyhlKX19ZnVuY3Rpb24gdShlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiByP3Q6bmV3IHIoKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4oYSxpKX11KChuPW4uYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9ZnVuY3Rpb24gcihlLHQpe3ZhciByLG4sbyxzLGE9e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmb1swXSl0aHJvdyBvWzFdO3JldHVybiBvWzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIHM9e25leHQ6aSgwKSx0aHJvdzppKDEpLHJldHVybjppKDIpfSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYoc1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxzO2Z1bmN0aW9uIGkocyl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBmdW5jdGlvbihzKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO2E7KXRyeXtpZihyPTEsbiYmKG89MiZzWzBdP24ucmV0dXJuOnNbMF0/bi50aHJvd3x8KChvPW4ucmV0dXJuKSYmby5jYWxsKG4pLDApOm4ubmV4dCkmJiEobz1vLmNhbGwobixzWzFdKSkuZG9uZSlyZXR1cm4gbztzd2l0Y2gobj0wLG8mJihzPVsyJnNbMF0sby52YWx1ZV0pLHNbMF0pe2Nhc2UgMDpjYXNlIDE6bz1zO2JyZWFrO2Nhc2UgNDpyZXR1cm4gYS5sYWJlbCsrLHt2YWx1ZTpzWzFdLGRvbmU6ITF9O2Nhc2UgNTphLmxhYmVsKyssbj1zWzFdLHM9WzBdO2NvbnRpbnVlO2Nhc2UgNzpzPWEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEobz1hLnRyeXMsKG89by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXSl8fDYhPT1zWzBdJiYyIT09c1swXSkpe2E9MDtjb250aW51ZX1pZigzPT09c1swXSYmKCFvfHxzWzFdPm9bMF0mJnNbMV08b1szXSkpe2EubGFiZWw9c1sxXTticmVha31pZig2PT09c1swXSYmYS5sYWJlbDxvWzFdKXthLmxhYmVsPW9bMV0sbz1zO2JyZWFrfWlmKG8mJmEubGFiZWw8b1syXSl7YS5sYWJlbD1vWzJdLGEub3BzLnB1c2gocyk7YnJlYWt9b1syXSYmYS5vcHMucG9wKCksYS50cnlzLnBvcCgpO2NvbnRpbnVlfXM9dC5jYWxsKGUsYSl9Y2F0Y2goZSl7cz1bNixlXSxuPTB9ZmluYWxseXtyPW89MH1pZig1JnNbMF0pdGhyb3cgc1sxXTtyZXR1cm57dmFsdWU6c1swXT9zWzFdOnZvaWQgMCxkb25lOiEwfX0oW3MsaV0pfX19dmFyIG49e30sbz1mdW5jdGlvbihlLHQpe3JldHVybiBlKyJ8Iit0fTthZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24ocyl7dmFyIGE9cy5kYXRhLGk9YS50aW1lb3V0LHU9YS5hdXRoLGM9YS5mZXRjaFVybCxmPWEuZmV0Y2hPcHRpb25zLGw9cy5wb3J0c1swXTtyZXR1cm4gdCh2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdCxzLGEsaCxwLGIseSxkLHYsdztyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmE9KHM9dXx8e30pLmF1ZGllbmNlLGg9cy5zY29wZSxyLmxhYmVsPTE7Y2FzZSAxOmlmKHIudHJ5cy5wdXNoKFsxLDcsLDhdKSwhKHA9SlNPTi5wYXJzZShmLmJvZHkpKS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1wLmdyYW50X3R5cGUpe2lmKCEoYj1mdW5jdGlvbihlLHQpe3JldHVybiBuW28oZSx0KV19KGEsaCkpKXRocm93IG5ldyBFcnJvcigiVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbiIpO2YuYm9keT1KU09OLnN0cmluZ2lmeShlKGUoe30scCkse3JlZnJlc2hfdG9rZW46Yn0pKX15PXZvaWQgMCwiZnVuY3Rpb24iPT10eXBlb2YgQWJvcnRDb250cm9sbGVyJiYoeT1uZXcgQWJvcnRDb250cm9sbGVyLGYuc2lnbmFsPXkuc2lnbmFsKSxkPXZvaWQgMCxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiw0LCw1XSksWzQsUHJvbWlzZS5yYWNlKFsoZz1pLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLGcpfSkpKSxmZXRjaChjLGUoe30sZikpXSldO2Nhc2UgMzpyZXR1cm4gZD1yLnNlbnQoKSxbMyw1XTtjYXNlIDQ6cmV0dXJuIHY9ci5zZW50KCksbC5wb3N0TWVzc2FnZSh7ZXJyb3I6di5tZXNzYWdlfSksWzJdO2Nhc2UgNTpyZXR1cm4gZD9bNCxkLmpzb24oKV06KHkmJnkuYWJvcnQoKSxsLnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pLFsyXSk7Y2FzZSA2OnJldHVybih0PXIuc2VudCgpKS5yZWZyZXNoX3Rva2VuPyhmdW5jdGlvbihlLHQscil7bltvKHQscildPWV9KHQucmVmcmVzaF90b2tlbixhLGgpLGRlbGV0ZSB0LnJlZnJlc2hfdG9rZW4pOmZ1bmN0aW9uKGUsdCl7ZGVsZXRlIG5bbyhlLHQpXX0oYSxoKSxsLnBvc3RNZXNzYWdlKHtvazpkLm9rLGpzb246dH0pLFszLDhdO2Nhc2UgNzpyZXR1cm4gdz1yLnNlbnQoKSxsLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjp3Lm1lc3NhZ2V9fSksWzMsOF07Y2FzZSA4OnJldHVyblsyXX12YXIgZ30pKX0pKX0pKX0oKTsKCg==")).indexOf("\n",10)+1,r=e.substring(n)+"",i=new Blob([r],{type:"application/javascript"}),URL.createObjectURL(i)),new Worker(za,t);var e,n,r,i},Ja={},Za=new oa,Ya={memory:function(){return(new La).enclosedCache},localstorage:function(){return new Da}},Xa=function(t){return Ya[t]},Qa=function(){function t(t){var e,n;if(this.options=t,"undefined"!=typeof window&&function(){if(!ga())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===ba())throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")}(),this.cacheLocation=t.cacheLocation||"memory",this.cookieStorage=!1===t.legacySameSiteCookie?Ba:Ga,this.sessionCheckExpiryDays=t.sessionCheckExpiryDays||1,!Xa(this.cacheLocation))throw new Error('Invalid cache location "'+this.cacheLocation+'"');var r,i,o=t.useCookiesForTransactions?this.cookieStorage:Ka;this.cache=Xa(this.cacheLocation)(),this.scope=this.options.scope,this.transactionManager=new Ma(o),this.domainUrl="https://"+this.options.domain,this.tokenIssuer=(i=this.domainUrl,(r=this.options.issuer)?r.startsWith("https://")?r:"https://"+r+"/":i+"/"),this.defaultScope=Na("openid",void 0!==(null===(n=null===(e=this.options)||void 0===e?void 0:e.advancedOptions)||void 0===n?void 0:n.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=Na(this.scope,"offline_access")),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&"memory"===this.cacheLocation&&!/Trident.*rv:11\.0/.test(navigator.userAgent)&&(this.worker=new $a),this.customOptions=function(t){return Be(t,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","client_id","domain","issuer","leeway","max_age","redirect_uri","scope","useRefreshTokens"])}(t)}return t.prototype._url=function(t){var e=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||ca)));return""+this.domainUrl+t+"&auth0Client="+e},t.prototype._getParams=function(t,e,n,r,i){var o=Be(this.options,["domain","leeway","useRefreshTokens","useCookiesForTransactions","auth0Client","cacheLocation","advancedOptions"]);return He(He(He({},o),t),{scope:Na(this.defaultScope,this.scope,t.scope),response_type:"code",response_mode:"query",state:e,nonce:n,redirect_uri:i||this.options.redirect_uri,code_challenge:r,code_challenge_method:"S256"})},t.prototype._authorizeUrl=function(t){return this._url("/authorize?"+va(t))},t.prototype._verifyIdToken=function(t,e,n){return function(t){if(!t.id_token)throw new Error("ID token is required but missing");var e=function(t){var e=t.split("."),n=e[0],r=e[1],i=e[2];if(3!==e.length||!n||!r||!i)throw new Error("ID token could not be decoded");var o=JSON.parse(wa(r)),s={__raw:t},a={};return Object.keys(o).forEach((function(t){s[t]=o[t],Ua.includes(t)||(a[t]=o[t])})),{encoded:{header:n,payload:r,signature:i},header:JSON.parse(wa(n)),claims:s,user:a}}(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+t.iss+'", found "'+e.claims.iss+'"');if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==e.header.alg)throw new Error('Signature algorithm of "'+e.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!e.claims.aud||"string"!=typeof e.claims.aud&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but was not one of "'+e.claims.aud.join(", ")+'"');if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+t.aud+'", found "'+e.claims.azp+'"')}}else if(e.claims.aud!==t.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but found "'+e.claims.aud+'"');if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+t.nonce+'", found "'+e.claims.nonce+'"')}if(t.max_age&&!Fa(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!Fa(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Fa(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=t.leeway||60,r=new Date(Date.now()),i=new Date(0),o=new Date(0),s=new Date(0);if(s.setUTCSeconds(parseInt(e.claims.auth_time)+t.max_age+n),i.setUTCSeconds(e.claims.exp+n),o.setUTCSeconds(e.claims.nbf-n),r>i)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+r+") is after expiration time ("+i+")");if(Fa(e.claims.nbf)&&r<o)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+r+") is before "+o);if(Fa(e.claims.auth_time)&&r>s)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+r+") is after last auth at "+s);if(t.organizationId){if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(t.organizationId!==e.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'+t.organizationId+'", found "'+e.claims.org_id+'"')}return e}({iss:this.tokenIssuer,aud:this.options.client_id,id_token:t,nonce:e,organizationId:n,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age)})},t.prototype._parseNumber=function(t){return"string"!=typeof t?t:parseInt(t,10)||void 0},t.prototype.buildAuthorizeUrl=function(t){return void 0===t&&(t={}),Ge(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c,u,l,h,d;return Ke(this,(function(p){switch(p.label){case 0:return e=t.redirect_uri,n=t.appState,r=Be(t,["redirect_uri","appState"]),i=ya(ma()),o=ya(ma()),s=ma(),[4,_a(s)];case 1:return a=p.sent(),c=Oa(a),u=t.fragment?"#"+t.fragment:"",l=this._getParams(r,i,o,c,e),h=this._authorizeUrl(l),this.transactionManager.create(He({nonce:o,code_verifier:s,appState:n,scope:l.scope,audience:l.audience||"default",redirect_uri:l.redirect_uri},(d=t.organization||this.options.organization)&&{organizationId:d})),[2,h+u]}}))}))},t.prototype.loginWithPopup=function(t,e){return Ge(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u,l,h,d,p;return Ke(this,(function(f){switch(f.label){case 0:return t=t||{},(e=e||{}).popup||(e.popup=function(t){var e=window.screenX+(window.innerWidth-400)/2,n=window.screenY+(window.innerHeight-600)/2;return window.open("","auth0:authorize:popup","left="+e+",top="+n+",width=400,height=600,resizable,scrollbars=yes,status=1")}()),n=Be(t,[]),r=ya(ma()),i=ya(ma()),o=ma(),[4,_a(o)];case 1:return s=f.sent(),a=Oa(s),c=this._getParams(n,r,i,a,this.options.redirect_uri||window.location.origin),u=this._authorizeUrl(He(He({},c),{response_mode:"web_message"})),e.popup.location.href=u,[4,fa(He(He({},e),{timeoutInSeconds:e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(l=f.sent(),r!==l.state)throw new Error("Invalid state");return[4,Ta({audience:c.audience,scope:c.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:o,code:l.code,grant_type:"authorization_code",redirect_uri:c.redirect_uri,auth0Client:this.options.auth0Client},this.worker)];case 3:return h=f.sent(),d=this._verifyIdToken(h.id_token,i,t.organization||this.options.organization),p=He(He({},h),{decodedToken:d,scope:c.scope,audience:c.audience||"default",client_id:this.options.client_id}),this.cache.save(p),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2]}}))}))},t.prototype.getUser=function(t){return void 0===t&&(t={}),Ge(this,void 0,void 0,(function(){var e,n,r;return Ke(this,(function(i){return e=t.audience||this.options.audience||"default",n=Na(this.defaultScope,this.scope,t.scope),[2,(r=this.cache.get(new ja({client_id:this.options.client_id,audience:e,scope:n})))&&r.decodedToken&&r.decodedToken.user]}))}))},t.prototype.getIdTokenClaims=function(t){return void 0===t&&(t={}),Ge(this,void 0,void 0,(function(){var e,n,r;return Ke(this,(function(i){return e=t.audience||this.options.audience||"default",n=Na(this.defaultScope,this.scope,t.scope),[2,(r=this.cache.get(new ja({client_id:this.options.client_id,audience:e,scope:n})))&&r.decodedToken&&r.decodedToken.claims]}))}))},t.prototype.loginWithRedirect=function(t){return void 0===t&&(t={}),Ge(this,void 0,void 0,(function(){var e,n,r;return Ke(this,(function(i){switch(i.label){case 0:return e=t.redirectMethod,n=Be(t,["redirectMethod"]),[4,this.buildAuthorizeUrl(n)];case 1:return r=i.sent(),window.location[e||"assign"](r),[2]}}))}))},t.prototype.handleRedirectCallback=function(t){return void 0===t&&(t=window.location.href),Ge(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c,u,l,h;return Ke(this,(function(d){switch(d.label){case 0:if(0===(e=t.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(n=function(t){t.indexOf("#")>-1&&(t=t.substr(0,t.indexOf("#")));var e=t.split("&"),n={};return e.forEach((function(t){var e=t.split("=");n[e[0]]=decodeURIComponent(e[1])})),He(He({},n),{expires_in:parseInt(n.expires_in)})}(e.join("")),r=n.state,i=n.code,o=n.error,s=n.error_description,!(a=this.transactionManager.get())||!a.code_verifier)throw new Error("Invalid state");if(this.transactionManager.remove(),o)throw new la(o,s,r,a.appState);return c={audience:a.audience,scope:a.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:a.code_verifier,grant_type:"authorization_code",code:i,auth0Client:this.options.auth0Client},void 0!==a.redirect_uri&&(c.redirect_uri=a.redirect_uri),[4,Ta(c,this.worker)];case 1:return u=d.sent(),l=this._verifyIdToken(u.id_token,a.nonce,a.organizationId),h=He(He({},u),{decodedToken:l,audience:a.audience,scope:a.scope,client_id:this.options.client_id}),this.cache.save(h),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,{appState:a.appState}]}}))}))},t.prototype.checkSession=function(t){return Ge(this,void 0,void 0,(function(){var e;return Ke(this,(function(n){switch(n.label){case 0:if(!this.cookieStorage.get("auth0.is.authenticated"))return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.getTokenSilently(t)];case 2:return n.sent(),[3,4];case 3:if(e=n.sent(),!aa.includes(e.error))throw e;return[3,4];case 4:return[2]}}))}))},t.prototype.getTokenSilently=function(t){return void 0===t&&(t={}),Ge(this,void 0,void 0,(function(){var e,n,r,i=this;return Ke(this,(function(o){return e=He(He({audience:this.options.audience,ignoreCache:!1},t),{scope:Na(this.defaultScope,this.scope,t.scope)}),n=e.ignoreCache,r=Be(e,["ignoreCache"]),[2,(s=function(){return i._getTokenSilently(He({ignoreCache:n},r))},a=this.options.client_id+"::"+r.audience+"::"+r.scope,c=Ja[a],c||(c=s().finally((function(){delete Ja[a],c=null})),Ja[a]=c),c)];var s,a,c}))}))},t.prototype._getTokenSilently=function(t){return void 0===t&&(t={}),Ge(this,void 0,void 0,(function(){var e,n,r,i,o,s,a=this;return Ke(this,(function(c){switch(c.label){case 0:return e=t.ignoreCache,n=Be(t,["ignoreCache"]),r=function(){var t=a.cache.get(new ja({scope:n.scope,audience:n.audience||"default",client_id:a.options.client_id}),60);return t&&t.access_token},!e&&(i=r())?[2,i]:[4,(u=function(){return Za.acquireLock("auth0.lock.getTokenSilently",5e3)},l=10,void 0===l&&(l=3),Ge(void 0,void 0,void 0,(function(){var t;return Ke(this,(function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<l?[4,u()]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return t++,[3,1];case 4:return[2,!1]}}))})))];case 1:if(!c.sent())return[3,10];c.label=2;case 2:return c.trys.push([2,,7,9]),!e&&(i=r())?[2,i]:this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(n)]:[3,4];case 3:return s=c.sent(),[3,6];case 4:return[4,this._getTokenFromIFrame(n)];case 5:s=c.sent(),c.label=6;case 6:return this.cache.save(He({client_id:this.options.client_id},o=s)),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,o.access_token];case 7:return[4,Za.releaseLock("auth0.lock.getTokenSilently")];case 8:return c.sent(),[7];case 9:return[3,11];case 10:throw new ha;case 11:return[2]}var u,l}))}))},t.prototype.getTokenWithPopup=function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Ge(this,void 0,void 0,(function(){return Ke(this,(function(n){switch(n.label){case 0:return t.audience=t.audience||this.options.audience,t.scope=Na(this.defaultScope,this.scope,t.scope),e=He(He({},sa),e),[4,this.loginWithPopup(t,e)];case 1:return n.sent(),[2,this.cache.get(new ja({scope:t.scope,audience:t.audience||"default",client_id:this.options.client_id})).access_token]}}))}))},t.prototype.isAuthenticated=function(){return Ge(this,void 0,void 0,(function(){return Ke(this,(function(t){switch(t.label){case 0:return[4,this.getUser()];case 1:return[2,!!t.sent()]}}))}))},t.prototype.buildLogoutUrl=function(t){void 0===t&&(t={}),null!==t.client_id?t.client_id=t.client_id||this.options.client_id:delete t.client_id;var e=t.federated,n=Be(t,["federated"]),r=e?"&federated":"";return this._url("/v2/logout?"+va(n))+r},t.prototype.logout=function(t){void 0===t&&(t={});var e=t.localOnly,n=Be(t,["localOnly"]);if(e&&n.federated)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");if(this.cache.clear(),this.cookieStorage.remove("auth0.is.authenticated"),!e){var r=this.buildLogoutUrl(n);window.location.assign(r)}},t.prototype._getTokenFromIFrame=function(t){return Ge(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c,u,l,h,d,p,f,g;return Ke(this,(function(b){switch(b.label){case 0:return e=ya(ma()),n=ya(ma()),r=ma(),[4,_a(r)];case 1:i=b.sent(),o=Oa(i),s=this._getParams(t,e,n,o,t.redirect_uri||this.options.redirect_uri||window.location.origin),a=this._authorizeUrl(He(He({},s),{prompt:"none",response_mode:"web_message"})),c=t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,b.label=2;case 2:return b.trys.push([2,5,,6]),[4,(m=a,y=this.domainUrl,v=c,void 0===v&&(v=60),new Promise((function(t,e){var n=window.document.createElement("iframe");n.setAttribute("width","0"),n.setAttribute("height","0"),n.style.display="none";var r,i=function(){window.document.body.contains(n)&&(window.document.body.removeChild(n),window.removeEventListener("message",r,!1))},o=setTimeout((function(){e(new ha),i()}),1e3*v);r=function(n){if(n.origin==y&&n.data&&"authorization_response"===n.data.type){var s=n.source;s&&s.close(),n.data.response.error?e(ua.fromPayload(n.data.response)):t(n.data.response),clearTimeout(o),window.removeEventListener("message",r,!1),setTimeout(i,2e3)}},window.addEventListener("message",r,!1),window.document.body.appendChild(n),n.setAttribute("src",m)})))];case 3:if(u=b.sent(),e!==u.state)throw new Error("Invalid state");return l=t.scope,h=t.audience,d=Be(t,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds"]),[4,Ta(He(He(He({},this.customOptions),d),{scope:l,audience:h,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:r,code:u.code,grant_type:"authorization_code",redirect_uri:s.redirect_uri,auth0Client:this.options.auth0Client}),this.worker)];case 4:return p=b.sent(),f=this._verifyIdToken(p.id_token,n),[2,He(He({},p),{decodedToken:f,scope:s.scope,audience:s.audience||"default"})];case 5:throw"login_required"===(g=b.sent()).error&&this.logout({localOnly:!0}),g;case 6:return[2]}var m,y,v}))}))},t.prototype._getTokenUsingRefreshToken=function(t){return Ge(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,c,u;return Ke(this,(function(l){switch(l.label){case 0:return t.scope=Na(this.defaultScope,this.options.scope,t.scope),(e=this.cache.get(new ja({scope:t.scope,audience:t.audience||"default",client_id:this.options.client_id})))&&e.refresh_token||this.worker?[3,2]:[4,this._getTokenFromIFrame(t)];case 1:return[2,l.sent()];case 2:n=t.redirect_uri||this.options.redirect_uri||window.location.origin,i=t.scope,o=t.audience,s=Be(t,["scope","audience","ignoreCache","timeoutInSeconds"]),a="number"==typeof t.timeoutInSeconds?1e3*t.timeoutInSeconds:null,l.label=3;case 3:return l.trys.push([3,5,,8]),[4,Ta(He(He(He(He(He({},this.customOptions),s),{audience:o,scope:i,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:e&&e.refresh_token,redirect_uri:n}),a&&{timeout:a}),{auth0Client:this.options.auth0Client}),this.worker)];case 4:return r=l.sent(),[3,8];case 5:return"The web worker is missing the refresh token"===(c=l.sent()).message||c.message&&c.message.indexOf("invalid refresh token")>-1?[4,this._getTokenFromIFrame(t)]:[3,7];case 6:return[2,l.sent()];case 7:throw c;case 8:return u=this._verifyIdToken(r.id_token),[2,He(He({},r),{decodedToken:u,scope:t.scope,audience:t.audience||"default"})]}}))}))},t}(),tc=n("XNiG"),ec=n("9ppp");class nc extends tc.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ec.a;return this._value}next(t){super.next(this._value=t)}}var rc=n("qgXg"),ic=n("quSY"),oc=n("pxpQ"),sc=n("Ylt2");class ac extends tc.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new cc(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new ec.a;if(this.isStopped||this.hasError?o=ic.a.EMPTY:(this.observers.push(t),o=new sc.a(this,t)),r&&t.add(t=new oc.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||rc.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class cc{constructor(t,e){this.time=t,this.value=e}}var uc=n("VRyK"),lc=n("EY2u");function hc(t){return new At.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Lt.a)(n):Object(lc.b)()).subscribe(e)})}var dc=n("LRne"),pc=n("z6cu"),fc=n("7o/Q");function gc(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new bc(t,e,n))}}class bc{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new mc(t,this.accumulator,this.seed,this.hasSeed))}}class mc extends fc.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function yc(t,e){return function(n){return n.lift(new vc(t,e))}}class vc{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new _c(t,this.predicate,this.thisArg))}}class _c extends fc.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function wc(t,e){return n=>n.lift(new Oc(t,e))}class Oc{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Cc(t,this.compare,this.keySelector))}}class Cc extends fc.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Sc=n("zx2A");function kc(t,e){return"function"==typeof e?n=>n.pipe(kc((n,r)=>Object(Lt.a)(t(n,r)).pipe(Object(Rt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Ec(t))}class Ec{constructor(t){this.project=t}call(t,e){return e.subscribe(new xc(t,this.project))}}class xc extends Sc.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Sc.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Sc.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var Tc=n("5+tZ");function Ic(t,e){return Object(Tc.b)(t,e,1)}function Nc(t){return function(e){const n=new jc(t),r=e.lift(n);return n.caught=r}}class jc{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ac(t,this.selector,this.caught))}}class Ac extends Sc.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Sc.a(this);this.add(r);const i=Object(Sc.c)(n,r);i!==r&&this.add(i)}}}var Pc=n("vkgz");class Rc{constructor(t){this.notifier=t}call(t,e){const n=new Dc(t),r=Object(Sc.c)(this.notifier,new Sc.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Dc extends Sc.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class Lc extends fc.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Mc extends fc.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Fc=n("SeVD");function Uc(t,e,n,r,i=new Mc(t,n,r)){if(!i.closed)return e instanceof At.a?e.subscribe(i):Object(Fc.a)(e)(i)}function Vc(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new zc(t,n))}}class zc{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new qc(t,this.observables,this.project))}}class qc extends Lc{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(Uc(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Wc=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Hc(t){return e=>0===t?Object(lc.b)():e.lift(new Bc(t))}class Bc{constructor(t){if(this.total=t,this.total<0)throw new Wc}call(t,e){return e.subscribe(new Gc(t,this.total))}}class Gc extends fc.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}const Kc=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function $c(t=null){return e=>e.lift(new Jc(t))}class Jc{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Zc(t,this.defaultValue))}}class Zc extends fc.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Yc(t=tu){return e=>e.lift(new Xc(t))}class Xc{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Qc(t,this.errorFactory))}}class Qc extends fc.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Zb){t=Zb}this.destination.error(t)}}}function tu(){return new Kc}var eu=n("SpAZ");function nu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?yc((e,n)=>t(e,n,r)):eu.a,Hc(1),n?$c(e):Yc(()=>new Kc))}var ru=n("FurV"),iu=n("z+Ro"),ou=n("yCtX");const su={};class au{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new cu(t,this.resultSelector))}}class cu extends Lc{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(su),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Uc(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===su?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var uu=n("bHdf");function lu(){return Object(uu.a)(1)}function hu(t){return function(e){return 0===t?Object(lc.b)():e.lift(new du(t))}}class du{constructor(t){if(this.total=t,this.total<0)throw new Wc}call(t,e){return e.subscribe(new pu(t,this.total))}}class pu extends fc.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function fu(...t){return lu()(Object(dc.a)(...t))}function gu(...t){const e=t[t.length-1];return Object(iu.a)(e)?(t.pop(),n=>fu(t,n,e)):e=>fu(t,e)}class bu{constructor(t){this.callback=t}call(t,e){return e.subscribe(new mu(t,this.callback))}}class mu extends fc.a{constructor(t,e){super(t),this.add(new ic.a(e))}}class yu{constructor(t,e){this.id=t,this.url=e}}class vu extends yu{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _u extends yu{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wu extends yu{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ou extends yu{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Cu extends yu{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Su extends yu{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ku extends yu{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Eu extends yu{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xu extends yu{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tu{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Iu{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nu{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ju{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Au{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pu{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ru{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Du{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Lu(t){return new Du(t)}function Mu(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Fu(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Uu(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Vu(t[i],e[i]))return!1;return!0}function Vu(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function zu(t){return Array.prototype.concat.apply([],t)}function qu(t){return t.length>0?t[t.length-1]:null}function Wu(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Hu(t){return Object(r.qb)(t)?t:Object(r.rb)(t)?Object(Lt.a)(Promise.resolve(t)):Object(dc.a)(t)}function Bu(t,e,n){return n?function(t,e){return Uu(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Ju(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Vu(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Ju(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Ju(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Ju(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class Gu{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lu(this.queryParams)),this._queryParamMap}toString(){return Qu.serialize(this)}}class Ku{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Wu(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tl(this)}}class $u{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Lu(this.parameters)),this._parameterMap}toString(){return sl(this)}}function Ju(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Zu(t,e){let n=[];return Wu(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Wu(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class Yu{}class Xu{parse(t){const e=new hl(t);return new Gu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return tl(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Wu(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Zu(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${tl(e)}/${n[0]}`:`${tl(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${nl(e)}=${nl(t)}`).join("&"):`${nl(e)}=${nl(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+function(t){return encodeURI(t)}(t.fragment):""}`}}const Qu=new Xu;function tl(t){return t.segments.map(t=>sl(t)).join("/")}function el(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nl(t){return el(t).replace(/%3B/gi,";")}function rl(t){return el(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function il(t){return decodeURIComponent(t)}function ol(t){return il(t.replace(/\+/g,"%20"))}function sl(t){return`${rl(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${rl(t)}=${rl(e[t])}`).join("")}`;var e}const al=/^[^\/()?;=#]+/;function cl(t){const e=t.match(al);return e?e[0]:""}const ul=/^[^=?&#]+/,ll=/^[^?&#]+/;class hl{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ku([],{}):new Ku([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Ku(t,e)),n}parseSegment(){const t=cl(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new $u(il(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=cl(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=cl(this.remaining);t&&(n=t,this.capture(n))}t[il(e)]=il(n)}parseQueryParam(t){const e=function(t){const e=t.match(ul);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(ll);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=ol(e),i=ol(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=cl(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Ku([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class dl{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=pl(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=pl(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=fl(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return fl(t,this._root).map(t=>t.value)}}function pl(t,e){if(t===e.value)return e;for(const n of e.children){const e=pl(t,n);if(e)return e}return null}function fl(t,e){if(t===e.value)return[e];for(const n of e.children){const r=fl(t,n);if(r.length)return r.unshift(e),r}return[]}class gl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function bl(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ml extends dl{constructor(t,e){super(t),this.snapshot=e,Cl(this,t)}toString(){return this.snapshot.toString()}}function yl(t,e){const n=function(t,e){const n=new wl([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Ol("",new gl(n,[]))}(t,e),r=new nc([new $u("",{})]),i=new nc({}),o=new nc({}),s=new nc({}),a=new nc(""),c=new vl(r,i,s,a,o,"primary",e,n.root);return c.snapshot=n.root,new ml(new gl(c,[]),n)}class vl{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Rt.a)(t=>Lu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Rt.a)(t=>Lu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _l(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class wl{constructor(t,e,n,r,i,o,s,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ol extends dl{constructor(t,e){super(e),this.url=t,Cl(this,e)}toString(){return Sl(this._root)}}function Cl(t,e){e.value._routerState=t,e.children.forEach(e=>Cl(t,e))}function Sl(t){const e=t.children.length>0?` { ${t.children.map(Sl).join(", ")} } `:"";return`${t.value}${e}`}function kl(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Uu(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Uu(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Uu(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Uu(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function El(t,e){var n,r;return Uu(t.params,e.params)&&Ju(n=t.url,r=e.url)&&n.every((t,e)=>Uu(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||El(t.parent,e.parent))}function xl(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Tl(t){return"object"==typeof t&&null!=t&&t.outlets}function Il(t,e,n,r,i){let o={};return r&&Wu(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Gu(n.root===t?e:function t(e,n,r){const i={};return Wu(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Ku(e.segments,i)}(n.root,t,e),o,i)}class Nl{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&xl(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Tl);if(r&&r!==qu(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jl{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Al(t,e,n){if(t||(t=new Ku([],{})),0===t.segments.length&&t.hasChildren())return Pl(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Tl(s))break;const a=""+s,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!Ml(a,c,e))return o;r+=2}else{if(!Ml(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ku(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Ku(t.segments.slice(r.pathIndex),t.children),Pl(e,0,i)}return r.match&&0===i.length?new Ku(t.segments,{}):r.match&&!t.hasChildren()?Rl(t,e,n):r.match?Pl(t,0,i):Rl(t,e,n)}function Pl(t,e,n){if(0===n.length)return new Ku(t.segments,{});{const r=function(t){return Tl(t[0])?t[0].outlets:{primary:t}}(n),i={};return Wu(r,(n,r)=>{null!==n&&(i[r]=Al(t.children[r],e,n))}),Wu(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ku(t.segments,i)}}function Rl(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Tl(o)){const t=Dl(o.outlets);return new Ku(r,t)}if(0===i&&xl(n[0])){r.push(new $u(t.segments[e].path,n[0])),i++;continue}const s=Tl(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&xl(a)?(r.push(new $u(s,Ll(a))),i+=2):(r.push(new $u(s,{})),i++)}return new Ku(r,{})}function Dl(t){const e={};return Wu(t,(t,n)=>{null!==t&&(e[n]=Rl(new Ku([],{}),0,t))}),e}function Ll(t){const e={};return Wu(t,(t,n)=>e[n]=""+t),e}function Ml(t,e,n){return t==n.path&&Uu(e,n.parameters)}class Fl{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),kl(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=bl(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Wu(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=bl(t),i=t.value.component?n.children:e;Wu(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=bl(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Pu(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ju(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(kl(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Ul(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Ul(t){kl(t.value),t.children.forEach(Ul)}class Vl{constructor(t,e){this.routes=t,this.module=e}}function zl(t){return"function"==typeof t}function ql(t){return t instanceof Gu}const Wl=Symbol("INITIAL_VALUE");function Hl(){return kc(t=>function(...t){let e=void 0,n=void 0;return Object(iu.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Pt.a)(t[0])&&(t=t[0]),Object(ou.a)(t,n).lift(new au(e))}(...t.map(t=>t.pipe(Hc(1),gu(Wl)))).pipe(gc((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Wl)return t;if(r===Wl&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ql(r))return r}return t},t)},Wl),yc(t=>t!==Wl),Object(Rt.a)(t=>ql(t)?t:!0===t),Hc(1)))}class Bl{constructor(t){this.segmentGroup=t||null}}class Gl{constructor(t){this.urlTree=t}}function Kl(t){return new At.a(e=>e.error(new Bl(t)))}function $l(t){return new At.a(e=>e.error(new Gl(t)))}function Jl(t){return new At.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Zl{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(Rt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Nc(t=>{if(t instanceof Gl)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Bl)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Rt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Nc(t=>{if(t instanceof Bl)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ku([],{primary:t}):t;return new Gu(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Rt.a)(t=>new Ku([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(dc.a)({});const n=[],r=[],i={};return Wu(t,(t,o)=>{const s=e(o,t).pipe(Object(Rt.a)(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),dc.a.apply(null,n.concat(r)).pipe(lu(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?yc((e,n)=>t(e,n,r)):eu.a,hu(1),n?$c(e):Yc(()=>new Kc))}(),Object(Rt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(dc.a)(...n).pipe(Ic(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Nc(t=>{if(t instanceof Bl)return Object(dc.a)(null);throw t}))),nu(t=>!!t),Nc((t,n)=>{if(t instanceof Kc||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(dc.a)(new Ku([],{}));throw new Bl(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return th(r)!==o?Kl(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Kl(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?$l(i):this.lineralizeSegments(n,i).pipe(Object(Tc.b)(n=>{const i=new Ku(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:u}=Yl(e,r,i);if(!s)return Kl(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?$l(l):this.lineralizeSegments(r,l).pipe(Object(Tc.b)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Rt.a)(t=>(n._loadedConfig=t,new Ku(r,{})))):Object(dc.a)(new Ku(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Yl(e,n,r);if(!i)return Kl(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(Tc.b)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Ql(t,e,n)&&"primary"!==th(n))}(t,n,r)?{segmentGroup:Xl(new Ku(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==th(r)&&(n[th(r)]=new Ku([],{}));return n}(r,new Ku(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Ql(t,e,n))}(t,n,r)?{segmentGroup:Xl(new Ku(t.segments,function(t,e,n,r){const i={};for(const o of n)Ql(t,e,o)&&!r[th(o)]&&(i[th(o)]=new Ku([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Rt.a)(t=>new Ku(o,t))):0===r.length&&0===s.length?Object(dc.a)(new Ku(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(Object(Rt.a)(t=>new Ku(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(dc.a)(new Vl(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(dc.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Tc.b)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Rt.a)(t=>(e._loadedConfig=t,t))):function(t){return new At.a(e=>e.error(Mu(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(dc.a)(new Vl([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(dc.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&zl(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!zl(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Hu(o)});return Object(dc.a)(i).pipe(Hl(),Object(Pc.a)(t=>{if(!ql(t))return;const e=Mu(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Rt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(dc.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Jl(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Gu(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Wu(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Wu(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Ku(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Yl(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Fu)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Xl(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Ku(t.segments.concat(e.segments),e.children)}return t}function Ql(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function th(t){return t.outlet||"primary"}class eh{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class nh{constructor(t,e){this.component=t,this.route=e}}function rh(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=bl(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,c=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ju(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ju(t.url,e.url)||!Uu(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!El(t,e)||!Uu(t.queryParams,e.queryParams);case"paramsChange":default:return!El(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new eh(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?c?c.children:null:r,i,o),u&&c&&c.outlet&&c.outlet.isActivated&&o.canDeactivateChecks.push(new nh(c.outlet.component,a))}else a&&oh(n,c,o),o.canActivateChecks.push(new eh(i)),t(e,null,s.component?c?c.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Wu(s,(t,e)=>oh(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function ih(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function oh(t,e,n){const r=bl(t),i=t.value;Wu(r,(t,r)=>{oh(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new nh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function sh(t,e){return null!==t&&e&&e(new Au(t)),Object(dc.a)(!0)}function ah(t,e){return null!==t&&e&&e(new Nu(t)),Object(dc.a)(!0)}function ch(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(dc.a)(!0);const i=r.map(r=>hc(()=>{const i=ih(r,e,n);let o;if(function(t){return t&&zl(t.canActivate)}(i))o=Hu(i.canActivate(e,t));else{if(!zl(i))throw new Error("Invalid CanActivate guard");o=Hu(i(e,t))}return o.pipe(nu())}));return Object(dc.a)(i).pipe(Hl())}function uh(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>hc(()=>{const i=e.guards.map(i=>{const o=ih(i,e.node,n);let s;if(function(t){return t&&zl(t.canActivateChild)}(o))s=Hu(o.canActivateChild(r,t));else{if(!zl(o))throw new Error("Invalid CanActivateChild guard");s=Hu(o(r,t))}return s.pipe(nu())});return Object(dc.a)(i).pipe(Hl())}));return Object(dc.a)(i).pipe(Hl())}class lh{}class hh{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=fh(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new wl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new gl(n,e),i=new Ol(this.url,r);return this.inheritParamsAndData(i._root),Object(dc.a)(i)}catch(Zb){return new At.a(e=>e.error(Zb))}}inheritParamsAndData(t){const e=t.value,n=_l(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Zu(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(Zb){if(!(Zb instanceof lh))throw Zb}if(this.noLeftoversInUrl(e,n,r))return[];throw new lh}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new lh;if((t.outlet||"primary")!==r)throw new lh;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?qu(n).parameters:{};i=new wl(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mh(t),r,t.component,t,dh(e),ph(e)+n.length,yh(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new lh;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Fu)(n,t,e);if(!r)throw new lh;const i={};Wu(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new wl(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mh(t),r,t.component,t,dh(e),ph(e)+o.length,yh(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=fh(e,o,s,a,this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new gl(i,t)]}if(0===a.length&&0===u.length)return[new gl(i,[])];const l=this.processSegment(a,c,u,"primary");return[new gl(i,l)]}}function dh(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ph(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function fh(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>gh(t,e,n)&&"primary"!==bh(n))}(t,n,r)){const i=new Ku(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==bh(o)){const n=new Ku([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[bh(o)]=n}return i}(t,e,r,new Ku(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>gh(t,e,n))}(t,n,r)){const o=new Ku(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(gh(t,n,a)&&!i[bh(a)]){const n=new Ku([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[bh(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Ku(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function gh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function bh(t){return t.outlet||"primary"}function mh(t){return t.data||{}}function yh(t){return t.resolve||{}}function vh(t){return function(e){return e.pipe(kc(e=>{const n=t(e);return n?Object(Lt.a)(n).pipe(Object(Rt.a)(()=>e)):Object(Lt.a)([e])}))}}class _h extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let wh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Kb(0,"router-outlet")},directives:function(){return[Uh]},encapsulation:2}),t})();function Oh(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ch(r,Sh(e,r))}}function Ch(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Oh(t.children,e)}function Sh(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function kh(t){const e=t.children&&t.children.map(kh),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=wh),n}const Eh=new r.q("ROUTES");class xh{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Rt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Vl(zu(r.injector.get(Eh)).map(kh),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Lt.a)(this.loader.load(t)):Hu(t()).pipe(Object(Tc.b)(t=>t instanceof r.v?Object(dc.a)(t):Object(Lt.a)(this.compiler.compileModuleAsync(t))))}}class Th{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ih,this.attachRef=null}}class Ih{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Th,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Nh{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function jh(t){throw t}function Ah(t,e,n){return e.parse("/")}function Ph(t,e){return Object(dc.a)(null)}let Rh=(()=>{class t{constructor(t,e,n,i,o,s,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new tc.a,this.errorHandler=jh,this.malformedUriErrorHandler=Ah,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ph,afterPreactivation:Ph},this.urlHandlingStrategy=new Nh,this.routeReuseStrategy=new _h,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.x),this.console=o.get(r.Y);const u=o.get(r.z);this.isNgZoneEnabled=u instanceof r.z,this.resetConfig(c),this.currentUrlTree=new Gu(new Ku([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new xh(s,a,t=>this.triggerEvent(new Tu(t)),t=>this.triggerEvent(new Iu(t))),this.routerState=yl(this.currentUrlTree,this.rootComponentType),this.transitions=new nc({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(yc(t=>0!==t.id),Object(Rt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),kc(t=>{let n=!1,r=!1;return Object(dc.a)(t).pipe(Object(Pc.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),kc(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(dc.a)(t).pipe(kc(t=>{const n=this.transitions.getValue();return e.next(new vu(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?lc.a:[t]}),kc(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(kc(t=>function(t,e,n,r,i){return new Zl(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Rt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Pc.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(Tc.b)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new hh(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Rt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Pc.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Pc.a)(t=>{const n=new Cu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new vu(n,this.serializeUrl(r),i,o);e.next(a);const c=yl(r,this.rootComponentType).snapshot;return Object(dc.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),lc.a}),vh(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Pc.a)(t=>{const e=new Su(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Rt.a)(t=>Object.assign(Object.assign({},t),{guards:rh(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Tc.b)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(dc.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Lt.a)(t).pipe(Object(Tc.b)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(dc.a)(!0);const s=o.map(o=>{const s=ih(o,e,i);let a;if(function(t){return t&&zl(t.canDeactivate)}(s))a=Hu(s.canDeactivate(t,e,n,r));else{if(!zl(s))throw new Error("Invalid CanDeactivate guard");a=Hu(s(t,e,n,r))}return a.pipe(nu())});return Object(dc.a)(s).pipe(Hl())}(t.component,t.route,n,e,r)),nu(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Tc.b)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Lt.a)(e).pipe(Ic(e=>Object(Lt.a)([ah(e.route.parent,r),sh(e.route,r),uh(t,e.path,n),ch(t,e.route,n)]).pipe(lu(),nu(t=>!0!==t,!0))),nu(t=>!0!==t,!0))}(r,o,t,e):Object(dc.a)(n)),Object(Rt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Pc.a)(t=>{if(ql(t.guardsResult)){const e=Mu(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Pc.a)(t=>{const e=new ku(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),yc(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new wu(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),vh(t=>{if(t.guards.canActivateChecks.length)return Object(dc.a)(t).pipe(Object(Pc.a)(t=>{const e=new Eu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),kc(t=>{let n=!1;return Object(dc.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Tc.b)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(dc.a)(t);let o=0;return Object(Lt.a)(n).pipe(Ic(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(dc.a)({});const o={};return Object(Lt.a)(i).pipe(Object(Tc.b)(i=>function(t,e,n,r){const i=ih(t,e,r);return Hu(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Pc.a)(t=>{o[i]=t}))),hu(1),Object(Tc.b)(()=>Object.keys(o).length===i.length?Object(dc.a)(o):lc.a))}(t._resolve,t,e,r).pipe(Object(Rt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),_l(t,n).resolve),null)))}(t.route,e,r,i)),Object(Pc.a)(()=>o++),hu(1),Object(Tc.b)(e=>o===n.length?Object(dc.a)(t):lc.a))}))}),Object(Pc.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new wu(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Pc.a)(t=>{const e=new xu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),vh(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Rt.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new gl(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new vl(new nc((i=n.value).url),new nc(i.params),new nc(i.queryParams),new nc(i.fragment),new nc(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new gl(r,o)}}var i}(t,e._root,n?n._root:void 0);return new ml(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Pc.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Rt.a)(t=>(new Fl(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(Pc.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new wu(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new bu(i))),Nc(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ql(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new wu(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ou(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return lc.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Oh(t),this.config=t.map(kh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:c}=e;Object(r.V)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,l=c?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Il(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Nl(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Wu(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Nl(n,e,r)}(n);if(o.toRoot())return Il(e.root,new Ku([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new jl(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new jl(t,t===e.root,0)}const r=xl(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new jl(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Pl(s.segmentGroup,s.index,o.commands):Al(s.segmentGroup,s.index,o.commands);return Il(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.V)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=ql(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Zb){e=this.malformedUriErrorHandler(Zb,this.urlSerializer,t)}return e}isActive(t,e){if(ql(t))return Bu(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Bu(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new _u(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let c,u,l;i?(c=i.resolve,u=i.reject,l=i.promise):l=new Promise((t,e)=>{c=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.N),r.Sb(Yu),r.Sb(Ih),r.Sb(O),r.Sb(r.r),r.Sb(r.w),r.Sb(r.i),r.Sb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Dh=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new tc.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.V)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Mh(this.skipLocationChange),replaceUrl:Mh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Mh(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Mh(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Rh),r.Jb(vl),r.Tb("tabindex"),r.Jb(r.E),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Vb("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.xb]}),t})(),Lh=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new tc.a,this.subscription=t.events.subscribe(t=>{t instanceof _u&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.V)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Mh(this.skipLocationChange),replaceUrl:Mh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Mh(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Mh(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Rh),r.Jb(vl),r.Jb(m))},t.\u0275dir=r.Eb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Vb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(r.Rb("href",e.href,r.lc),r.Ab("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.xb]}),t})();function Mh(t){return""===t||!!t}let Fh=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof _u&&this.update()})}ngAfterContentInit(){Object(Lt.a)([this.links.changes,this.linksWithHrefs.changes,Object(dc.a)(null)]).pipe(Object(uu.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(Lt.a)(e).pipe(Object(uu.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Rh),r.Jb(r.l),r.Jb(r.E),r.Jb(r.h),r.Jb(Dh,8),r.Jb(Lh,8))},t.\u0275dir=r.Eb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Cb(n,Dh,!0),r.Cb(n,Lh,!0)),2&t&&(r.hc(i=r.Wb())&&(e.links=i),r.hc(i=r.Wb())&&(e.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.xb]}),t})(),Uh=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Vh(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Ih),r.Jb(r.Q),r.Jb(r.j),r.Tb("name"),r.Jb(r.h))},t.\u0275dir=r.Eb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Vh{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===vl?this.route:t===Ih?this.childContexts:this.parent.get(t,e)}}class zh{}class qh{preload(t,e){return Object(dc.a)(null)}}let Wh=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new xh(e,n,e=>t.triggerEvent(new Tu(e)),e=>t.triggerEvent(new Iu(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(yc(t=>t instanceof _u),Ic(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Lt.a)(n).pipe(Object(uu.a)(),Object(Rt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Tc.b)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Rh),r.Sb(r.w),r.Sb(r.i),r.Sb(r.r),r.Sb(zh))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Hh=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof _u&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ru&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Ru(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Rh),r.Sb(X),r.Sb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const Bh=new r.q("ROUTER_CONFIGURATION"),Gh=new r.q("ROUTER_FORROOT_GUARD"),Kh=[O,{provide:Yu,useClass:Xu},{provide:Rh,useFactory:function(t,e,n,r,i,o,a,c={},u,l){const h=new Rh(null,t,e,n,r,i,o,zu(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),c.errorHandler&&(h.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(h.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return c.onSameUrlNavigation&&(h.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(h.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(h.relativeLinkResolution=c.relativeLinkResolution),h},deps:[Yu,Ih,O,r.r,r.w,r.i,Eh,Bh,[class{},new r.A],[class{},new r.A]]},Ih,{provide:vl,useFactory:function(t){return t.routerState.root},deps:[Rh]},{provide:r.w,useClass:r.K},Wh,qh,class{preload(t,e){return e().pipe(Nc(()=>Object(dc.a)(null)))}},{provide:Bh,useValue:{enableTracing:!1}}];function $h(){return new r.y("Router",Rh)}let Jh=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Kh,Qh(e),{provide:Gh,useFactory:Xh,deps:[[Rh,new r.A,new r.J]]},{provide:Bh,useValue:n||{}},{provide:m,useFactory:Yh,deps:[c,[new r.p(v),new r.A],Bh]},{provide:Hh,useFactory:Zh,deps:[Rh,X,Bh]},{provide:zh,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:qh},{provide:r.y,multi:!0,useFactory:$h},[td,{provide:r.d,multi:!0,useFactory:ed,deps:[td]},{provide:rd,useFactory:nd,deps:[td]},{provide:r.b,multi:!0,useExisting:rd}]]}}static forChild(e){return{ngModule:t,providers:[Qh(e)]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Sb(Gh,8),r.Sb(Rh,8))}}),t})();function Zh(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Hh(t,e,n)}function Yh(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function Xh(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Qh(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Eh,multi:!0,useValue:t}]}let td=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new tc.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Rh),r=this.injector.get(Bh);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(dc.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Bh),n=this.injector.get(Wh),i=this.injector.get(Hh),o=this.injector.get(Rh),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.r))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function ed(t){return t.appInitializer.bind(t)}function nd(t){return t.bootstrapListener.bind(t)}const rd=new r.q("Router Initializer");class id{static createClient(t){const e=t.get();if(!e)throw new Error("Configuration must be specified either through AuthModule.forRoot or through AuthClientConfig.set");const{redirectUri:n,clientId:r,maxAge:i}=e,o=Object(ru.f)(e,["redirectUri","clientId","maxAge","httpInterceptor"]);return new Qa(Object.assign(Object.assign({redirect_uri:n||window.location.origin,client_id:r,max_age:i},o),{auth0Client:{name:"@auth0/auth0-angular",version:"1.5.0"}}))}}const od=new r.q("auth0.client");let sd=(()=>{class t{constructor(t,e){this.location=t;try{this.router=e.get(Rh)}catch(n){}}navigateByUrl(t){this.router?this.router.navigateByUrl(t):this.location.replaceState(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(O),r.Sb(r.r))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(O),Object(r.Sb)(r.o))},token:t,providedIn:"root"}),t})(),ad=(()=>{class t{constructor(t){t&&this.set(t)}set(t){this.config=t}get(){return this.config}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(cd,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(cd,8))},token:t,providedIn:"root"}),t})();const cd=new r.q("auth0-angular.config");let ud=(()=>{class t{constructor(t,e,n,r){this.auth0Client=t,this.configFactory=e,this.location=n,this.navigator=r,this.isLoadingSubject$=new nc(!0),this.errorSubject$=new ac(1),this.refreshState$=new tc.a,this.accessToken$=new ac(1),this.ngUnsubscribe$=new tc.a,this.isLoading$=this.isLoadingSubject$.asObservable(),this.accessTokenTrigger$=this.accessToken$.pipe(gc((t,e)=>({previous:t.current,current:e}),{current:null,previous:null}),yc(({previous:t,current:e})=>t!==e)),this.isAuthenticatedTrigger$=this.isLoading$.pipe(yc(t=>!t),wc(),kc(()=>Object(uc.a)(hc(()=>this.auth0Client.isAuthenticated()),this.accessTokenTrigger$.pipe(Object(Tc.b)(()=>this.auth0Client.isAuthenticated())),this.refreshState$.pipe(Object(Tc.b)(()=>this.auth0Client.isAuthenticated()))))),this.isAuthenticated$=this.isAuthenticatedTrigger$.pipe(wc()),this.user$=this.isAuthenticatedTrigger$.pipe(Ic(t=>t?this.auth0Client.getUser():Object(dc.a)(null))),this.idTokenClaims$=this.isAuthenticatedTrigger$.pipe(Ic(t=>t?this.auth0Client.getIdTokenClaims():Object(dc.a)(null))),this.error$=this.errorSubject$.asObservable();const i=t=>function(t,e=lc.a,n=lc.a){return hc(()=>t()?e:n)}(()=>t,this.handleRedirectCallback(),hc(()=>this.auth0Client.checkSession()));var o;this.shouldHandleCallback().pipe(kc(t=>i(t).pipe(Nc(t=>{const e=this.configFactory.get();return this.errorSubject$.next(t),this.navigator.navigateByUrl(e.errorPath||"/"),Object(dc.a)(void 0)}))),Object(Pc.a)(()=>{this.isLoadingSubject$.next(!1)}),(o=this.ngUnsubscribe$,t=>t.lift(new Rc(o)))).subscribe()}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}loginWithRedirect(t){return Object(Lt.a)(this.auth0Client.loginWithRedirect(t))}loginWithPopup(t,e){return Object(Lt.a)(this.auth0Client.loginWithPopup(t,e).then(()=>{this.refreshState$.next()}))}logout(t){this.auth0Client.logout(t),(null==t?void 0:t.localOnly)&&this.refreshState$.next()}getAccessTokenSilently(t){return Object(dc.a)(this.auth0Client).pipe(Ic(e=>e.getTokenSilently(t)),Object(Pc.a)(t=>this.accessToken$.next(t)),Nc(t=>(this.errorSubject$.next(t),this.refreshState$.next(),Object(pc.a)(t))))}getAccessTokenWithPopup(t){return Object(dc.a)(this.auth0Client).pipe(Ic(e=>e.getTokenWithPopup(t)),Object(Pc.a)(t=>this.accessToken$.next(t)),Nc(t=>(this.errorSubject$.next(t),this.refreshState$.next(),Object(pc.a)(t))))}handleRedirectCallback(t){return hc(()=>this.auth0Client.handleRedirectCallback(t)).pipe(Vc(this.isLoadingSubject$),Object(Pc.a)(([t,e])=>{var n,r;e||this.refreshState$.next();const i=null!==(r=null===(n=null==t?void 0:t.appState)||void 0===n?void 0:n.target)&&void 0!==r?r:"/";this.navigator.navigateByUrl(i)}),Object(Rt.a)(([t])=>t))}buildAuthorizeUrl(t){return hc(()=>this.auth0Client.buildAuthorizeUrl(t))}buildLogoutUrl(t){return Object(dc.a)(this.auth0Client.buildLogoutUrl(t))}shouldHandleCallback(){return Object(dc.a)(this.location.path()).pipe(Object(Rt.a)(t=>(t.includes("code=")||t.includes("error="))&&t.includes("state=")&&!this.configFactory.get().skipRedirectCallback))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(od),r.Sb(ad),r.Sb(O),r.Sb(sd))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(od),Object(r.Sb)(ad),Object(r.Sb)(O),Object(r.Sb)(sd))},token:t,providedIn:"root"}),t})(),ld=(()=>{class t{constructor(t){this.auth=t}canLoad(t,e){return this.auth.isAuthenticated$.pipe(Hc(1))}canActivate(t,e){return this.redirectIfUnauthenticated(e)}canActivateChild(t,e){return this.redirectIfUnauthenticated(e)}redirectIfUnauthenticated(t){return this.auth.isAuthenticated$.pipe(Object(Pc.a)(e=>{e||this.auth.loginWithRedirect({appState:{target:t.url}})}))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(ud))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Sb)(ud))},token:t,providedIn:"root"}),t})(),hd=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[ud,ld,{provide:cd,useValue:e},{provide:od,useFactory:id.createClient,deps:[ad]}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})();class dd{}class pd{}class fd{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof fd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new fd;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof fd?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class gd{encodeKey(t){return bd(t)}encodeValue(t){return bd(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function bd(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class md{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new gd,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new md({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function yd(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function vd(t){return"undefined"!=typeof Blob&&t instanceof Blob}function _d(t){return"undefined"!=typeof FormData&&t instanceof FormData}class wd{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new fd),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new md,this.urlWithParams=e}serializeBody(){return null===this.body?null:yd(this.body)||vd(this.body)||_d(this.body)||"string"==typeof this.body?this.body:this.body instanceof md?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_d(this.body)?null:vd(this.body)?this.body.type||null:yd(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof md?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new wd(e,n,i,{params:c,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var Od=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Cd{constructor(t,e=200,n="OK"){this.headers=t.headers||new fd,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Sd extends Cd{constructor(t={}){super(t),this.type=Od.ResponseHeader}clone(t={}){return new Sd({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class kd extends Cd{constructor(t={}){super(t),this.type=Od.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new kd({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ed extends Cd{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function xd(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Td=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof wd)r=t;else{let i=void 0;i=n.headers instanceof fd?n.headers:new fd(n.headers);let o=void 0;n.params&&(o=n.params instanceof md?n.params:new md({fromObject:n.params})),r=new wd(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(dc.a)(r).pipe(Ic(t=>this.handler.handle(t)));if(t instanceof wd||"events"===n.observe)return i;const o=i.pipe(yc(t=>t instanceof kd));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(Rt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(Rt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(Rt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(Rt.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new md).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,xd(n,e))}post(t,e,n={}){return this.request("POST",t,xd(n,e))}put(t,e,n={}){return this.request("PUT",t,xd(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(dd))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class Id{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Nd=new r.q("HTTP_INTERCEPTORS");let jd=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const Ad=/^\)\]\}',?\n/;class Pd{}let Rd=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Dd=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new At.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new fd(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Sd({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(Ad,"");try{c=""!==c?JSON.parse(c):null}catch(l){c=t,u&&(u=!1,c={error:l,text:c})}}u?(e.next(new kd({body:c,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new Ed({error:c,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new Ed({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let c=!1;const u=r=>{c||(e.next(o()),c=!0);let i={type:Od.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:Od.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:Od.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Pd))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const Ld=new r.q("XSRF_COOKIE_NAME"),Md=new r.q("XSRF_HEADER_NAME");class Fd{}let Ud=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=R(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(a),r.Sb(r.B),r.Sb(Ld))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Vd=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Fd),r.Sb(Md))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),zd=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Nd,[]);this.chain=t.reduceRight((t,e)=>new Id(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(pd),r.Sb(r.r))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),qd=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Vd,useClass:jd}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Ld,useValue:e.cookieName}:[],e.headerName?{provide:Md,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Vd,{provide:Nd,useExisting:Vd,multi:!0},{provide:Fd,useClass:Ud},{provide:Ld,useValue:"XSRF-TOKEN"},{provide:Md,useValue:"X-XSRF-TOKEN"}]}),t})(),Wd=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Td,{provide:dd,useClass:zd},Dd,{provide:pd,useExisting:Dd},Rd,{provide:Pd,useExisting:Rd}],imports:[[qd.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();function Hd(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(Zb){o(Zb)}}function a(t){try{c(r.throw(t))}catch(Zb){o(Zb)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}var Bd=n("D0XW"),Gd=n("Y7HM");function Kd(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}var $d=n("n6bG");n("8Qeq");class Jd{constructor(t){this.notifier=t}call(t,e){const n=new Zd(t),r=e.subscribe(n);return r.add(Object(Sc.c)(this.notifier,new Sc.a(n))),r}}class Zd extends Sc.b{constructor(){super(...arguments),this.hasValue=!1}_next(t){this.value=t,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function Yd(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,c=!1;return function(u){let l;s++,!i||a?(a=!1,i=new ac(t,e,r),l=i.subscribe(this),o=u.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,o=void 0,i.complete()}}),c&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!c&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}class Xd{constructor(t){this.total=t}call(t,e){return e.subscribe(new Qd(t,this.total))}}class Qd extends fc.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}n("oB13");const tp=["*"];let ep=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})(),np=(()=>{let t=class{constructor(t,e){this._loader=t,this._zone=e,this._map=new Promise(t=>{this._mapResolver=t})}createMap(t,e){return this._zone.runOutsideAngular(()=>this._loader.load().then(()=>{const n=new google.maps.Map(t,e);this._mapResolver(n)}))}setMapOptions(t){return this._zone.runOutsideAngular(()=>{this._map.then(e=>{e.setOptions(t)})})}createMarker(t={},e=!0){return this._zone.runOutsideAngular(()=>this._map.then(n=>(e&&(t.map=n),new google.maps.Marker(t))))}createInfoWindow(t){return this._zone.runOutsideAngular(()=>this._map.then(()=>new google.maps.InfoWindow(t)))}createCircle(t){return this._zone.runOutsideAngular(()=>this._map.then(e=>("string"==typeof t.strokePosition&&(t.strokePosition=google.maps.StrokePosition[t.strokePosition]),t.map=e,new google.maps.Circle(t))))}createRectangle(t){return this._zone.runOutsideAngular(()=>this._map.then(e=>(t.map=e,new google.maps.Rectangle(t))))}createPolyline(t){return this._zone.runOutsideAngular(()=>this.getNativeMap().then(e=>{let n=new google.maps.Polyline(t);return n.setMap(e),n}))}createPolygon(t){return this._zone.runOutsideAngular(()=>this.getNativeMap().then(e=>{let n=new google.maps.Polygon(t);return n.setMap(e),n}))}createDataLayer(t){return this._zone.runOutsideAngular(()=>this._map.then(e=>{let n=new google.maps.Data(t);return n.setMap(e),n}))}createTransitLayer(t){return this._zone.runOutsideAngular(()=>this._map.then(e=>{let n=new google.maps.TransitLayer;return n.setMap(t.visible?e:null),n}))}createBicyclingLayer(t){return this._zone.runOutsideAngular(()=>this._map.then(e=>{let n=new google.maps.BicyclingLayer;return n.setMap(t.visible?e:null),n}))}containsLocation(t,e){return google.maps.geometry.poly.containsLocation(t,e)}subscribeToMapEvent(t){return new At.a(e=>{this._map.then(n=>{n.addListener(t,t=>{this._zone.run(()=>e.next(t))})})})}clearInstanceListeners(){return this._zone.runOutsideAngular(()=>{this._map.then(t=>{google.maps.event.clearInstanceListeners(t)})})}setCenter(t){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.setCenter(t)))}getZoom(){return this._zone.runOutsideAngular(()=>this._map.then(t=>t.getZoom()))}getBounds(){return this._zone.runOutsideAngular(()=>this._map.then(t=>t.getBounds()))}getMapTypeId(){return this._zone.runOutsideAngular(()=>this._map.then(t=>t.getMapTypeId()))}setZoom(t){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.setZoom(t)))}getCenter(){return this._zone.runOutsideAngular(()=>this._map.then(t=>t.getCenter()))}panTo(t){return this._zone.runOutsideAngular(()=>this._map.then(e=>e.panTo(t)))}panBy(t,e){return this._zone.runOutsideAngular(()=>this._map.then(n=>n.panBy(t,e)))}fitBounds(t,e){return this._zone.runOutsideAngular(()=>this._map.then(n=>n.fitBounds(t,e)))}panToBounds(t,e){return this._zone.runOutsideAngular(()=>this._map.then(n=>n.panToBounds(t,e)))}getNativeMap(){return this._map}triggerMapEvent(t){return this._map.then(e=>google.maps.event.trigger(e,t))}};return t.\u0275fac=function(e){return new(e||t)(r.Sb(ep),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})(),rp=(()=>{let t=class{constructor(t){this._wrapper=t,this._layers=new Map}addTransitLayer(t,e){const n=this._wrapper.createTransitLayer(e);this._layers.set(t,n)}addBicyclingLayer(t,e){const n=this._wrapper.createBicyclingLayer(e);this._layers.set(t,n)}deleteLayer(t){return this._layers.get(t).then(e=>{e.setMap(null),this._layers.delete(t)})}toggleLayerVisibility(t,e){return this._layers.get(t).then(t=>e.visible?this._wrapper.getNativeMap().then(e=>{t.setMap(e)}):void t.setMap(null))}};return t.\u0275fac=function(e){return new(e||t)(r.Sb(np))},t.\u0275prov=r.Fb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})(),ip=(()=>{let t=class{constructor(t,e){this._apiWrapper=t,this._zone=e,this._circles=new Map}addCircle(t){this._circles.set(t,this._apiWrapper.createCircle({center:{lat:t.latitude,lng:t.longitude},clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,radius:t.radius,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokePosition:t.strokePosition,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex}))}removeCircle(t){return this._circles.get(t).then(e=>{e.setMap(null),this._circles.delete(t)})}setOptions(t,e){return this._circles.get(t).then(t=>{"string"==typeof e.strokePosition&&(e.strokePosition=google.maps.StrokePosition[e.strokePosition]),t.setOptions(e)})}getBounds(t){return this._circles.get(t).then(t=>t.getBounds())}getCenter(t){return this._circles.get(t).then(t=>t.getCenter())}getRadius(t){return this._circles.get(t).then(t=>t.getRadius())}setCenter(t){return this._circles.get(t).then(e=>e.setCenter({lat:t.latitude,lng:t.longitude}))}setEditable(t){return this._circles.get(t).then(e=>e.setEditable(t.editable))}setDraggable(t){return this._circles.get(t).then(e=>e.setDraggable(t.draggable))}setVisible(t){return this._circles.get(t).then(e=>e.setVisible(t.visible))}setRadius(t){return this._circles.get(t).then(e=>e.setRadius(t.radius))}getNativeCircle(t){return this._circles.get(t)}createEventObservable(t,e){return new At.a(n=>{let r=null;return this._circles.get(e).then(e=>{r=e.addListener(t,t=>this._zone.run(()=>n.next(t)))}),()=>{null!==r&&r.remove()}})}};return t.\u0275fac=function(e){return new(e||t)(r.Sb(np),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})(),op=(()=>{let t=class{constructor(t,e){this._wrapper=t,this._zone=e,this._layers=new Map}addDataLayer(t){const e=this._wrapper.createDataLayer({style:t.style}).then(e=>(t.geoJson&&this.getDataFeatures(e,t.geoJson).then(t=>e.features=t),e));this._layers.set(t,e)}deleteDataLayer(t){this._layers.get(t).then(e=>{e.setMap(null),this._layers.delete(t)})}updateGeoJson(t,e){this._layers.get(t).then(t=>{t.forEach((function(e){t.remove(e);var n=t.features.indexOf(e,0);n>-1&&t.features.splice(n,1)})),this.getDataFeatures(t,e).then(e=>t.features=e)})}setDataOptions(t,e){this._layers.get(t).then(t=>{t.setControlPosition(e.controlPosition),t.setControls(e.controls),t.setDrawingMode(e.drawingMode),t.setStyle(e.style)})}createEventObservable(t,e){return new At.a(n=>{this._layers.get(e).then(e=>{e.addListener(t,t=>this._zone.run(()=>n.next(t)))})})}getDataFeatures(t,e){return new Promise((n,r)=>{if("object"==typeof e)try{n(t.addGeoJson(e))}catch(Zb){r(Zb)}else"string"==typeof e?t.loadGeoJson(e,null,n):r("Impossible to extract features from geoJson: wrong argument type")})}};return t.\u0275fac=function(e){return new(e||t)(r.Sb(np),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})();class sp{}let ap=(()=>{let t=class{constructor(t){var e;this._boundsChangeSampleTime$=new nc(200),this._includeInBounds$=new nc(new Map),this.bounds$=Object(Lt.a)(t.load()).pipe(Object(Tc.a)(()=>this._includeInBounds$),(e=this._boundsChangeSampleTime$.pipe(kc(t=>function(t=0,e,n){let r=-1;return Object(Gd.a)(e)?r=Number(e)<1?1:Number(e):Object(iu.a)(e)&&(n=e),Object(iu.a)(n)||(n=Bd.a),new At.a(e=>{const i=Object(Gd.a)(t)?t:+t-n.now();return n.schedule(Kd,i,{index:0,period:r,subscriber:e})})}(0,t))),t=>t.lift(new Jd(e))),Object(Rt.a)(t=>this._generateBounds(t)),Yd(1))}_generateBounds(t){const e=new google.maps.LatLngBounds;return t.forEach(t=>e.extend(t)),e}addToBounds(t){const e=this._createIdentifier(t);if(this._includeInBounds$.value.has(e))return;const n=this._includeInBounds$.value;n.set(e,t),this._includeInBounds$.next(n)}removeFromBounds(t){const e=this._includeInBounds$.value;e.delete(this._createIdentifier(t)),this._includeInBounds$.next(e)}changeFitBoundsChangeSampleTime(t){this._boundsChangeSampleTime$.next(t)}getBounds$(){return this.bounds$}_createIdentifier(t){return`${t.lat}+${t.lng}`}};return t.\u0275fac=function(e){return new(e||t)(r.Sb(ep))},t.\u0275prov=r.Fb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})(),cp=(()=>{let t=class{constructor(t,e){this._mapsWrapper=t,this._zone=e,this._markers=new Map}convertAnimation(t){return Hd(this,void 0,void 0,(function*(){return null===t?null:this._mapsWrapper.getNativeMap().then(()=>google.maps.Animation[t])}))}deleteMarker(t){const e=this._markers.get(t);return null==e?Promise.resolve():e.then(e=>this._zone.run(()=>{e.setMap(null),this._markers.delete(t)}))}updateMarkerPosition(t){return this._markers.get(t).then(e=>e.setPosition({lat:t.latitude,lng:t.longitude}))}updateTitle(t){return this._markers.get(t).then(e=>e.setTitle(t.title))}updateLabel(t){return this._markers.get(t).then(e=>{e.setLabel(t.label)})}updateDraggable(t){return this._markers.get(t).then(e=>e.setDraggable(t.draggable))}updateIcon(t){return this._markers.get(t).then(e=>e.setIcon(t.iconUrl))}updateOpacity(t){return this._markers.get(t).then(e=>e.setOpacity(t.opacity))}updateVisible(t){return this._markers.get(t).then(e=>e.setVisible(t.visible))}updateZIndex(t){return this._markers.get(t).then(e=>e.setZIndex(t.zIndex))}updateClickable(t){return this._markers.get(t).then(e=>e.setClickable(t.clickable))}updateAnimation(t){return Hd(this,void 0,void 0,(function*(){(yield this._markers.get(t)).setAnimation(yield this.convertAnimation(t.animation))}))}addMarker(t){const e=new Promise(e=>Hd(this,void 0,void 0,(function*(){return this._mapsWrapper.createMarker({position:{lat:t.latitude,lng:t.longitude},label:t.label,draggable:t.draggable,icon:t.iconUrl,opacity:t.opacity,visible:t.visible,zIndex:t.zIndex,title:t.title,clickable:t.clickable,animation:yield this.convertAnimation(t.animation)}).then(e)})));this._markers.set(t,e)}getNativeMarker(t){return this._markers.get(t)}createEventObservable(t,e){return new At.a(n=>{this._markers.get(e).then(e=>{e.addListener(t,t=>this._zone.run(()=>n.next(t)))})})}};return t.\u0275fac=function(e){return new(e||t)(r.Sb(np),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})(),up=(()=>{let t=class{constructor(t,e,n){this._mapsWrapper=t,this._zone=e,this._markerManager=n,this._infoWindows=new Map}deleteInfoWindow(t){const e=this._infoWindows.get(t);return null==e?Promise.resolve():e.then(e=>this._zone.run(()=>{e.close(),this._infoWindows.delete(t)}))}setPosition(t){return this._infoWindows.get(t).then(e=>e.setPosition({lat:t.latitude,lng:t.longitude}))}setZIndex(t){return this._infoWindows.get(t).then(e=>e.setZIndex(t.zIndex))}open(t){return this._infoWindows.get(t).then(e=>null!=t.hostMarker?this._markerManager.getNativeMarker(t.hostMarker).then(t=>this._mapsWrapper.getNativeMap().then(n=>e.open(n,t))):this._mapsWrapper.getNativeMap().then(t=>e.open(t)))}close(t){return this._infoWindows.get(t).then(t=>t.close())}setOptions(t,e){return this._infoWindows.get(t).then(t=>t.setOptions(e))}addInfoWindow(t){const e={content:t.content,maxWidth:t.maxWidth,zIndex:t.zIndex,disableAutoPan:t.disableAutoPan};"number"==typeof t.latitude&&"number"==typeof t.longitude&&(e.position={lat:t.latitude,lng:t.longitude});const n=this._mapsWrapper.createInfoWindow(e);this._infoWindows.set(t,n)}createEventObservable(t,e){return new At.a(n=>{this._infoWindows.get(e).then(e=>{e.addListener(t,t=>this._zone.run(()=>n.next(t)))})})}};return t.\u0275fac=function(e){return new(e||t)(r.Sb(np),r.Sb(r.z),r.Sb(cp))},t.\u0275prov=r.Fb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})();var lp;let hp=0,dp=(()=>{let t=lp=class{constructor(t,e){this._infoWindowManager=t,this._el=e,this.isOpen=!1,this.infoWindowClose=new r.n,this._infoWindowAddedToManager=!1,this._id=(hp++).toString()}ngOnInit(){this.content=this._el.nativeElement.querySelector(".agm-info-window-content"),this._infoWindowManager.addInfoWindow(this),this._infoWindowAddedToManager=!0,this._updateOpenState(),this._registerEventListeners()}ngOnChanges(t){this._infoWindowAddedToManager&&((t.latitude||t.longitude)&&"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._infoWindowManager.setPosition(this),t.zIndex&&this._infoWindowManager.setZIndex(this),t.isOpen&&this._updateOpenState(),this._setInfoWindowOptions(t))}_registerEventListeners(){this._infoWindowManager.createEventObservable("closeclick",this).subscribe(()=>{this.isOpen=!1,this.infoWindowClose.emit()})}_updateOpenState(){this.isOpen?this.open():this.close()}_setInfoWindowOptions(t){let e={};Object.keys(t).filter(t=>-1!==lp._infoWindowOptionsInputs.indexOf(t)).forEach(n=>{e[n]=t[n].currentValue}),this._infoWindowManager.setOptions(this,e)}open(){return this._infoWindowManager.open(this)}close(){return this._infoWindowManager.close(this).then(()=>{this.infoWindowClose.emit()})}id(){return this._id}toString(){return"AgmInfoWindow-"+this._id.toString()}ngOnDestroy(){this._infoWindowManager.deleteInfoWindow(this)}};return t.\u0275fac=function(e){return new(e||t)(r.Jb(up),r.Jb(r.l))},t.\u0275cmp=r.Db({type:t,selectors:[["agm-info-window"]],inputs:{isOpen:"isOpen",latitude:"latitude",longitude:"longitude",disableAutoPan:"disableAutoPan",zIndex:"zIndex",maxWidth:"maxWidth"},outputs:{infoWindowClose:"infoWindowClose"},features:[r.xb],ngContentSelectors:tp,decls:2,vars:0,consts:[[1,"agm-info-window-content"]],template:function(t,e){1&t&&(r.cc(),r.Ob(0,"div",0),r.bc(1),r.Nb())},encapsulation:2}),t._infoWindowOptionsInputs=["disableAutoPan","maxWidth"],t})(),pp=(()=>{let t=class{constructor(t,e){this._wrapper=t,this._zone=e,this._layers=new Map}addKmlLayer(t){const e=this._wrapper.getNativeMap().then(e=>new google.maps.KmlLayer({clickable:t.clickable,map:e,preserveViewport:t.preserveViewport,screenOverlays:t.screenOverlays,suppressInfoWindows:t.suppressInfoWindows,url:t.url,zIndex:t.zIndex}));this._layers.set(t,e)}setOptions(t,e){this._layers.get(t).then(t=>t.setOptions(e))}deleteKmlLayer(t){this._layers.get(t).then(e=>{e.setMap(null),this._layers.delete(t)})}createEventObservable(t,e){return new At.a(n=>{this._layers.get(e).then(e=>{e.addListener(t,t=>this._zone.run(()=>n.next(t)))})})}};return t.\u0275fac=function(e){return new(e||t)(r.Sb(np),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})();function fp(t){const e=["insert_at","remove_at","set_at"];return function t(e,n,r){return r?t(e,n).pipe(Object(Rt.a)(t=>Object(Pt.a)(t)?r(...t):r(t))):new At.a(t=>{const r=(...e)=>t.next(1===e.length?e[0]:e);let i;try{i=e(r)}catch(o){return void t.error(o)}if(Object($d.a)(n))return()=>n(r,i)})}(n=>e.map(e=>t.addListener(e,(r,i)=>n.apply(t,[{newArr:t.getArray(),evName:e,index:r,previous:i}]))),(t,e)=>e.forEach(t=>t.remove()))}let gp=(()=>{let t=class{constructor(t,e){this._mapsWrapper=t,this._zone=e,this._polygons=new Map}addPolygon(t){const e=this._mapsWrapper.createPolygon({clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,geodesic:t.geodesic,paths:t.paths,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex});this._polygons.set(t,e)}updatePolygon(t){const e=this._polygons.get(t);return null==e?Promise.resolve():e.then(e=>this._zone.run(()=>{e.setPaths(t.paths)}))}setPolygonOptions(t,e){return this._polygons.get(t).then(t=>{t.setOptions(e)})}deletePolygon(t){const e=this._polygons.get(t);return null==e?Promise.resolve():e.then(e=>this._zone.run(()=>{e.setMap(null),this._polygons.delete(t)}))}getPath(t){return this._polygons.get(t).then(t=>t.getPath().getArray())}getPaths(t){return this._polygons.get(t).then(t=>t.getPaths().getArray().map(t=>t.getArray()))}createEventObservable(t,e){return new At.a(n=>{this._polygons.get(e).then(e=>{e.addListener(t,t=>this._zone.run(()=>n.next(t)))})})}createPathEventObservable(t){return Hd(this,void 0,void 0,(function*(){const e=(yield this._polygons.get(t)).getPaths();return fp(e).pipe(gu({newArr:e.getArray()}),kc(t=>Object(uc.a)(...t.newArr.map((e,n)=>fp(e).pipe(Object(Rt.a)(e=>({parentMVEvent:t,chMVCEvent:e,pathIndex:n}))))).pipe(gu({parentMVEvent:t,chMVCEvent:null,pathIndex:null}))),t=>t.lift(new Xd(1)),Object(Rt.a)(({parentMVEvent:t,chMVCEvent:e,pathIndex:n})=>{let r;return e?(r={newArr:t.newArr.map(t=>t.getArray().map(t=>t.toJSON())),pathIndex:n,eventName:e.evName,index:e.index},e.previous&&(r.previous=e.previous)):(r={newArr:t.newArr.map(t=>t.getArray().map(t=>t.toJSON())),eventName:t.evName,index:t.index},t.previous&&(r.previous=t.previous.getArray())),r}))}))}};return t.\u0275fac=function(e){return new(e||t)(r.Sb(np),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})();var bp;let mp=(()=>{let t=bp=class{constructor(t,e){this._mapsWrapper=t,this._zone=e,this._polylines=new Map}static _convertPoints(t){return t._getPoints().map(t=>({lat:t.latitude,lng:t.longitude}))}static _convertPath(t){const e=google.maps.SymbolPath[t];return"number"==typeof e?e:t}static _convertIcons(t){const e=t._getIcons().map(t=>({fixedRotation:t.fixedRotation,offset:t.offset,repeat:t.repeat,icon:{anchor:new google.maps.Point(t.anchorX,t.anchorY),fillColor:t.fillColor,fillOpacity:t.fillOpacity,path:bp._convertPath(t.path),rotation:t.rotation,scale:t.scale,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight}}));return e.forEach(t=>{Object.entries(t).forEach(([e,n])=>{void 0===n&&delete t[e]}),void 0!==t.icon.anchor.x&&void 0!==t.icon.anchor.y||delete t.icon.anchor}),e}addPolyline(t){const e=this._mapsWrapper.getNativeMap().then(()=>[bp._convertPoints(t),bp._convertIcons(t)]).then(([e,n])=>this._mapsWrapper.createPolyline({clickable:t.clickable,draggable:t.draggable,editable:t.editable,geodesic:t.geodesic,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex,path:e,icons:n}));this._polylines.set(t,e)}updatePolylinePoints(t){const e=bp._convertPoints(t),n=this._polylines.get(t);return null==n?Promise.resolve():n.then(t=>this._zone.run(()=>{t.setPath(e)}))}updateIconSequences(t){return Hd(this,void 0,void 0,(function*(){yield this._mapsWrapper.getNativeMap();const e=bp._convertIcons(t),n=this._polylines.get(t);if(null!=n)return n.then(t=>this._zone.run(()=>t.setOptions({icons:e})))}))}setPolylineOptions(t,e){return this._polylines.get(t).then(t=>{t.setOptions(e)})}deletePolyline(t){const e=this._polylines.get(t);return null==e?Promise.resolve():e.then(e=>this._zone.run(()=>{e.setMap(null),this._polylines.delete(t)}))}getMVCPath(t){return Hd(this,void 0,void 0,(function*(){return(yield this._polylines.get(t)).getPath()}))}getPath(t){return Hd(this,void 0,void 0,(function*(){return(yield this.getMVCPath(t)).getArray()}))}createEventObservable(t,e){return new At.a(n=>{this._polylines.get(e).then(e=>{e.addListener(t,t=>this._zone.run(()=>n.next(t)))})})}createPathEventObservable(t){return Hd(this,void 0,void 0,(function*(){return fp(yield this.getMVCPath(t))}))}};return t.\u0275fac=function(e){return new(e||t)(r.Sb(np),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})(),yp=(()=>{let t=class{constructor(t,e){this._apiWrapper=t,this._zone=e,this._rectangles=new Map}addRectangle(t){this._rectangles.set(t,this._apiWrapper.createRectangle({bounds:{north:t.north,east:t.east,south:t.south,west:t.west},clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokePosition:t.strokePosition,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex}))}removeRectangle(t){return this._rectangles.get(t).then(e=>{e.setMap(null),this._rectangles.delete(t)})}setOptions(t,e){return this._rectangles.get(t).then(t=>t.setOptions(e))}getBounds(t){return this._rectangles.get(t).then(t=>t.getBounds())}setBounds(t){return this._rectangles.get(t).then(e=>e.setBounds({north:t.north,east:t.east,south:t.south,west:t.west}))}setEditable(t){return this._rectangles.get(t).then(e=>e.setEditable(t.editable))}setDraggable(t){return this._rectangles.get(t).then(e=>e.setDraggable(t.draggable))}setVisible(t){return this._rectangles.get(t).then(e=>e.setVisible(t.visible))}createEventObservable(t,e){return At.a.create(n=>{let r=null;return this._rectangles.get(e).then(e=>{r=e.addListener(t,t=>this._zone.run(()=>n.next(t)))}),()=>{null!==r&&r.remove()}})}};return t.\u0275fac=function(e){return new(e||t)(r.Sb(np),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})();var vp;let _p=(()=>{let t=vp=class{constructor(t,e,n,i,o){this._elem=t,this._mapsWrapper=e,this._platformId=n,this._fitBoundsService=i,this._zone=o,this.longitude=0,this.latitude=0,this.zoom=8,this.draggable=!0,this.disableDoubleClickZoom=!1,this.disableDefaultUI=!1,this.scrollwheel=!0,this.keyboardShortcuts=!0,this.styles=[],this.usePanning=!1,this.fitBounds=!1,this.scaleControl=!1,this.mapTypeControl=!1,this.panControl=!1,this.rotateControl=!1,this.fullscreenControl=!1,this.mapTypeId="roadmap",this.clickableIcons=!0,this.showDefaultInfoWindow=!0,this.gestureHandling="auto",this.tilt=0,this._observableSubscriptions=[],this.mapClick=new r.n,this.mapRightClick=new r.n,this.mapDblClick=new r.n,this.centerChange=new r.n,this.boundsChange=new r.n,this.mapTypeIdChange=new r.n,this.idle=new r.n,this.zoomChange=new r.n,this.mapReady=new r.n,this.tilesLoaded=new r.n}ngOnInit(){if(Y(this._platformId))return;const t=this._elem.nativeElement.querySelector(".agm-map-container-inner");this._initMapInstance(t)}_initMapInstance(t){this._mapsWrapper.createMap(t,{center:{lat:this.latitude||0,lng:this.longitude||0},zoom:this.zoom,minZoom:this.minZoom,maxZoom:this.maxZoom,controlSize:this.controlSize,disableDefaultUI:this.disableDefaultUI,disableDoubleClickZoom:this.disableDoubleClickZoom,scrollwheel:this.scrollwheel,backgroundColor:this.backgroundColor,draggable:this.draggable,draggableCursor:this.draggableCursor,draggingCursor:this.draggingCursor,keyboardShortcuts:this.keyboardShortcuts,styles:this.styles,zoomControl:this.zoomControl,zoomControlOptions:this.zoomControlOptions,streetViewControl:this.streetViewControl,streetViewControlOptions:this.streetViewControlOptions,scaleControl:this.scaleControl,scaleControlOptions:this.scaleControlOptions,mapTypeControl:this.mapTypeControl,mapTypeControlOptions:this.mapTypeControlOptions,panControl:this.panControl,panControlOptions:this.panControlOptions,rotateControl:this.rotateControl,rotateControlOptions:this.rotateControlOptions,fullscreenControl:this.fullscreenControl,fullscreenControlOptions:this.fullscreenControlOptions,mapTypeId:this.mapTypeId,clickableIcons:this.clickableIcons,gestureHandling:this.gestureHandling,tilt:this.tilt,restriction:this.restriction}).then(()=>this._mapsWrapper.getNativeMap()).then(t=>this.mapReady.emit(t)),this._handleMapCenterChange(),this._handleMapZoomChange(),this._handleMapMouseEvents(),this._handleBoundsChange(),this._handleMapTypeIdChange(),this._handleTilesLoadedEvent(),this._handleIdleEvent()}ngOnDestroy(){this._observableSubscriptions.forEach(t=>t.unsubscribe()),this._mapsWrapper.clearInstanceListeners(),this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe()}ngOnChanges(t){this._updateMapOptionsChanges(t),this._updatePosition(t)}_updateMapOptionsChanges(t){let e={};Object.keys(t).filter(t=>-1!==vp._mapOptionsAttributes.indexOf(t)).forEach(n=>{e[n]=t[n].currentValue}),this._mapsWrapper.setMapOptions(e)}triggerResize(t=!0){return new Promise(e=>{setTimeout(()=>this._mapsWrapper.triggerMapEvent("resize").then(()=>{t&&(null!=this.fitBounds?this._fitBounds():this._setCenter()),e()}))})}_updatePosition(t){(null!=t.latitude||null!=t.longitude||t.fitBounds)&&("fitBounds"in t?this._fitBounds():"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._setCenter())}_setCenter(){let t={lat:this.latitude,lng:this.longitude};this.usePanning?this._mapsWrapper.panTo(t):this._mapsWrapper.setCenter(t)}_fitBounds(){switch(this.fitBounds){case!0:this._subscribeToFitBoundsUpdates();break;case!1:this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe();break;default:this._updateBounds(this.fitBounds,this.fitBoundsPadding)}}_subscribeToFitBoundsUpdates(){this._zone.runOutsideAngular(()=>{this._fitBoundsSubscription=this._fitBoundsService.getBounds$().subscribe(t=>{this._zone.run(()=>this._updateBounds(t,this.fitBoundsPadding))})})}_updateBounds(t,e){if(t){if(this._isLatLngBoundsLiteral(t)&&"undefined"!=typeof google&&google&&google.maps&&google.maps.LatLngBounds){const e=new google.maps.LatLngBounds;e.union(t),t=e}this.usePanning?this._mapsWrapper.panToBounds(t,e):this._mapsWrapper.fitBounds(t,e)}}_isLatLngBoundsLiteral(t){return null!=t&&void 0===t.extend}_handleMapCenterChange(){const t=this._mapsWrapper.subscribeToMapEvent("center_changed").subscribe(()=>{this._mapsWrapper.getCenter().then(t=>{this.latitude=t.lat(),this.longitude=t.lng(),this.centerChange.emit({lat:this.latitude,lng:this.longitude})})});this._observableSubscriptions.push(t)}_handleBoundsChange(){const t=this._mapsWrapper.subscribeToMapEvent("bounds_changed").subscribe(()=>{this._mapsWrapper.getBounds().then(t=>{this.boundsChange.emit(t)})});this._observableSubscriptions.push(t)}_handleMapTypeIdChange(){const t=this._mapsWrapper.subscribeToMapEvent("maptypeid_changed").subscribe(()=>{this._mapsWrapper.getMapTypeId().then(t=>{this.mapTypeIdChange.emit(t)})});this._observableSubscriptions.push(t)}_handleMapZoomChange(){const t=this._mapsWrapper.subscribeToMapEvent("zoom_changed").subscribe(()=>{this._mapsWrapper.getZoom().then(t=>{this.zoom=t,this.zoomChange.emit(t)})});this._observableSubscriptions.push(t)}_handleIdleEvent(){const t=this._mapsWrapper.subscribeToMapEvent("idle").subscribe(()=>{this.idle.emit(void 0)});this._observableSubscriptions.push(t)}_handleTilesLoadedEvent(){const t=this._mapsWrapper.subscribeToMapEvent("tilesloaded").subscribe(()=>this.tilesLoaded.emit(void 0));this._observableSubscriptions.push(t)}_handleMapMouseEvents(){[{name:"click",emitter:this.mapClick},{name:"rightclick",emitter:this.mapRightClick},{name:"dblclick",emitter:this.mapDblClick}].forEach(t=>{const e=this._mapsWrapper.subscribeToMapEvent(t.name).subscribe(e=>{let n={coords:{lat:e.latLng.lat(),lng:e.latLng.lng()},placeId:e.placeId};n.placeId&&!this.showDefaultInfoWindow&&e.stop(),t.emitter.emit(n)});this._observableSubscriptions.push(e)})}};return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(np),r.Jb(r.B),r.Jb(ap),r.Jb(r.z))},t.\u0275cmp=r.Db({type:t,selectors:[["agm-map"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Bb("sebm-google-map-container",!0)},inputs:{longitude:"longitude",latitude:"latitude",zoom:"zoom",draggable:["mapDraggable","draggable"],disableDoubleClickZoom:"disableDoubleClickZoom",disableDefaultUI:"disableDefaultUI",scrollwheel:"scrollwheel",keyboardShortcuts:"keyboardShortcuts",styles:"styles",usePanning:"usePanning",fitBounds:"fitBounds",scaleControl:"scaleControl",mapTypeControl:"mapTypeControl",panControl:"panControl",rotateControl:"rotateControl",fullscreenControl:"fullscreenControl",mapTypeId:"mapTypeId",clickableIcons:"clickableIcons",showDefaultInfoWindow:"showDefaultInfoWindow",gestureHandling:"gestureHandling",tilt:"tilt",minZoom:"minZoom",maxZoom:"maxZoom",controlSize:"controlSize",backgroundColor:"backgroundColor",draggableCursor:"draggableCursor",draggingCursor:"draggingCursor",zoomControl:"zoomControl",zoomControlOptions:"zoomControlOptions",streetViewControl:"streetViewControl",streetViewControlOptions:"streetViewControlOptions",fitBoundsPadding:"fitBoundsPadding",scaleControlOptions:"scaleControlOptions",mapTypeControlOptions:"mapTypeControlOptions",panControlOptions:"panControlOptions",rotateControlOptions:"rotateControlOptions",fullscreenControlOptions:"fullscreenControlOptions",restriction:"restriction"},outputs:{mapClick:"mapClick",mapRightClick:"mapRightClick",mapDblClick:"mapDblClick",centerChange:"centerChange",boundsChange:"boundsChange",mapTypeIdChange:"mapTypeIdChange",idle:"idle",zoomChange:"zoomChange",mapReady:"mapReady",tilesLoaded:"tilesLoaded"},features:[r.yb([ip,op,op,ap,np,up,pp,rp,cp,gp,mp,yp]),r.xb],ngContentSelectors:tp,decls:3,vars:0,consts:[[1,"agm-map-container-inner","sebm-google-map-container-inner"],[1,"agm-map-content"]],template:function(t,e){1&t&&(r.cc(),r.Kb(0,"div",0),r.Ob(1,"div",1),r.bc(2),r.Nb())},styles:[".agm-map-container-inner[_ngcontent-%COMP%] {\n      width: inherit;\n      height: inherit;\n    }\n    .agm-map-content[_ngcontent-%COMP%] {\n      display:none;\n    }"]}),t._mapOptionsAttributes=["disableDoubleClickZoom","scrollwheel","draggable","draggableCursor","draggingCursor","keyboardShortcuts","zoomControl","zoomControlOptions","styles","streetViewControl","streetViewControlOptions","zoom","mapTypeControl","mapTypeControlOptions","minZoom","maxZoom","panControl","panControlOptions","rotateControl","rotateControlOptions","fullscreenControl","fullscreenControlOptions","scaleControl","scaleControlOptions","mapTypeId","clickableIcons","gestureHandling","tilt","restriction"],t})();var wp;let Op=0,Cp=(()=>{let t=wp=class{constructor(t){this._markerManager=t,this.draggable=!1,this.visible=!0,this.openInfoWindow=!0,this.opacity=1,this.zIndex=1,this.clickable=!0,this.animationChange=new r.n,this.markerClick=new r.n,this.markerDblClick=new r.n,this.markerRightClick=new r.n,this.dragStart=new r.n,this.drag=new r.n,this.dragEnd=new r.n,this.mouseOver=new r.n,this.mouseOut=new r.n,this.infoWindow=new r.D,this._markerAddedToManger=!1,this._observableSubscriptions=[],this._fitBoundsDetails$=new ac(1),this._id=(Op++).toString()}ngAfterContentInit(){this.handleInfoWindowUpdate(),this.infoWindow.changes.subscribe(()=>this.handleInfoWindowUpdate())}handleInfoWindowUpdate(){if(this.infoWindow.length>1)throw new Error("Expected no more than one info window.");this.infoWindow.forEach(t=>{t.hostMarker=this})}ngOnChanges(t){if("string"==typeof this.latitude&&(this.latitude=Number(this.latitude)),"string"==typeof this.longitude&&(this.longitude=Number(this.longitude)),"number"==typeof this.latitude&&"number"==typeof this.longitude){if(!this._markerAddedToManger)return this._markerManager.addMarker(this),this._updateFitBoundsDetails(),this._markerAddedToManger=!0,void this._addEventListeners();(t.latitude||t.longitude)&&(this._markerManager.updateMarkerPosition(this),this._updateFitBoundsDetails()),t.title&&this._markerManager.updateTitle(this),t.label&&this._markerManager.updateLabel(this),t.draggable&&this._markerManager.updateDraggable(this),t.iconUrl&&this._markerManager.updateIcon(this),t.opacity&&this._markerManager.updateOpacity(this),t.visible&&this._markerManager.updateVisible(this),t.zIndex&&this._markerManager.updateZIndex(this),t.clickable&&this._markerManager.updateClickable(this),t.animation&&this._markerManager.updateAnimation(this)}}getFitBoundsDetails$(){return this._fitBoundsDetails$.asObservable()}_updateFitBoundsDetails(){this._fitBoundsDetails$.next({latLng:{lat:this.latitude,lng:this.longitude}})}_addEventListeners(){const t=this._markerManager.createEventObservable("click",this).subscribe(()=>{this.openInfoWindow&&this.infoWindow.forEach(t=>t.open()),this.markerClick.emit(this)});this._observableSubscriptions.push(t);const e=this._markerManager.createEventObservable("dblclick",this).subscribe(()=>{this.markerDblClick.emit(null)});this._observableSubscriptions.push(e);const n=this._markerManager.createEventObservable("rightclick",this).subscribe(()=>{this.markerRightClick.emit(null)});this._observableSubscriptions.push(n);const r=this._markerManager.createEventObservable("dragstart",this).subscribe(t=>{this.dragStart.emit({coords:{lat:t.latLng.lat(),lng:t.latLng.lng()}})});this._observableSubscriptions.push(r);const i=this._markerManager.createEventObservable("drag",this).subscribe(t=>{this.drag.emit({coords:{lat:t.latLng.lat(),lng:t.latLng.lng()}})});this._observableSubscriptions.push(i);const o=this._markerManager.createEventObservable("dragend",this).subscribe(t=>{this.dragEnd.emit({coords:{lat:t.latLng.lat(),lng:t.latLng.lng()}})});this._observableSubscriptions.push(o);const s=this._markerManager.createEventObservable("mouseover",this).subscribe(t=>{this.mouseOver.emit({coords:{lat:t.latLng.lat(),lng:t.latLng.lng()}})});this._observableSubscriptions.push(s);const a=this._markerManager.createEventObservable("mouseout",this).subscribe(t=>{this.mouseOut.emit({coords:{lat:t.latLng.lat(),lng:t.latLng.lng()}})});this._observableSubscriptions.push(a);const c=this._markerManager.createEventObservable("animation_changed",this).subscribe(()=>{this.animationChange.emit(this.animation)});this._observableSubscriptions.push(c)}id(){return this._id}toString(){return"AgmMarker-"+this._id.toString()}ngOnDestroy(){this._markerManager.deleteMarker(this),this._observableSubscriptions.forEach(t=>t.unsubscribe())}};return t.\u0275fac=function(e){return new(e||t)(r.Jb(cp))},t.\u0275dir=r.Eb({type:t,selectors:[["agm-marker"]],contentQueries:function(t,e,n){var i;1&t&&r.Cb(n,dp,!1),2&t&&r.hc(i=r.Wb())&&(e.infoWindow=i)},inputs:{latitude:"latitude",longitude:"longitude",title:"title",label:"label",draggable:["markerDraggable","draggable"],iconUrl:"iconUrl",openInfoWindow:"openInfoWindow",opacity:"opacity",visible:"visible",zIndex:"zIndex",animation:"animation",clickable:["markerClickable","clickable"]},outputs:{markerClick:"markerClick",dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",mouseOver:"mouseOver",mouseOut:"mouseOut",animationChange:"animationChange",markerDblClick:"markerDblClick",markerRightClick:"markerRightClick"},features:[r.yb([{provide:sp,useExisting:Object(r.U)(()=>wp)}]),r.xb]}),t})();class Sp{getNativeWindow(){return window}}class kp{getNativeDocument(){return document}}const Ep=[Sp,kp];var xp=function(t){return t[t.HTTP=1]="HTTP",t[t.HTTPS=2]="HTTPS",t[t.AUTO=3]="AUTO",t}({});const Tp=new r.q("angular-google-maps LAZY_MAPS_API_CONFIG");let Ip=(()=>{let t=class extends ep{constructor(t=null,e,n,r){super(),this.localeId=r,this._SCRIPT_ID="agmGoogleMapsApiScript",this.callbackName="agmLazyMapsAPILoader",this._config=t||{},this._windowRef=e,this._documentRef=n}load(){const t=this._windowRef.getNativeWindow();if(t.google&&t.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;const e=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(e)return this._assignScriptLoadingPromise(e),this._scriptLoadingPromise;const n=this._documentRef.getNativeDocument().createElement("script");return n.type="text/javascript",n.async=!0,n.defer=!0,n.id=this._SCRIPT_ID,n.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(n),this._documentRef.getNativeDocument().body.appendChild(n),this._scriptLoadingPromise}_assignScriptLoadingPromise(t){this._scriptLoadingPromise=new Promise((e,n)=>{this._windowRef.getNativeWindow()[this.callbackName]=()=>{e()},t.onerror=t=>{n(t)}})}_getScriptSrc(t){let e;switch(this._config&&this._config.protocol||xp.HTTPS){case xp.AUTO:e="";break;case xp.HTTP:e="http:";break;case xp.HTTPS:e="https:"}const n={v:this._config.apiVersion||"quarterly",callback:t,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language||"en-US"!==this.localeId?this.localeId:null};return`${e}//${this._config.hostAndPath||"maps.googleapis.com/maps/api/js"}?${Object.keys(n).filter(t=>null!=n[t]).filter(t=>!Array.isArray(n[t])||Array.isArray(n[t])&&n[t].length>0).map(t=>{let e=n[t];return Array.isArray(e)?{key:t,value:e.join(",")}:{key:t,value:n[t]}}).map(t=>`${t.key}=${t.value}`).join("&")}`}};return t.\u0275fac=function(e){return new(e||t)(r.Sb(Tp,8),r.Sb(Sp),r.Sb(kp),r.Sb(r.u))},t.\u0275prov=r.Fb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})();var Np;let jp=(()=>{let t=Np=class{static forRoot(t){return{ngModule:Np,providers:[...Ep,{provide:ep,useClass:Ip},{provide:Tp,useValue:t}]}}};return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})();var Ap=n("spgP"),Pp=n("w1tV");class Rp{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new Dp(t,this.predicate))}}class Dp extends fc.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}function Lp(t,e){return e?kc(()=>t,e):kc(()=>t)}n("6Uf2");var Mp=n("tf+s");const Fp=new r.q("angularfire2.auth.use-emulator"),Up=new r.q("angularfire2.auth.settings"),Vp=new r.q("angularfire2.auth.tenant-id"),zp=new r.q("angularfire2.auth.langugage-code"),qp=new r.q("angularfire2.auth.use-device-language"),Wp=new r.q("angularfire.auth.persistence");let Hp=(()=>{class t{constructor(t,e,r,i,o,s,a,c,u,l){const h=new Ap.d(i),d=Object(Ap.h)(h),p=new tc.a,f=Object(dc.a)(void 0).pipe(Object(oc.b)(h.outsideAngular),kc(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(Rt.a)(()=>Object(Ap.g)(t,i,e)),Object(Rt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Ap.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=c,u&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,c,u,n,l])})),Yd({bufferSize:1,refCount:!1}));if(Y(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(dc.a)(null);else{f.pipe(nu()).subscribe();const t=f.pipe(kc(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Yd({bufferSize:1,refCount:!1})),e=t=>new At.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=f.pipe(kc(t=>e(t.onAuthStateChanged.bind(t)))),r=f.pipe(kc(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Lp(n),Object(Mp.a)(h.outsideAngular),Object(oc.b)(h.insideAngular)),this.user=t.pipe(Lp(r),Object(Mp.a)(h.outsideAngular),Object(oc.b)(h.insideAngular)),this.idToken=this.user.pipe(kc(t=>t?Object(Lt.a)(t.getIdToken()):Object(dc.a)(null))),this.idTokenResult=this.user.pipe(kc(t=>t?Object(Lt.a)(t.getIdTokenResult()):Object(dc.a)(null))),this.credential=Object(uc.a)(t,p,this.authState.pipe(yc(t=>!t))).pipe(Object(Rt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Mp.a)(h.outsideAngular),Object(oc.b)(h.insideAngular))}return Object(Ap.i)(this,f,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>p.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Ap.c),r.Sb(Ap.b,8),r.Sb(r.B),r.Sb(r.z),r.Sb(Fp,8),r.Sb(Up,8),r.Sb(Vp,8),r.Sb(zp,8),r.Sb(qp,8),r.Sb(Wp,8))},t.\u0275prov=r.Fb({factory:function(){return new t(r.Sb(Ap.c),r.Sb(Ap.b,8),r.Sb(r.B),r.Sb(r.z),r.Sb(Fp,8),r.Sb(Up,8),r.Sb(Vp,8),r.Sb(zp,8),r.Sb(qp,8),r.Sb(Wp,8))},token:t,providedIn:"any"}),t})(),Bp=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Hp]}),t})();var Gp=n("Jgta");function Kp(t){return null==t}function $p(t){return"function"==typeof t.set}function Jp(t,e){return $p(e)?e:t.ref(e)}function Zp(t,e){if("string"==typeof t)return e.stringCase();if($p(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function Yp(t,e,n="on",r=Bd.b){return new At.a(i=>{let o=null;return o=t[n](e,(t,e)=>{r.schedule(()=>{i.next({snapshot:t,prevKey:e})}),"once"===n&&r.schedule(()=>i.complete())},t=>{r.schedule(()=>i.error(t))}),"on"===n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(Object(Rt.a)(t=>{const{snapshot:n,prevKey:r}=t;let i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),Object(Pp.a)())}function Xp(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function Qp(t,e){const{payload:n,prevKey:r,key:i}=e,o=Xp(t,i),s=function(t,e){if(Kp(e))return 0;{const n=Xp(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const r={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,r],!1})}return t;case"child_added":if(o>-1){const i=t[o-1];(i&&i.key||null)!==r&&(t=t.filter(t=>t.payload.key!==n.key)).splice(s,0,e)}else{if(null==r)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===i?e:t);case"child_moved":if(o>-1){const e=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,e),t}return t;default:return t}}function tf(t){return(Kp(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function ef(t,e,n){return function(t,e,n){return Yp(t,"value","once",n).pipe(kc(r=>{const i=[Object(dc.a)(r)];return e.forEach(e=>i.push(Yp(t,e,"on",n))),Object(uc.a)(...i).pipe(gc(Qp,[]))}),wc())}(t,e=tf(e),n)}function nf(t,e,n){const r=(e=tf(e)).map(e=>Yp(t,e,"on",n));return Object(uc.a)(...r)}function rf(t,e){return function(n,r){return Zp(n,{stringCase:()=>t.child(n)[e](r),firebaseCase:()=>n[e](r),snapshotCase:()=>n.ref[e](r)})}}function of(t,e){return function(){return Yp(t,"value","on",e)}}const sf=new r.q("angularfire2.realtimeDatabaseURL"),af=new r.q("angularfire2.database.use-emulator");let cf=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new Ap.d(i),this.keepUnstableUntilFirst=Object(Ap.h)(this.schedulers);const a=o,c=Object(Ap.g)(t,i,e);!Gp.a.auth&&s&&Object(Ap.j)(),this.database=Object(Ap.f)(`${c.name}.database.${n}`,"AngularFireDatabase",c,()=>{const t=i.runOutsideAngular(()=>c.database(n||void 0));return a&&t.useEmulator(...a),t},[a])}list(t,e){const n=this.schedulers.ngZone.runOutsideAngular(()=>Jp(this.database,t));let r=n;return e&&(r=e(n)),function(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:rf(r,"update"),set:rf(r,"set"),push:t=>r.push(t),remove:(i=r,function(t){return t?Zp(t,{stringCase:()=>i.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):i.remove()}),snapshotChanges:r=>ef(t,r,n).pipe(e.keepUnstableUntilFirst),stateChanges:r=>nf(t,r,n).pipe(e.keepUnstableUntilFirst),auditTrail:r=>function(t,e,n){return function(t,e,n){return function(t,e){return Yp(t,"value","on",e).pipe(Object(Rt.a)(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(Vc(e),Object(Rt.a)(([t,e])=>{const n=t.lastKeyToLoad,r=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:r}}),(r=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new Rp(r))),Object(Rt.a)(t=>t.actions));var r}(t,nf(t,e).pipe(gc((t,e)=>[...t,e],[])),n)}(t,r,n).pipe(e.keepUnstableUntilFirst),valueChanges:(r,i)=>ef(t,r,n).pipe(Object(Rt.a)(t=>t.map(t=>i&&i.idField?Object.assign(Object.assign({},t.payload.val()),{[i.idField]:t.key}):t.payload.val())),e.keepUnstableUntilFirst)};var i}(r,this)}object(t){const e=this.schedulers.ngZone.runOutsideAngular(()=>Jp(this.database,t));return r=this,{query:n=e,snapshotChanges:()=>of(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>of(n,r.schedulers.outsideAngular)().pipe(r.keepUnstableUntilFirst,Object(Rt.a)(t=>t.payload.exists()?t.payload.val():null))};var n,r}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Ap.c),r.Sb(Ap.b,8),r.Sb(sf,8),r.Sb(r.B),r.Sb(r.z),r.Sb(af,8),r.Sb(Fp,8))},t.\u0275prov=r.Fb({factory:function(){return new t(r.Sb(Ap.c),r.Sb(Ap.b,8),r.Sb(sf,8),r.Sb(r.B),r.Sb(r.z),r.Sb(af,8),r.Sb(Fp,8))},token:t,providedIn:"any"}),t})(),uf=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[cf]}),t})(),lf=(()=>{class t{constructor(){this.marcadores=[],this.marcadores.push({lat:38.484202837,lng:-.7677831,titulo:"Explanada de Petrer",draggable:!0})}insertarMarcador(t){this.marcadores.push(t),this.guardarMarcadores()}borrarMarcador(t){this.marcadores.splice(t,1),this.guardarMarcadores()}guardarMarcadores(){localStorage.setItem("marcadores",JSON.stringify(this.marcadores))}cargarMarcadores(){this.marcadores=localStorage.getItem("marcadores")?JSON.parse(localStorage.getItem("marcadores")):[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),hf=(()=>{class t{constructor(t){this.http=t,this.token="",this.artistas=[],this.releases=[],this.urlBusqueda="https://api.spotify.com/v1/search",this.urlArtista="\thttps://api.spotify.com/v1/artists/"}createToken(){let t=new fd;t=t.append("Content-Type","application/x-www-form-urlencoded");var e=n("r8II");return this.http.post("https://accounts.spotify.com/api/token",e.stringify({client_id:"ad2f9818fba04d479254743b6ef212b2",client_secret:"ff56ddc57168440189e3203ef02b07e1",grant_type:"client_credentials"}),{headers:t}).pipe(Object(Rt.a)(t=>(this.token="Bearer "+t.access_token,this.token)))}getArtistas(t){let e=new fd;return e=e.append("Authorization",this.token),this.http.get(this.urlBusqueda+`?query=${t}&type=artist`,{headers:e}).pipe(Object(Rt.a)(t=>{this.artistas=t.artists.items}))}getNewReleasesS(t){let e=new fd;return e=e.append("Authorization",null!=t&&""!=t?t:this.token),this.http.get("https://api.spotify.com/v1/browse/new-releases",{headers:e}).pipe(Object(Rt.a)(t=>{this.releases=t.albums.items}))}getArtista(t){let e=new fd;return e=e.append("Authorization",this.token),this.http.get(this.urlArtista+""+t,{headers:e}).pipe(Object(Rt.a)(t=>t))}getTop(t){let e=new fd;return e=e.append("Authorization",this.token),this.http.get(this.urlArtista+(t+"/top-tracks?country=US"),{headers:e}).pipe(Object(Rt.a)(t=>t.tracks))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Td))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),df=(()=>{class t{constructor(t){this.http=t,this.youtubeUrl="https://www.googleapis.com/youtube/v3/videos",this.apikeyYT="AIzaSyAUIyXVQEA2dXfwW7U37yDFcfPsrx5qc4k",this.nextPageToken=""}getVideos(){let t=new md;return t=t.append("part","snippet"),t=t.set("chart","mostPopular"),t=t.set("maxResults","10"),t=t.set("regionCode","ES"),t=t.set("key",this.apikeyYT),this.nextPageToken&&(t=t.set("pageToken",this.nextPageToken)),this.http.get(this.youtubeUrl,{params:t}).pipe(Object(Rt.a)(t=>{this.nextPageToken=t.nextPageToken;let e=[];for(let n of t.items)e.push(n);return e}))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Td))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var pf=n("zIRd"),ff=n("qOnz"),gf=n("/6Yf"),bf=function(t){function e(n,r){var i=t.call(this,mf(n),"Firebase Storage: "+r+" ("+mf(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Object(ru.c)(e,t),e.prototype._codeEquals=function(t){return mf(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(ff.c);function mf(t){return"storage/"+t}function yf(){return new bf("unknown","An unknown error occurred, please check the error payload for server response.")}function vf(){return new bf("canceled","User canceled the upload/download.")}function _f(){return new bf("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function wf(t){return new bf("invalid-argument",t)}function Of(){return new bf("app-deleted","The Firebase app was deleted.")}function Cf(t){return new bf("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sf(t,e){return new bf("invalid-format","String does not match format '"+t+"': "+e)}function kf(t){throw new bf("internal-error","Internal error: "+t)}var Ef={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},xf=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function Tf(t,e){switch(t){case Ef.RAW:return new xf(If(e));case Ef.BASE64:case Ef.BASE64URL:return new xf(Nf(t,e));case Ef.DATA_URL:return new xf((n=new jf(e)).base64?Nf(Ef.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(Zb){throw Sf(Ef.DATA_URL,"Malformed data URL.")}return If(e)}(n.rest),new jf(e).contentType)}var n;throw yf()}function If(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Nf(t,e){switch(t){case Ef.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Sf(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Ef.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Sf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(Zb){throw Sf(t,"Invalid character found")}for(var a=new Uint8Array(s.length),c=0;c<s.length;c++)a[c]=s.charCodeAt(c);return a}var jf=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Sf(Ef.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=function(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}}(),Af={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Pf(t){switch(t){case"running":case"pausing":case"canceling":return Af.RUNNING;case"paused":return Af.PAUSED;case"success":return Af.SUCCESS;case"canceled":return Af.CANCELED;case"error":default:return Af.ERROR}}var Rf=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Df=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Rf.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Rf.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Rf.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw kf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw kf("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw kf("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Zb){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw kf("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Lf=function(){function t(){}return t.prototype.createXhrIo=function(){return new Df},t}(),Mf=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(Zb){return new t(e,"")}if(""===r.path)return r;throw new bf("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=n.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<a.length;c++){var u=a[c],l=u.regex.exec(e);if(l){var h=l[u.indices.path];h||(h=""),r=new t(l[u.indices.bucket],h),u.postModify(r);break}}if(null==r)throw function(t){return new bf("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),Ff=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function Uf(t){return"string"==typeof t||t instanceof String}function Vf(t){return zf()&&t instanceof Blob}function zf(){return"undefined"!=typeof Blob}function qf(t,e,n,r){if(r<e)throw wf("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw wf("Invalid value for '"+t+"'. Expected "+n+" or less.")}function Wf(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function Hf(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var Bf=function(){function t(t,e,n,r,i,o,s,a,c,u,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(Zb){o(Zb)}else null!==s?((r=yf()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?Of():vf():new bf("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Gf(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function c(){return 2===a}var u=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u||(u=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new Gf(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Rf.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new Gf(s,n))}else{var a=n.getErrorCode()===Rf.ABORT;e(!1,new Gf(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,c())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)l.call.apply(l,Object(ru.g)([null,t],e));else{var r;c()||s?l.call.apply(l,Object(ru.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var p=!1;function f(t){p||(p=!0,u||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout((function(){s=!0,f(!0)}),r),f}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Gf=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function Kf(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function $f(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Kf();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(zf())return new Blob(t);throw new bf("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Jf=function(){function t(t,e){var n=0,r="";Vf(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Vf(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(zf()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t($f.apply(null,r))}var i=e.map((function(t){return Uf(t)?Tf(Ef.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function Zf(t){var e,n;try{e=JSON.parse(t)}catch(Zb){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function Yf(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Xf(t,e){return e}var Qf=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Xf}}(),tg=null;function eg(){if(tg)return tg;var t=[];t.push(new Qf("bucket")),t.push(new Qf("generation")),t.push(new Qf("metageneration")),t.push(new Qf("name","fullPath",!0));var e=new Qf("name");e.xform=function(t,e){return function(t){return!Uf(t)||t.length<2?t:Yf(t)}(e)},t.push(e);var n=new Qf("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new Qf("timeCreated")),t.push(new Qf("updated")),t.push(new Qf("md5Hash",null,!0)),t.push(new Qf("cacheControl",null,!0)),t.push(new Qf("contentDisposition",null,!0)),t.push(new Qf("contentEncoding",null,!0)),t.push(new Qf("contentLanguage",null,!0)),t.push(new Qf("contentType",null,!0)),t.push(new Qf("metadata","customMetadata",!0)),tg=t}function ng(t,e,n){var r=Zf(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Mf(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function rg(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var ig=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function og(t){if(!t)throw yf()}function sg(t,e){return function(n,r){var i=ng(t,r,e);return og(null!==i),i}}function ag(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new bf("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new bf("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new bf("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new bf("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function cg(t){var e=ag(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new bf("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function ug(t,e,n){var r=Wf(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new ig(r,"GET",sg(t,n),i);return o.errorHandler=cg(e),o}function lg(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var hg=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function dg(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(Zb){og(!1)}return og(!!n&&-1!==(e||["active"]).indexOf(n)),n}var pg=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function fg(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var gg=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=eg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=lg(e,r,i),a={name:s.fullPath},c=Wf(o,t.host),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=rg(s,n),h=new ig(c,"POST",(function(t){var e;dg(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(Zb){og(!1)}return og(Uf(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=u,h.body=l,h.errorHandler=ag(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,r){var i=function(t,e,n,r){var i=new ig(n,"POST",(function(t){var e=dg(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Zb){og(!1)}n||og(!1);var i=Number(n);return og(!isNaN(i)),new hg(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=ag(e),i}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new hg(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var s;try{s=function(t,e,n,r,i,o,s,a){var c=new hg(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new bf("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=c.total-c.current,l=u;i>0&&(l=Math.min(l,i));var h=c.current,d={"X-Goog-Upload-Command":l===u?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},p=r.slice(h,h+l);if(null===p)throw _f();var f=new ig(n,"POST",(function(t,n){var i,s=dg(t,["active","final"]),a=c.current+l,u=r.size();return i="final"===s?sg(e,o)(t,n):null,new hg(a,u,"final"===s,i)}),e.maxUploadRetryTime);return f.headers=d,f.body=p.uploadData(),f.progressCallback=a||null,f.errorHandler=ag(t),f}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(Zb){return t._error=Zb,void t._transition("error")}var a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=ug(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var c=lg(e,r,i),u=rg(c,n),l=Jf.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw _f();var h={name:c.fullPath},d=Wf(o,t.host),p=t.maxUploadRetryTime,f=new ig(d,"POST",sg(t,n),p);return f.urlParams=h,f.headers=s,f.body=l.uploadData(),f.errorHandler=ag(e),f}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=vf(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Pf(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new pg(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(Pf(this._state)){case Af.SUCCESS:fg(this._resolve.bind(null,this.snapshot))();break;case Af.CANCELED:case Af.ERROR:fg(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(Pf(this._state)){case Af.RUNNING:case Af.PAUSED:t.next&&fg(t.next.bind(t,this.snapshot))();break;case Af.SUCCESS:t.complete&&fg(t.complete.bind(t))();break;case Af.CANCELED:case Af.ERROR:t.error&&fg(t.error.bind(t,this._error))();break;default:t.error&&fg(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),bg=function(){function t(t,e){this._service=t,this._location=e instanceof Mf?e:Mf.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Mf(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Yf(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Mf(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Cf(t)},t}();function mg(t,e){return Object(ru.b)(this,void 0,void 0,(function(){var n,r;return Object(ru.d)(this,(function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&qf("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=Wf(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,c=new ig(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=Zf(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new Mf(e,s));r.prefixes.push(a)}if(n.items)for(var c=0,u=n.items;c<u.length;c++)a=t._makeStorageReference(new Mf(e,u[c].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return og(null!==i),i}}(t,e.bucket),a);return c.urlParams=o,c.errorHandler=ag(e),c}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function yg(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Mf(t._location.bucket,n);return new bg(t.storage,r)}function vg(t){return/^[A-Za-z]+:\/\//.test(t)}function _g(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:Mf.makeFromBucketSpec(n,t)}var wg=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Mf.makeFromBucketSpec(i,this._host):_g(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?Mf.makeFromBucketSpec(this._url,t):_g(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){qf("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){qf("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(ru.b)(this,void 0,void 0,(function(){var t,e;return Object(ru.d)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return Object(ru.b)(this,void 0,void 0,(function(){var t;return Object(ru.d)(this,(function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new bg(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new Ff(Of());var i=function(t,e,n,r,i,o){var s=Hf(t.urlParams),a=t.url+s,c=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(c,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new Bf(a,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return Object(ru.b)(this,void 0,void 0,(function(){var e;return Object(ru.d)(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}}))}))},t}();function Og(t,e){return function(t,e){if(e&&vg(e)){if(t instanceof wg)return new bg(t,e);throw wf("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof wg){var r=e;if(null==r._bucket)throw new bf("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new bg(r,r._bucket);return null!=n?t(i,n):i}if(void 0!==n){if(n.includes(".."))throw wf('`path` param cannot contain ".."');return yg(e,n)}return e}(t,e)}(t=Object(ff.o)(t),e)}var Cg,Sg,kg=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Eg=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new kg(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new kg(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new kg(t,i,i._ref))}:{next:e.next?function(t){return e.next(new kg(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),xg=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new Tg(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new Tg(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Tg=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return yg(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Eg(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new gg(t,new Jf(e),n)}(t=Object(ff.o)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Ef.RAW),this._throwIfRoot("putString");var r=Tf(e,t),i=Object(ru.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Eg(new gg(this._delegate,new Jf(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,function(t){var e={prefixes:[],items:[]};return function t(e,n,r){return Object(ru.b)(this,void 0,void 0,(function(){var i,o,s;return Object(ru.d)(this,(function(a){switch(a.label){case 0:return[4,mg(e,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(s=n.items).push.apply(s,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))}(t=Object(ff.o)(t))).then((function(t){return new xg(t,e.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return mg(t=Object(ff.o)(t),e)}(this._delegate,t||void 0).then((function(t){return new xg(t,e.storage)}))},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(ru.b)(this,void 0,void 0,(function(){var e;return Object(ru.d)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=ug(t.storage,t._location,eg()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(ff.o)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(ru.b)(this,void 0,void 0,(function(){var n;return Object(ru.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=Wf(e.fullServerUrl(),t.host),o=rg(n,r),s=t.maxOperationRetryTime,a=new ig(i,"PATCH",sg(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=cg(e),a}(t.storage,t._location,e,eg()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}(t=Object(ff.o)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(ru.b)(this,void 0,void 0,(function(){var e;return Object(ru.d)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=Wf(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new ig(r,"GET",function(t,e){return function(n,r){var i=ng(t,r,e);return og(null!==i),function(t,e,n){var r=Zf(e);if(null===r)return null;if(!Uf(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(e){var r=t.fullPath;return Wf("/b/"+o(t.bucket)+"/o/"+o(r),n)+Hf({alt:"media",token:e})}))[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=cg(e),o}(t.storage,t._location,eg()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw new bf("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(t=Object(ff.o)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(ru.b)(this,void 0,void 0,(function(){var e;return Object(ru.d)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=Wf(e.fullServerUrl(),t.host),r=new ig(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=cg(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(ff.o)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Cf(t)},t}(),Ig=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(vg(t))throw wf("ref() expected a child path but got a URL, use refFromURL instead.");return new Tg(Og(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!vg(t))throw wf("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Mf.makeFromUrl(t,this._delegate.host)}catch(Zb){throw wf("refFromUrl() expected a valid full URL but got an invalid one.")}return new Tg(Og(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();Sg={TaskState:Af,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Ef,Storage:wg,Reference:Tg},(Cg=pf.a).INTERNAL.registerComponent(new gf.a("storage",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Ig(r,new wg(r,i,o,new Lf,n,pf.a.SDK_VERSION))}),"PUBLIC").setServiceProps(Sg).setMultipleInstances(!0)),Cg.registerVersion("@firebase/storage","0.5.2");let Ng=(()=>{class t{constructor(t){this.af=t,this.CARPETA_IMAGENES="img"}getAllImages(){return this.af.database.ref("img").orderByKey().once("value",(function(){}))}fromStartToEnd(t){return this.af.database.ref("img").orderByKey().startAt(t).limitToLast(9).once("value",(function(){}))}listaUltimasImagenes(){Gp.a.database().ref().get().then(t=>{t.exists()?console.log(t.val()):console.log("No data available")}).catch(t=>{console.error(t)})}newcharge(t){const e=t.map((t,e)=>{let n=Gp.a.storage().ref("img/"+t.archivo.name);return n.put(t[e]).then(()=>n.getDownloadURL())});Promise.all(e).then(t=>{console.log(t,"all")}).catch(t=>alert(t.code))}charge_images(t){t.map((t,e)=>{const r=n("je4i");t.nombreArchivo=r.generate();let i=Gp.a.storage().ref().child(`${this.CARPETA_IMAGENES}/${t.nombreArchivo}`);i.put(t.archivo).on(Gp.a.storage.TaskEvent.STATE_CHANGED,e=>{switch(t.progreso=e.bytesTransferred/e.totalBytes*100,e.state){case Gp.a.storage.TaskState.PAUSED:console.log("Upload is paused");break;case Gp.a.storage.TaskState.RUNNING:console.log("Upload is running")}},(function(t){console.log("Error: ",t)}),()=>{console.log("upload completed successfully"),i.getDownloadURL().then(e=>{t.url=e,this.guardarImagen({nombre:t.nombreArchivo,url:t.url}),t.estaSubiendo=!1})})})}old_charge_images(t){let e=Gp.a.storage().ref();for(let r of t){r.estaSubiendo=!0;var n=e.child(`${this.CARPETA_IMAGENES}/${r.nombreArchivo}`).put(r.archivo);n.on(Gp.a.storage.TaskEvent.STATE_CHANGED,t=>{switch(r.progreso=t.bytesTransferred/t.totalBytes*100,t.state){case Gp.a.storage.TaskState.PAUSED:console.log("Upload is paused");break;case Gp.a.storage.TaskState.RUNNING:console.log("Upload is running");break;case Gp.a.storage.TaskState.SUCCESS:console.log("Upload is SUCCESS")}},(function(t){console.log("Error: ",t)}),()=>{console.log("upload completed successfully"),n.snapshot.ref.getDownloadURL().then(t=>{r.url=t,this.guardarImagen({nombre:r.nombreArchivo,url:r.url}),r.estaSubiendo=!1})})}}guardarImagen(t){this.af.list("/"+this.CARPETA_IMAGENES).push(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(cf))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),jg=(()=>{class t{constructor(t,e,n){this.afAuth=t,this.router=e,this.ngZone=n,this.afAuth.authState.subscribe(t=>{console.log("user",t),t?(this.userData=t,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user",null),JSON.parse(localStorage.getItem("user")))})}SignIn(t,e){return this.afAuth.signInWithEmailAndPassword(t,e).then(t=>{console.log("set uer"),this.SetUserData(t.user)&&this.ngZone.run(()=>{console.log("navigate"),this.router.navigate(["dashboard"])})}).catch(t=>{window.alert(t.message)})}SignInFileManager(t,e){return this.afAuth.signInWithEmailAndPassword(t,e).then(t=>{this.ngZone.run(()=>{window.location.reload()}),this.SetUserData(t.user)}).catch(t=>{window.alert(t.message)})}SignUp(t,e){return this.afAuth.createUserWithEmailAndPassword(t,e).then(t=>{this.SendVerificationMail(),this.SetUserData(t.user)}).catch(t=>{window.alert(t.message)})}SignUpFileManager(t,e){return this.afAuth.createUserWithEmailAndPassword(t,e).then(t=>{this.SetUserData(t.user),window.location.reload()}).catch(t=>{window.alert(t.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(t=>t.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email"])})}ForgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(t=>{window.alert(t)})}get isLoggedInAndVerified(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return console.log(t),null!==t}GoogleAuth(){this.AuthLogin(new Gp.a.auth.GoogleAuthProvider),this.router.navigate(["dashboard"])}GoogleAuthFileManager(){return this.AuthLoginFileManager(new Gp.a.auth.GoogleAuthProvider)}AuthLogin(t){return console.log("authlogin"),this.afAuth.signInWithPopup(t).then(t=>{this.ngZone.run(()=>{this.router.navigate(["dashboard"]),console.log("navigate dashborad")}),this.SetUserData(t.user),window.location.reload(),console.log("window reload"),this.router.navigate(["dashboard"]),console.log("navigate dashborad")}).catch(t=>{window.alert(t)})}AuthLoginFileManager(t){return this.afAuth.signInWithPopup(t).then(t=>{this.ngZone.run(()=>{window.location.reload()}),this.SetUserData(t.user)}).catch(t=>{window.alert(t)})}SetUserData(t){return console.log("set user"),this.userData=t,localStorage.setItem("user",JSON.stringify(this.userData)),!0}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["sign-in"]),window.location.reload(),console.log("window reload")})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(Hp),r.Sb(Rh),r.Sb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ag=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(){return!0!==this.authService.isLoggedIn&&(console.log("navigate to signin"),this.router.navigate(["sign-in"])),!0}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(jg),r.Sb(Rh))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Pg=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(){return!0===this.authService.isLoggedIn&&(console.log("Navigate to dashboard"),this.router.navigate(["/dashboard"])),!0}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(jg),r.Sb(Rh))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Rg=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-home"]],decls:342,vars:0,consts:[[1,"container","pinkContainer"],[1,"h1container"],[1,"h1cv","mt-3","mb-5"],[1,"personalInfo","row","py-4"],[1,"col-md-4","circularImageDiv"],["src","../../../assets/img/JR-CV.jpg","alt","Foto de Javier R\xf3denas",1,"cvImage"],[1,"col-md-8","personalInfoData"],[1,"wavecomen"],[1,"row","salmonContainer"],[1,"wavecomen2"],["href","https://www.linkedin.com/in/javier-rodenas-perez-28409118b/"],[1,"body"],[1,"waveBody"],[1,"sectionBody","row"],[1,"headerBody"],[1,"waveHeaderSection"],[1,"containerBody","text-start"],[1,"headerContainerBody"],[1,"dateContainer"],[1,"infoContainer"],[1,"headerContainerBody","mbNegative20"],[1,"infoContainer","lh30px"],[1,"fs-1","pr-top5"],[1,"fs-1","pr-top6"],[1,"fs-5","pr-bottom"],[1,"fs-1","pr-top7"],[1,"waveFooter"],[1,"footer","fs-3"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"h1",2),r.pc(3,"Javier R\xf3denas P\xe9rez CV"),r.Nb(),r.Nb(),r.Ob(4,"div",3),r.Ob(5,"div",4),r.Kb(6,"img",5),r.Nb(),r.Ob(7,"div",6),r.Kb(8,"div",7),r.Ob(9,"div",8),r.Ob(10,"b"),r.pc(11,"Calle Sierra Mariola, 10, 03610, Petrer, Alicante, Espa\xf1a"),r.Nb(),r.Ob(12,"b"),r.pc(13,"javirodenas.javirodenas@gmail.com"),r.Nb(),r.Ob(14,"b"),r.pc(15,"608 682 831"),r.Nb(),r.Nb(),r.Kb(16,"div",9),r.Kb(17,"div",7),r.Ob(18,"div",8),r.Ob(19,"b"),r.pc(20,"26/04/1996; Elda, Alicante, Espa\xf1a"),r.Nb(),r.Ob(21,"b"),r.pc(22,"Nacionalidad: Espa\xf1ola"),r.Nb(),r.Ob(23,"b"),r.pc(24,"Sexo: Masculino"),r.Nb(),r.Nb(),r.Kb(25,"div",9),r.Kb(26,"div",7),r.Ob(27,"div",8),r.Ob(28,"b"),r.pc(29,"Permiso de conducci\xf3n: B"),r.Nb(),r.Ob(30,"a",10),r.Ob(31,"b"),r.pc(32,"Linkedin"),r.Nb(),r.Nb(),r.Nb(),r.Kb(33,"div",9),r.Nb(),r.Nb(),r.Ob(34,"div",11),r.Kb(35,"div",12),r.Ob(36,"div",13),r.Ob(37,"div",14),r.Ob(38,"h2"),r.pc(39,"Experiencia laboral"),r.Nb(),r.Nb(),r.Kb(40,"div",15),r.Ob(41,"div",16),r.Ob(42,"p",17),r.Ob(43,"b"),r.pc(44,"Programador web"),r.Nb(),r.pc(45," - Nicripsia Internet SL"),r.Nb(),r.Ob(46,"p",18),r.pc(47,"05/2020 - 09/2020"),r.Nb(),r.Ob(48,"ul",19),r.Ob(49,"li"),r.pc(50,"Desarrollo de m\xf3odulos para PrestaShop mediante PHP, JavaScript, jQuery, MySQL, HTML5."),r.Nb(),r.Ob(51,"li"),r.pc(52,"Maquetaci\xf3n HTML5, Sass, Bootstrap."),r.Nb(),r.Ob(53,"li"),r.pc(54,"Mantenimiento de Bases de Datos (phpMyAdmin)"),r.Nb(),r.Ob(55,"li"),r.pc(56,"Gesti\xf3n de CMS's (WordPress y PrestaShop"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(57,"div",13),r.Ob(58,"div",14),r.Ob(59,"h2"),r.pc(60,"Educaci\xf3n y Formaci\xf3n"),r.Nb(),r.Nb(),r.Kb(61,"div",15),r.Ob(62,"div",16),r.Ob(63,"p",17),r.Ob(64,"b"),r.pc(65,"Educaci\xf3n Secundaria Obligatoria"),r.Nb(),r.pc(66," - IES Poeta Paco Moll\xe1"),r.Nb(),r.Ob(67,"p",18),r.pc(68,"2008 - 2012"),r.Nb(),r.Nb(),r.Ob(69,"div",16),r.Ob(70,"p",17),r.Ob(71,"b"),r.pc(72,"Bachillerato de Ciencias"),r.Nb(),r.pc(73," - IES Poeta Paco Moll\xe1"),r.Nb(),r.Ob(74,"p",18),r.pc(75,"2012 - 2014"),r.Nb(),r.Nb(),r.Ob(76,"div",16),r.Ob(77,"p",17),r.Ob(78,"b"),r.pc(79,"Grado en Ingenier\xeda Multimedia, especializaci\xf3n Gesti\xf3n de Contenidos"),r.Nb(),r.pc(80," - Universidad de Alicante"),r.Nb(),r.Ob(81,"p",18),r.pc(82,"2014 - 2019"),r.Nb(),r.Nb(),r.Nb(),r.Ob(83,"div",13),r.Ob(84,"div",14),r.Ob(85,"h2"),r.pc(86,"Competencias de Idiomas"),r.Nb(),r.Nb(),r.Kb(87,"div",15),r.Ob(88,"div",16),r.Ob(89,"p",17),r.Ob(90,"b"),r.pc(91,"Espa\xf1ol, Valenciano"),r.Nb(),r.pc(92," - Lenguas Maternas"),r.Nb(),r.Nb(),r.Ob(93,"div",16),r.Ob(94,"p",17),r.Ob(95,"b"),r.pc(96,"Ingl\xe9s"),r.Nb(),r.pc(97," - First Certificate of Cambridge Assessment"),r.Nb(),r.Ob(98,"p",18),r.pc(99,"06/2019"),r.Nb(),r.Nb(),r.Nb(),r.Ob(100,"div",13),r.Ob(101,"div",14),r.Ob(102,"h2"),r.pc(103,"Habilidades T\xe9cnicas"),r.Nb(),r.Nb(),r.Kb(104,"div",15),r.Ob(105,"div",16),r.Ob(106,"p",20),r.Ob(107,"b"),r.pc(108,"Web"),r.Nb(),r.Nb(),r.Ob(109,"ul",21),r.Ob(110,"li"),r.pc(111,"PHP "),r.Ob(112,"span",22),r.pc(113,"\u25cf\u25cf\u25cf"),r.Nb(),r.Nb(),r.Ob(114,"li"),r.pc(115,"JavaScript "),r.Ob(116,"span",23),r.pc(117,"\u25cf\u25cf"),r.Nb(),r.Ob(118,"span",24),r.pc(119,"\u25ef"),r.Nb(),r.Nb(),r.Ob(120,"li"),r.pc(121,"TypeScript "),r.Ob(122,"span",25),r.pc(123,"\u25cf"),r.Nb(),r.Ob(124,"span",24),r.pc(125,"\u25ef\u25ef"),r.Nb(),r.Nb(),r.Ob(126,"li"),r.pc(127,"jQuery "),r.Ob(128,"span",25),r.pc(129,"\u25cf"),r.Nb(),r.Ob(130,"span",24),r.pc(131,"\u25ef\u25ef"),r.Nb(),r.Nb(),r.Ob(132,"li"),r.pc(133,"HTML5 "),r.Ob(134,"span",23),r.pc(135,"\u25cf\u25cf\u25cf"),r.Nb(),r.Nb(),r.Ob(136,"li"),r.pc(137,"CSS "),r.Ob(138,"span",23),r.pc(139,"\u25cf\u25cf"),r.Nb(),r.Ob(140,"span",24),r.pc(141,"\u25ef"),r.Nb(),r.Nb(),r.Ob(142,"li"),r.pc(143,"Sass "),r.Ob(144,"span",23),r.pc(145,"\u25cf\u25cf"),r.Nb(),r.Ob(146,"span",24),r.pc(147,"\u25ef"),r.Nb(),r.Nb(),r.Ob(148,"li"),r.pc(149,"Bootstrap "),r.Ob(150,"span",23),r.pc(151,"\u25cf\u25cf"),r.Nb(),r.Ob(152,"span",24),r.pc(153,"\u25ef"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(154,"div",16),r.Ob(155,"p",20),r.Ob(156,"b"),r.pc(157,"Frameworks"),r.Nb(),r.Nb(),r.Ob(158,"ul",21),r.Ob(159,"li"),r.pc(160,"Angular "),r.Ob(161,"span",23),r.pc(162,"\u25cf\u25cf"),r.Nb(),r.Ob(163,"span",24),r.pc(164,"\u25ef"),r.Nb(),r.Nb(),r.Ob(165,"li"),r.pc(166,"Laravel "),r.Ob(167,"span",25),r.pc(168,"\u25cf"),r.Nb(),r.Ob(169,"span",24),r.pc(170,"\u25ef\u25ef"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(171,"div",16),r.Ob(172,"p",20),r.Ob(173,"b"),r.pc(174,"Bases de Datos"),r.Nb(),r.Nb(),r.Ob(175,"ul",21),r.Ob(176,"li"),r.pc(177,"MySql "),r.Ob(178,"span",22),r.pc(179,"\u25cf\u25cf\u25cf"),r.Nb(),r.Nb(),r.Ob(180,"li"),r.pc(181,"MongoDB "),r.Ob(182,"span",23),r.pc(183,"\u25cf\u25cf"),r.Nb(),r.Ob(184,"span",24),r.pc(185,"\u25ef"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(186,"div",16),r.Ob(187,"p",20),r.Ob(188,"b"),r.pc(189,"CMS"),r.Nb(),r.Nb(),r.Ob(190,"ul",21),r.Ob(191,"li"),r.pc(192,"WordPress "),r.Ob(193,"span",23),r.pc(194,"\u25cf\u25cf"),r.Nb(),r.Ob(195,"span",24),r.pc(196,"\u25ef"),r.Nb(),r.Nb(),r.Ob(197,"li"),r.pc(198,"PrestaShop "),r.Ob(199,"span",23),r.pc(200,"\u25cf\u25cf"),r.Nb(),r.Ob(201,"span",24),r.pc(202,"\u25ef"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(203,"div",16),r.Ob(204,"p",20),r.Ob(205,"b"),r.pc(206,"Git"),r.Nb(),r.Nb(),r.Ob(207,"ul",21),r.Ob(208,"li"),r.pc(209,"CMD "),r.Ob(210,"span",25),r.pc(211,"\u25cf"),r.Nb(),r.Ob(212,"span",24),r.pc(213,"\u25ef\u25ef"),r.Nb(),r.Nb(),r.Ob(214,"li"),r.pc(215,"Github "),r.Ob(216,"span",23),r.pc(217,"\u25cf\u25cf"),r.Nb(),r.Ob(218,"span",24),r.pc(219,"\u25ef"),r.Nb(),r.Nb(),r.Ob(220,"li"),r.pc(221,"Gitkraken "),r.Ob(222,"span",23),r.pc(223,"\u25cf\u25cf"),r.Nb(),r.Ob(224,"span",24),r.pc(225,"\u25ef"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(226,"div",16),r.Ob(227,"p",20),r.Ob(228,"b"),r.pc(229,"Metdolog\xedas \xc1giles"),r.Nb(),r.Nb(),r.Ob(230,"ul",21),r.Ob(231,"li"),r.pc(232,"SCRUM, Kanban, XP "),r.Ob(233,"span",23),r.pc(234,"\u25cf\u25cf"),r.Nb(),r.Ob(235,"span",24),r.pc(236,"\u25ef"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(237,"div",16),r.Ob(238,"p",20),r.Ob(239,"b"),r.pc(240,"Otros Lenguajes"),r.Nb(),r.Nb(),r.Ob(241,"ul",21),r.Ob(242,"li"),r.pc(243,"Java "),r.Ob(244,"span",22),r.pc(245,"\u25cf\u25cf\u25cf"),r.Nb(),r.Nb(),r.Ob(246,"li"),r.pc(247,"C++ "),r.Ob(248,"span",22),r.pc(249,"\u25cf\u25cf\u25cf"),r.Nb(),r.Nb(),r.Ob(250,"li"),r.pc(251,"Python "),r.Ob(252,"span",23),r.pc(253,"\u25cf\u25cf"),r.Nb(),r.Ob(254,"span",24),r.pc(255,"\u25ef"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(256,"div",13),r.Ob(257,"div",14),r.Ob(258,"h2"),r.pc(259,"Otros Cursos"),r.Nb(),r.Nb(),r.Kb(260,"div",15),r.Ob(261,"div",16),r.Ob(262,"p",17),r.Ob(263,"b"),r.pc(264,"Introducci\xf3n al Desarrollo Web (primera parte)"),r.Nb(),r.pc(265," - Google Act\xedvate (40H) "),r.Nb(),r.Ob(266,"p",18),r.pc(267,"10/2017"),r.Nb(),r.Nb(),r.Ob(268,"div",16),r.Ob(269,"p",17),r.Ob(270,"b"),r.pc(271,"Introducci\xf3n al Desarrollo Web (segunda parte)"),r.Nb(),r.pc(272," - Google Act\xedvate (40H) "),r.Nb(),r.Ob(273,"p",18),r.pc(274,"10/2017"),r.Nb(),r.Nb(),r.Ob(275,"div",16),r.Ob(276,"p",17),r.Ob(277,"b"),r.pc(278,"Fundamentos del Marketing Digital"),r.Nb(),r.pc(279," - Google Act\xedvate (40H) "),r.Nb(),r.Ob(280,"p",18),r.pc(281,"02/2020"),r.Nb(),r.Nb(),r.Ob(282,"div",16),r.Ob(283,"p",17),r.Ob(284,"b"),r.pc(285,"Desarrollo de M\xf3dulos para PrestaShop"),r.Nb(),r.pc(286," - Udemy (2H) "),r.Nb(),r.Ob(287,"p",18),r.pc(288,"4/2020"),r.Nb(),r.Nb(),r.Ob(289,"div",16),r.Ob(290,"p",17),r.Ob(291,"b"),r.pc(292,"Complete Python Course-Learn From Scratch"),r.Nb(),r.pc(293," - Udemy (3H) "),r.Nb(),r.Ob(294,"p",18),r.pc(295,"4/2020"),r.Nb(),r.Nb(),r.Ob(296,"div",16),r.Ob(297,"p",17),r.Ob(298,"b"),r.pc(299,"Learn PHP - For Beginners"),r.Nb(),r.pc(300," - Udemy (2H) "),r.Nb(),r.Ob(301,"p",18),r.pc(302,"4/2020"),r.Nb(),r.Nb(),r.Ob(303,"div",16),r.Ob(304,"p",17),r.Ob(305,"b"),r.pc(306,"Aprende a dominar Git de cero a expero!"),r.Nb(),r.pc(307," - Udemy (3H) "),r.Nb(),r.Ob(308,"p",18),r.pc(309,"4/2020"),r.Nb(),r.Nb(),r.Ob(310,"div",16),r.Ob(311,"p",17),r.Ob(312,"b"),r.pc(313,"Curso de Coronavirus COVID-19"),r.Nb(),r.pc(314," - IDUE (2H) "),r.Nb(),r.Ob(315,"p",18),r.pc(316,"7/2020"),r.Nb(),r.Nb(),r.Ob(317,"div",16),r.Ob(318,"p",17),r.Ob(319,"b"),r.pc(320,"Aprende Edici\xf3n de Video con Adobe Premiere desde cero"),r.Nb(),r.pc(321," - Udemy (3.5H) "),r.Nb(),r.Ob(322,"p",18),r.pc(323,"9/2020"),r.Nb(),r.Nb(),r.Ob(324,"div",16),r.Ob(325,"p",17),r.Ob(326,"b"),r.pc(327,"Aprende Javascript y crea APIs con NodeJS, Angular y MongoDB - Udemy"),r.Nb(),r.pc(328," - Udemy (30H) "),r.Nb(),r.Ob(329,"p",18),r.pc(330,"12/2020"),r.Nb(),r.Nb(),r.Ob(331,"div",16),r.Ob(332,"p",17),r.Ob(333,"b"),r.pc(334,"Angular: De cero a experto (Legacy) por Fernando Herrera"),r.Nb(),r.pc(335," - Udemy (30H) "),r.Nb(),r.Ob(336,"p",18),r.pc(337,"4/2021"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Kb(338,"div",26),r.Ob(339,"div",27),r.Ob(340,"p"),r.pc(341,"\xa9 2021 Javier R\xf3denas P\xe9rez"),r.Nb(),r.Nb(),r.Nb())},styles:['@font-face{font-family:pacifico;src:local("Pacifico"),url(Pacifico-Regular.93cd59fff879b8bdd57d.ttf) format("truetype")}@font-face{font-family:muli;src:local("Muli"),url(Mulish-VariableFont_wght.894f3c22a68a382bf451.ttf) format("truetype")}.h1cv[_ngcontent-%COMP%]{cursor:pointer;padding:0;border:none;font:normal 75px/1 pacifico,Helvetica,sans-serif;color:#bbded6;text-align:center;text-overflow:clip;text-shadow:2px 2px 0 #1f6bb6,3px 3px 0 #ffb6b9,4px 4px 0 #ffb6b9,5px 5px 0 #ffb6b9,5px 6px 0 #ffb6b9,8px 8px 0 #1f6bb6}.container[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;max-width:100%}.h1container[_ngcontent-%COMP%]{background-color:#61c0bf;padding-top:1.5em;padding-bottom:2em;position:relative}.h1container[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;bottom:0;right:0;background-repeat:repeat;height:20px;background-size:20px 20px;background-image:radial-gradient(circle at 10px -5px,transparent 12px,#fae3d9 13px)}.cvImage[_ngcontent-%COMP%]{width:auto;height:100%;margin-left:-20px}.circularImageDiv[_ngcontent-%COMP%]{display:inline-block;position:relative;width:363px;height:363px;overflow:hidden;border-radius:50%;margin-left:2em;border:6px solid #ffb6b9}.personalInfo[_ngcontent-%COMP%]{font-family:muli}.personalInfo[_ngcontent-%COMP%], .pinkContainer[_ngcontent-%COMP%]{background-color:#fae3d9}.greenContainer[_ngcontent-%COMP%]{background-color:#bbded6}.salmonContainer[_ngcontent-%COMP%]{background-color:#ffb6b9;color:#fff1e4;text-align:center}.wavecomen[_ngcontent-%COMP%]{background-color:#fae3d9;height:20px;position:relative}.wavecomen[_ngcontent-%COMP%]:before{background-size:20px 20px;background-image:radial-gradient(circle at 10px -5px,transparent 12px,#ffb6b9 13px)}.wavecomen[_ngcontent-%COMP%]:after, .wavecomen[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;bottom:0;right:0;background-repeat:repeat;height:15px}.wavecomen[_ngcontent-%COMP%]:after{background-size:30px 10px;background-image:radial-gradient(circle at 10px 15px,#ffb6b9 12px,transparent 13px)}.waveFooter[_ngcontent-%COMP%]{background-color:#bbded6;height:20px;position:relative}.waveFooter[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;bottom:0;right:0;background-repeat:repeat;height:20px;background-size:20px 20px;background-image:radial-gradient(circle at 10px -5px,transparent 12px,#61c0bf 13px)}.wavecomen2[_ngcontent-%COMP%]{background-color:#ffb6b9;height:30px;position:relative;margin-bottom:10px}.wavecomen2[_ngcontent-%COMP%]:after{background-size:20px 20px;background-image:radial-gradient(circle at 10px -5px,transparent 12px,#fae3d9 13px)}.wavecomen2[_ngcontent-%COMP%]:after, .wavecomen2[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;bottom:0;right:0;background-repeat:repeat;height:15px}.wavecomen2[_ngcontent-%COMP%]:before{background-size:30px 10px;background-image:radial-gradient(circle at 10px 15px,#fae3d9 12px,transparent 13px)}.body[_ngcontent-%COMP%]{background-color:#bbded6;padding-bottom:3em}.waveBody[_ngcontent-%COMP%]{background-color:#fae3d9;padding-top:.3em;padding-bottom:2em;position:relative}.waveBody[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;bottom:0;right:0;background-repeat:repeat;height:20px;background-size:20px 20px;background-image:radial-gradient(circle at 10px -5px,transparent 12px,#bbded6 13px)}.sectionBody[_ngcontent-%COMP%]{background-color:#61c0bf;margin:5em;border-radius:8px;border:5px solid #ffb6b9;text-align:center;font-family:muli}.headerBody[_ngcontent-%COMP%]{background-color:#ffb6b9;color:#1f6bb6;font-family:pacifico;font-style:italic;font-weight:700;padding-top:1em;padding-bottom:1em}.waveHeaderSection[_ngcontent-%COMP%]{background-color:#ffb6b9;height:15px;position:relative;z-index:2}.waveHeaderSection[_ngcontent-%COMP%]:before{height:10px;background-size:20px 20px;background-image:radial-gradient(circle at 10px -5px,transparent 12px,#61c0bf 13px)}.waveHeaderSection[_ngcontent-%COMP%]:after, .waveHeaderSection[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;bottom:0;right:0;background-repeat:repeat}.waveHeaderSection[_ngcontent-%COMP%]:after{height:15px;background-size:40px 20px;background-image:radial-gradient(circle at 10px 15px,#61c0bf 12px,transparent 13px)}.containerBody[_ngcontent-%COMP%]{padding-left:1em;border-bottom:#ffb6b9;border-bottom-width:2px;border-bottom-style:solid;padding-bottom:10px}.headerContainerBody[_ngcontent-%COMP%]{font-size:1.4em;margin-top:.8em;text-transform:uppercase}.mbNegative20[_ngcontent-%COMP%]{margin-bottom:-20px}.dateContainer[_ngcontent-%COMP%]{font-weight:100;font-size:1em;text-transform:uppercase;margin-top:-18px;font-style:italic}.containerBody[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:-8px}.pr-top5[_ngcontent-%COMP%]{position:relative;top:5px}.pr-top6[_ngcontent-%COMP%]{position:relative;top:6px}.pr-top7[_ngcontent-%COMP%]{position:relative;top:7px}.pr-bottom[_ngcontent-%COMP%]{position:relative;bottom:0;padding-left:4px}.lh30px[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{max-height:30px}.fs-1[_ngcontent-%COMP%]{font-size:2.5rem!important}.footer[_ngcontent-%COMP%]{text-align:center;background-color:#61c0bf;padding:3em 0 2em}@media (max-width:1210px){.personalInfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.circularImageDiv[_ngcontent-%COMP%]{width:500px;height:500px}.personalInfoData[_ngcontent-%COMP%]{width:90%}}@media (min-width:480px) and (max-width:768px){.circularImageDiv[_ngcontent-%COMP%]{width:400px;height:400px;margin:0}.personalInfoData[_ngcontent-%COMP%]{width:95%}.sectionBody[_ngcontent-%COMP%]{margin:3em 1.5em 1em}}@media (max-width:480px){.circularImageDiv[_ngcontent-%COMP%]{width:330px;height:330px;margin:0}.personalInfoData[_ngcontent-%COMP%]{width:98%}.sectionBody[_ngcontent-%COMP%]{margin:3em 0 1em}}@media (min-width:0px) and (max-width:350px){.circularImageDiv[_ngcontent-%COMP%]{width:240px;height:240px}}']}),t})();function Dg(t,e){if(1&t&&(r.Ob(0,"div",1),r.Ob(1,"h1"),r.pc(2),r.Nb(),r.Ob(3,"h3"),r.pc(4,"Ahora est\xe1s logeado, aunque lamentablemente no hay ninguna funcionalidad extra."),r.Nb(),r.Kb(5,"br"),r.Ob(6,"table",2),r.Ob(7,"thead",3),r.Ob(8,"tr"),r.Kb(9,"th"),r.Ob(10,"th"),r.pc(11,"Tus datos"),r.Nb(),r.Nb(),r.Nb(),r.Ob(12,"tbody"),r.Ob(13,"tr"),r.Ob(14,"td"),r.pc(15,"Nombre: "),r.Nb(),r.Ob(16,"td"),r.pc(17),r.Nb(),r.Nb(),r.Ob(18,"tr"),r.Ob(19,"td"),r.pc(20,"Email: "),r.Nb(),r.Ob(21,"td"),r.pc(22),r.Nb(),r.Nb(),r.Ob(23,"tr"),r.Ob(24,"td"),r.pc(25,"Nick: "),r.Nb(),r.Ob(26,"td"),r.pc(27),r.Nb(),r.Nb(),r.Ob(28,"tr"),r.Ob(29,"td"),r.pc(30,"Imagen de perfil: "),r.Nb(),r.Ob(31,"td"),r.Kb(32,"img",4),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t){const t=e.ngIf;r.zb(2),r.rc("\xa1Hola ",t.given_name,"!"),r.zb(15),r.qc(t.name),r.zb(5),r.qc(t.email),r.zb(5),r.qc(t.nickname),r.zb(5),r.dc("src",t.picture,r.lc)}}let Lg=(()=>{class t{constructor(t){this.auth=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ud))},t.\u0275cmp=r.Db({type:t,selectors:[["app-autenticado"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"table"],[1,"table-dark"],["alt","",3,"src"]],template:function(t,e){1&t&&(r.nc(0,Dg,33,5,"div",0),r.Yb(1,"async")),2&t&&r.dc("ngIf",r.Zb(1,1,null==e.auth?null:e.auth.user$))},directives:[U],pipes:[$],encapsulation:2}),t})(),Mg=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-chat"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Ob(0,"p"),r.pc(1,"chat works!"),r.Nb())},encapsulation:2}),t})(),Fg=(()=>{class t{transform(t,e=0){return t&&t.length>e?t[e].url:"assets/img/noimage.png"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Ib({name:"sinfoto",type:t,pure:!0}),t})(),Ug=(()=>{class t{constructor(t){this.domSanitazer=t}transform(t,e){return this.domSanitazer.bypassSecurityTrustResourceUrl(e+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Et))},t.\u0275pipe=r.Ib({name:"domseguro",type:t,pure:!0}),t})();const Vg=function(t){return{active:t}};function zg(t,e){if(1&t&&(r.Ob(0,"div",13),r.Kb(1,"img",14),r.Yb(2,"sinfoto"),r.Ob(3,"div",15),r.Ob(4,"h2",16),r.pc(5),r.Nb(),r.Kb(6,"iframe",17),r.Yb(7,"domseguro"),r.Nb(),r.Nb()),2&t){const t=e.$implicit;r.dc("ngClass",r.gc(9,Vg,e.first)),r.zb(1),r.dc("src",r.Zb(2,4,t.images),r.lc),r.zb(4),r.qc(t.name),r.zb(1),r.dc("src",r.ac(7,6,t.uri,"https://embed.spotify.com/?uri="),r.kc)}}function qg(t,e){if(1&t&&(r.Ob(0,"div",5),r.Ob(1,"div",6),r.nc(2,zg,8,11,"div",7),r.Nb(),r.Ob(3,"button",8),r.Kb(4,"span",9),r.Ob(5,"span",10),r.pc(6,"Previous"),r.Nb(),r.Nb(),r.Ob(7,"button",11),r.Kb(8,"span",12),r.Ob(9,"span",10),r.pc(10,"Next"),r.Nb(),r.Nb(),r.Nb()),2&t){const t=r.Xb();r.zb(2),r.dc("ngForOf",t._spotifyService.releases)}}function Wg(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",18),r.Ob(2,"h2"),r.pc(3,"CARGANDO DATOS..."),r.Nb(),r.Nb(),r.Nb())}let Hg=(()=>{class t{constructor(t){this._spotifyService=t,this.termino="","undefined"!=typeof Storage?this.getTokenStorageAndReleases():this.getTokenAndReleasesWithoutStorage()}getNewReleases(t){return this._spotifyService.getNewReleasesS(t)}createToken(){return this._spotifyService.createToken()}createTokenStorage(){return this._spotifyService.createToken()}getTokenStorageAndReleases(){this.token=sessionStorage.getItem("tokenSpotify"),console.log(this.token),null==this.token||""==this.token||"null"==this.token?(console.log("ESTAMOS EN NULL"),this.createTokenStorage().subscribe(t=>{this.token=t,console.log(this.token),sessionStorage.setItem("tokenSpotify",this.token),this.getNewReleases(this.token).subscribe(()=>{})})):(console.log("ELSE BLOCK"),console.log(this.token),this.getNewReleases(this.token).subscribe(()=>{}))}getTokenAndReleasesWithoutStorage(){this.createToken().subscribe(()=>this.getNewReleases().subscribe(()=>{}))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(hf))},t.\u0275cmp=r.Db({type:t,selectors:[["app-spoti"]],decls:10,vars:2,consts:[[1,"container","main-container"],[1,"imgContiner"],["src","/assets/img/banner-ico.png",1,"flexibleImg","spotiLogo"],["id","carouselExampleControls","class","carousel slide","data-bs-ride","carousel",4,"ngIf","ngIfElse"],["charginData",""],["id","carouselExampleControls","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],["class","carousel-item",3,"ngClass",4,"ngFor","ngForOf"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleControls","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"carousel-item",3,"ngClass"],["alt","imagen del slide 1",1,"d-block","carousel-img",3,"src"],[1,"carousel-caption","d-md-block"],[1,"carouselName"],["width","300","height","80","frameborder","0",3,"src"],["role","alert",1,"alert","alert-info"]],template:function(t,e){if(1&t&&(r.Ob(0,"div",0),r.Ob(1,"h1"),r.Ob(2,"div",1),r.Kb(3,"img",2),r.pc(4," Api Spotify - "),r.Ob(5,"small"),r.pc(6,"Top Lanzamientos"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.nc(7,qg,11,1,"div",3),r.nc(8,Wg,4,0,"ng-template",null,4,r.oc)),2&t){const t=r.ic(9);r.zb(7),r.dc("ngIf",e._spotifyService.releases.length>17)("ngIfElse",t)}},directives:[U,M,D],pipes:[Fg,Ug],encapsulation:2}),t})(),Bg=(()=>{class t{constructor(t){this.domSanitizer=t}transform(t){return console.log(this.domSanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+t)),this.domSanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Et))},t.\u0275pipe=r.Ib({name:"videoYoutube",type:t,pure:!0}),t})();function Gg(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",8),r.Ob(1,"div",9),r.Kb(2,"img",10),r.Ob(3,"div",11),r.Ob(4,"h5",12),r.pc(5),r.Nb(),r.Ob(6,"button",13),r.Vb("click",(function(){r.jc(t);const n=e.$implicit;return r.Xb(2).verVideo(n)})),r.pc(7,"Ver video"),r.Nb(),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit;r.zb(2),r.dc("src",t.snippet.thumbnails.high.url,r.lc)("alt",t.snippet.title),r.zb(3),r.qc(t.snippet.title)}}function Kg(t,e){if(1&t&&(r.Ob(0,"div",6),r.nc(1,Gg,8,3,"div",7),r.Nb()),2&t){const t=r.Xb();r.zb(1),r.dc("ngForOf",t.videos)}}function $g(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",14),r.Ob(1,"div",15),r.Ob(2,"h5",16),r.pc(3),r.Nb(),r.Nb(),r.Ob(4,"div",17),r.Kb(5,"iframe",18),r.Yb(6,"videoYoutube"),r.Nb(),r.Ob(7,"div",19),r.Ob(8,"button",20),r.Vb("click",(function(){return r.jc(t),r.Xb().cerrarModal()})),r.pc(9,"Cerrar Video"),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=r.Xb();r.zb(3),r.qc(t.videoSel.snippet.title),r.zb(2),r.dc("src",r.Zb(6,2,t.videoSel.id),r.kc)}}let Jg=(()=>{class t{constructor(t){this._yts=t,this.videos=[],this._yts.getVideos().subscribe(t=>{this.videos=t})}verVideo(t){this.videoSel=t}cerrarModal(){this.videoSel=null}cargarMas(){this._yts.getVideos().subscribe(t=>{this.videos.push.apply(this.videos,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(df))},t.\u0275cmp=r.Db({type:t,selectors:[["app-youtube"]],decls:10,vars:2,consts:[[1,"container","main-container"],["class","row row-cols-1 row-cols-md-3 g-4",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","w-100","mt-2","mb-5",3,"click"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade","c-black"],[1,"modal-dialog"],["class","modal-content",4,"ngIf"],[1,"row","row-cols-1","row-cols-md-3","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","text-white","bg-dark"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],["data-bs-toggle","modal","data-bs-target","#exampleModal","type","button",1,"btn","btn-outline-primary","w-100",3,"click"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],["width","100%","height","315","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",3,"src"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"h1"),r.pc(2,"Api YuTube - Tendencias Espa\xf1a"),r.Nb(),r.Kb(3,"hr"),r.nc(4,Kg,2,1,"div",1),r.Ob(5,"button",2),r.Vb("click",(function(){return e.cargarMas()})),r.pc(6,"Cargar m\xe1s"),r.Nb(),r.Nb(),r.Ob(7,"div",3),r.Ob(8,"div",4),r.nc(9,$g,10,4,"div",5),r.Nb(),r.Nb()),2&t&&(r.zb(4),r.dc("ngIf",e.videos.length>0),r.zb(5),r.dc("ngIf",e.videoSel))},directives:[U,M],pipes:[Bg],encapsulation:2}),t})();function Zg(t,e){if(1&t&&(r.Ob(0,"p"),r.pc(1),r.Nb()),2&t){const t=r.Xb().$implicit;r.zb(1),r.qc(t.desc)}}function Yg(t,e){if(1&t){const t=r.Pb();r.Ob(0,"agm-marker",4),r.Vb("markerClick",(function(){r.jc(t);const n=e.$implicit,i=e.index;return r.Xb().clickMarcador(n,i)}))("dragEnd",(function(n){r.jc(t);const i=e.$implicit;return r.Xb().dragEndMarcador(i,n)})),r.Ob(1,"agm-info-window",5),r.Ob(2,"strong"),r.pc(3),r.Nb(),r.nc(4,Zg,2,1,"p",6),r.Ob(5,"p",7),r.Ob(6,"a",8),r.Vb("click",(function(){r.jc(t);const n=e.index,i=r.Xb();return i._ms.borrarMarcador(n),i.marcadorSel=null})),r.pc(7," Borrar marcador "),r.Nb(),r.Nb(),r.Nb(),r.Nb()}if(2&t){const t=e.$implicit;r.dc("latitude",t.lat)("longitude",t.lng)("title",t.titulo)("markerDraggable",t.draggable),r.zb(1),r.dc("disableAutoPan",!0),r.zb(2),r.qc(t.titulo),r.zb(1),r.dc("ngIf",t.desc)}}function Xg(t,e){1&t&&(r.Ob(0,"div",9),r.Ob(1,"div",10),r.pc(2," Haga click en el mapa para crear un marcador o seleccione uno. "),r.Nb(),r.Nb())}function Qg(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",9),r.Ob(1,"h5"),r.pc(2,"Marcador"),r.Nb(),r.Kb(3,"hr"),r.Ob(4,"div",11),r.Ob(5,"label",12),r.pc(6,"Titulo"),r.Nb(),r.Ob(7,"input",13),r.Vb("ngModelChange",(function(e){return r.jc(t),r.Xb().marcadorSel.titulo=e})),r.Nb(),r.Nb(),r.Ob(8,"div",11),r.Ob(9,"label",12),r.pc(10,"Descripci\xf3n"),r.Nb(),r.Ob(11,"textarea",14),r.Vb("ngModelChange",(function(e){return r.jc(t),r.Xb().marcadorSel.desc=e})),r.pc(12,"        "),r.Nb(),r.Nb(),r.Ob(13,"div",11),r.Ob(14,"label",12),r.pc(15,"Draggable"),r.Nb(),r.Ob(16,"select",15),r.Vb("ngModelChange",(function(e){return r.jc(t),r.Xb().draggable=e}))("change",(function(){return r.jc(t),r.Xb().cambiarDraggable()})),r.Ob(17,"option",16),r.pc(18,"True"),r.Nb(),r.Ob(19,"option",17),r.pc(20,"False"),r.Nb(),r.Nb(),r.Nb(),r.Kb(21,"br"),r.Ob(22,"button",18),r.Vb("click",(function(){return r.jc(t),r.Xb()._ms.guardarMarcadores()})),r.pc(23," Guardar "),r.Nb(),r.Nb()}if(2&t){const t=r.Xb();r.zb(7),r.dc("ngModel",t.marcadorSel.titulo),r.zb(4),r.dc("ngModel",t.marcadorSel.desc),r.zb(5),r.dc("ngModel",t.draggable)}}let tb=(()=>{class t{constructor(t){this._ms=t,this.lat=38.48420283763195,this.lng=-.7677831619109627,this.zoom=15,this.marcadorSel=null,this.draggable="1",this._ms.cargarMarcadores()}clickMapa(t){this._ms.insertarMarcador({lat:t.coords.lat,lng:t.coords.lng,titulo:"sin titulo",draggable:!0})}clickMarcador(t,e){this.marcadorSel=t,this.draggable=this.marcadorSel.draggable?"1":"0"}dragEndMarcador(t,e){let n=e.coords.lng;t.lat=e.coords.lat,t.lng=n,this._ms.guardarMarcadores()}cambiarDraggable(){this.marcadorSel.draggable="1"==this.draggable}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(lf))},t.\u0275cmp=r.Db({type:t,selectors:[["app-maps"]],decls:5,vars:6,consts:[[1,""],[3,"latitude","longitude","zoom","mapClick"],[3,"latitude","longitude","title","markerDraggable","markerClick","dragEnd",4,"ngFor","ngForOf"],["class","container mt-2",4,"ngIf"],[3,"latitude","longitude","title","markerDraggable","markerClick","dragEnd"],[3,"disableAutoPan"],[4,"ngIf"],[1,"puntero"],[1,"text-danger",3,"click"],[1,"container","mt-2"],[1,"alert","alert-info"],[1,"form-group"],["for",""],["type","text","name","titulo",1,"form-control",3,"ngModel","ngModelChange"],["rows","5","name","desc",1,"form-control",3,"ngModel","ngModelChange"],["name","draggable",1,"form-control",3,"ngModel","ngModelChange","change"],["value","1"],["value","0"],["type","button",1,"btn","btn-outline-primary","w-100",3,"click"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"agm-map",1),r.Vb("mapClick",(function(t){return e.clickMapa(t)})),r.nc(2,Yg,8,7,"agm-marker",2),r.Nb(),r.Nb(),r.nc(3,Xg,3,0,"div",3),r.nc(4,Qg,24,3,"div",3)),2&t&&(r.zb(1),r.dc("latitude",e.lat)("longitude",e.lng)("zoom",e.zoom),r.zb(1),r.dc("ngForOf",e._ms.marcadores),r.zb(1),r.dc("ngIf",!e.marcadorSel),r.zb(1),r.dc("ngIf",e.marcadorSel))},directives:[_p,M,U,Cp,dp,Wt,$t,Le,ge,be,_e],encapsulation:2}),t})();class eb{constructor(t){this.url="",this.estaSubiendo=!1,this.progreso=0,this.archivo=t,this.nombreArchivo=t.name}}let nb=(()=>{class t{constructor(t){this.elemento=t,this.archivos=[],this.archivoSobre=new r.n}onDragEnter(t){this.archivoSobre.emit(!0)}onDragLeave(t){this.archivoSobre.emit(!1)}onDragOver(t){this._getTransferencia(t).dropEffect="copy",this._prevenirYdetener(t),this.archivoSobre.emit(!0)}onDrop(t){let e=this._getTransferencia(t);e&&(console.log(this.archivos),0!=this.archivos.length&&this.limpiarArchivos(),console.log(this.archivos),this._agregarArchivos(e.files),this.archivoSobre.emit(!1),this._prevenirYdetener(t),console.log(this.archivos))}_getTransferencia(t){return t.dataTransfer?t.dataTransfer:t.originalEvent.dataTransfer}_prevenirYdetener(t){t.preventDefault(),t.stopPropagation()}_archivoPuedeSerCargado(t){return!(this._archivoYaFueDroppeado(t.name)||!this._esImagen(t.type))}_archivoYaFueDroppeado(t){for(let e in this.archivos)if(this.archivos[e].archivo.name===t)return console.log("Archivo ya existe en la lista",t),!0;return!1}_esImagen(t){return""!=t&&null!=t&&t.startsWith("image")}_agregarArchivos(t){for(let e in Object.getOwnPropertyNames(t)){let n=t[e];if(this._archivoPuedeSerCargado(n)){let t=new eb(n);this.archivos.push(t)}}}limpiarArchivos(){for(let e of this.archivos)if(100!=e.progreso)return;let t=this.archivos.length;for(let e=0;e<t;e++)this.archivos.pop()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["","NgDropFiles",""]],hostBindings:function(t,e){1&t&&r.Vb("dragenter",(function(t){return e.onDragEnter(t)}))("dragleave",(function(t){return e.onDragLeave(t)}))("dragover",(function(t){return e.onDragOver(t)}))("drop",(function(t){return e.onDrop(t)}))},inputs:{archivos:"archivos"},outputs:{archivoSobre:"archivoSobre"}}),t})();const rb=function(t){return{"text-green":t}},ib=function(t){return{width:t}};function ob(t,e){if(1&t&&(r.Ob(0,"tr"),r.Ob(1,"td",12),r.Ob(2,"strong"),r.pc(3),r.Nb(),r.Nb(),r.Ob(4,"td"),r.pc(5),r.Yb(6,"number"),r.Nb(),r.Ob(7,"td"),r.Ob(8,"div",13),r.Kb(9,"div",14),r.Nb(),r.Nb(),r.Nb()),2&t){const t=e.$implicit;r.zb(1),r.dc("ngClass",r.gc(7,rb,t.estaSubiendo)),r.zb(2),r.qc(t.nombreArchivo),r.zb(2),r.rc("",r.ac(6,4,t.archivo.size/1024/1024,"0.2"),"MB"),r.zb(4),r.dc("ngStyle",r.gc(9,ib,t.progreso+"%"))}}function sb(t,e){if(1&t&&(r.Ob(0,"table",9),r.Ob(1,"thead",10),r.Ob(2,"tr"),r.Ob(3,"th"),r.pc(4,"Nombre"),r.Nb(),r.Ob(5,"th"),r.pc(6,"Tama\xf1o"),r.Nb(),r.Ob(7,"th"),r.pc(8,"Progreso"),r.Nb(),r.Nb(),r.Nb(),r.Ob(9,"tbody"),r.nc(10,ob,10,11,"tr",11),r.Nb(),r.Nb()),2&t){const t=r.Xb(2);r.zb(10),r.dc("ngForOf",t.archivos)}}const ab=function(t){return{"file-over":t}};function cb(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",3),r.Ob(1,"div",3),r.Ob(2,"h3"),r.pc(3,"Seleccione y arrastre los archivos que desea subir"),r.Nb(),r.Ob(4,"div",4),r.Vb("archivoSobre",(function(e){return r.jc(t),r.Xb().archivoSobreDropZone(e)})),r.Ob(5,"h4"),r.pc(6,"Suelte los archivos aqu\xed"),r.Nb(),r.Kb(7,"img",5),r.Nb(),r.Nb(),r.Ob(8,"div",6),r.Ob(9,"button",7),r.Vb("click",(function(){return r.jc(t),r.Xb().cargarImagenesFirebase()})),r.pc(10," Subir "),r.Nb(),r.nc(11,sb,11,1,"table",8),r.Nb(),r.Nb()}if(2&t){const t=r.Xb();r.zb(4),r.dc("ngClass",r.gc(4,ab,t.estaSobreDropZone))("archivos",t.archivos),r.zb(5),r.dc("disabled",0==t.archivos.length),r.zb(2),r.dc("ngIf",t.archivos.length>0)}}const ub=function(){return["/forgot-password"]};function lb(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",15),r.Ob(1,"h1"),r.pc(2,"You have to be logged in to upload images!"),r.Nb(),r.Nb(),r.Ob(3,"div",16),r.Ob(4,"div",17),r.Ob(5,"button",18),r.Vb("click",(function(){return r.jc(t),r.Xb().authService.GoogleAuthFileManager()})),r.Kb(6,"i",19),r.pc(7," Log in with Google "),r.Nb(),r.Nb(),r.Nb(),r.Kb(8,"br"),r.Ob(9,"div",20),r.Ob(10,"div",17),r.Ob(11,"h2",21),r.pc(12,"Enter into your account"),r.Nb(),r.Ob(13,"div",22),r.Kb(14,"input",23,24),r.Nb(),r.Ob(16,"div",25),r.Kb(17,"input",26,27),r.Ob(19,"a",28),r.pc(20,"Forgot Password?"),r.Nb(),r.Nb(),r.Ob(21,"div",22),r.Ob(22,"button",29),r.Vb("click",(function(){r.jc(t);const e=r.ic(15),n=r.ic(18);return r.Xb().authService.SignInFileManager(e.value,n.value)})),r.pc(23,"Enter"),r.Nb(),r.Nb(),r.Nb(),r.Kb(24,"div",17),r.Nb(),r.Ob(25,"h4",30),r.pc(26,"Or"),r.Nb(),r.Ob(27,"div",31),r.Ob(28,"div",32),r.Ob(29,"h2",21),r.pc(30,"Create a new account"),r.Nb(),r.Ob(31,"div",22),r.Kb(32,"input",33,34),r.Nb(),r.Ob(34,"div",25),r.Kb(35,"input",26,35),r.Nb(),r.Ob(37,"div",22),r.Ob(38,"button",29),r.Vb("click",(function(){r.jc(t);const e=r.ic(33),n=r.ic(36);return r.Xb().authService.SignUpFileManager(e.value,n.value)})),r.pc(39," Create account "),r.Nb(),r.Nb(),r.Nb(),r.Nb()}2&t&&(r.zb(19),r.dc("routerLink",r.fc(1,ub)))}let hb=(()=>{class t{constructor(t,e){this._cargaImagenes=t,this.authService=e,this.estaSobreDropZone=!1,this.archivos=[],this.isLogged=e.isLoggedIn}ngOnInit(){}archivoSobreDropZone(t){this.estaSobreDropZone=t}cargarImagenesFirebase(){this._cargaImagenes.charge_images(this.archivos)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Ng),r.Jb(jg))},t.\u0275cmp=r.Db({type:t,selectors:[["app-gestor-archivos"]],decls:4,vars:2,consts:[[1,"main-container","text-center"],["class","row",4,"ngIf","ngIfElse"],["loggin",""],[1,"row"],["NgDropFiles","",1,"well","drop-zone",3,"ngClass","archivos","archivoSobre"],["src","/assets/img/drop-image.png"],[1,"col-md-12","mt-4","mb-3"],["type","button",1,"btn","btn-success","ms-3",3,"disabled","click"],["class","table table-dark table-striped",4,"ngIf"],[1,"table","table-dark","table-striped"],[1,"table-dark"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"progress"],["role","progressbar",1,"progress-bar",2,"width","25%",3,"ngStyle"],["role","alert",1,"alert","alert-warning","w-75","margin0","mb-3"],[1,"card","text-white","bg-dark","text-center","margin0","mb-3","w40rem"],[1,"card-body"],["type","button",1,"btn","btn-outline-primary","w-100",3,"click"],[1,"fab","fa-google-plus-g"],[1,"card","text-white","bg-dark","text-center","margin0","w40rem","mb-4"],[1,"mb-3"],[1,"formGroup"],["type","text","placeholder","Email Address","required","",1,"formControl","w-75","py-1","mb-1"],["userName",""],[1,"formGroup","mb-2"],["type","password","placeholder","Password","required","",1,"formControl","w-75","py-1","mb-1"],["userPassword",""],[1,"d-block",3,"routerLink"],["type","button",1,"btn","btn-primary","w-75",3,"click"],[1,"mb-4"],[1,"card","text-white","bg-dark","text-center","margin0","w40rem"],[1,"card-body","mb-4"],["type","email","placeholder","Email Address","required","",1,"formControl","w-75","py-1","mb-1"],["userEmail",""],["userPwd",""]],template:function(t,e){if(1&t&&(r.Ob(0,"div",0),r.nc(1,cb,12,6,"div",1),r.nc(2,lb,40,2,"ng-template",null,2,r.oc),r.Nb()),2&t){const t=r.ic(3);r.zb(1),r.dc("ngIf",e.isLogged)("ngIfElse",t)}},directives:[U,nb,D,M,q,Lh],pipes:[J],encapsulation:2}),t})();const db=function(t){return["/spotify/search/",t]};function pb(t,e){if(1&t&&(r.Ob(0,"div",9),r.Kb(1,"img",10),r.Yb(2,"sinfoto"),r.Ob(3,"p"),r.pc(4),r.Nb(),r.Kb(5,"hr"),r.Nb()),2&t){const t=e.$implicit;r.dc("routerLink",r.gc(5,db,t.id)),r.zb(1),r.dc("src",r.Zb(2,3,t.images),r.lc),r.zb(3),r.qc(t.name)}}let fb=(()=>{class t{constructor(t){this._spotifyService=t,this.termino=""}ngOnInit(){}buscarArtista(){this._spotifyService.getArtistas(this.termino).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(hf))},t.\u0275cmp=r.Db({type:t,selectors:[["app-search"]],decls:15,vars:2,consts:[[1,"container","main-container"],[1,"imgContiner"],["src","/assets/img/banner-ico.png",1,"flexibleImg","spotiLogo"],[1,"container","top-30"],[1,"row"],[1,"col-md-3"],["name","termino","type","text","placeholder","Buscar por artista",1,"form-control",3,"ngModel","ngModelChange","keyup"],[1,"col-md-9"],["class","col-md-3 text-center puntero","routerLinkActive","router-link-active",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","router-link-active",1,"col-md-3","text-center","puntero",3,"routerLink"],["alt","",1,"img-fluid","img-thumbnail",3,"src"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"h1"),r.Ob(2,"div",1),r.Kb(3,"img",2),r.pc(4," Api Spotify - "),r.Ob(5,"small"),r.pc(6,"Buscador"),r.Nb(),r.Nb(),r.Nb(),r.Ob(7,"div",3),r.Ob(8,"div",4),r.Ob(9,"div",5),r.Ob(10,"input",6),r.Vb("ngModelChange",(function(t){return e.termino=t}))("keyup",(function(){return e.buscarArtista()})),r.Nb(),r.Kb(11,"hr"),r.Nb(),r.Ob(12,"div",7),r.Ob(13,"div",4),r.nc(14,pb,6,7,"div",8),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.zb(10),r.dc("ngModel",e.termino),r.zb(4),r.dc("ngForOf",e._spotifyService.artistas))},directives:[Wt,$t,Le,M,Fh,Dh],pipes:[Fg],encapsulation:2}),t})();function gb(t,e){if(1&t&&r.Kb(0,"audio",17),2&t){const t=r.Xb().$implicit;r.dc("src",t.preview_url,r.lc)}}function bb(t,e){if(1&t&&(r.Kb(0,"iframe",18),r.Yb(1,"domseguro")),2&t){const t=r.Xb().$implicit;r.dc("src",r.ac(1,1,t.uri,"https://embed.spotify.com/?uri="),r.kc)}}function mb(t,e){if(1&t&&(r.Ob(0,"tr"),r.Ob(1,"td"),r.pc(2),r.Nb(),r.Ob(3,"td"),r.Kb(4,"img",14),r.Yb(5,"sinfoto"),r.Nb(),r.Ob(6,"td"),r.pc(7),r.Nb(),r.Ob(8,"td"),r.pc(9),r.Nb(),r.Ob(10,"td"),r.nc(11,gb,1,1,"audio",15),r.nc(12,bb,2,4,"ng-template",null,16,r.oc),r.Nb(),r.Nb()),2&t){const t=e.$implicit,n=e.index,i=r.ic(13);r.zb(2),r.qc(n+1),r.zb(2),r.dc("src",r.Zb(5,6,null==t.album?null:t.album.images),r.lc),r.zb(3),r.qc(t.name),r.zb(2),r.rc("",t.popularity,"%"),r.zb(2),r.dc("ngIf",t.preview_url)("ngIfElse",i)}}function yb(t,e){if(1&t&&(r.Ob(0,"div",9),r.Ob(1,"h3"),r.pc(2,"Top tracks"),r.Nb(),r.Kb(3,"hr"),r.Ob(4,"div",2),r.Ob(5,"div",10),r.Ob(6,"div",11),r.Ob(7,"table",12),r.Ob(8,"thead"),r.Ob(9,"tr"),r.Ob(10,"th"),r.pc(11,"#"),r.Nb(),r.Ob(12,"th"),r.pc(13,"Foto"),r.Nb(),r.Ob(14,"th"),r.pc(15,"Canci\xf3n"),r.Nb(),r.Ob(16,"th"),r.pc(17,"Popularidad"),r.Nb(),r.Ob(18,"th"),r.pc(19,"Preview"),r.Nb(),r.Nb(),r.Nb(),r.Ob(20,"tbody"),r.nc(21,mb,14,8,"tr",13),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t){const t=r.Xb(2);r.zb(21),r.dc("ngForOf",t.pistas)}}const vb=function(){return["/spotify/search"]};function _b(t,e){if(1&t&&(r.Ob(0,"div",1),r.Ob(1,"div",2),r.Ob(2,"div",3),r.Kb(3,"img",4),r.Yb(4,"sinfoto"),r.Nb(),r.Ob(5,"div",5),r.Ob(6,"h1"),r.pc(7),r.Ob(8,"small"),r.pc(9),r.Nb(),r.Nb(),r.Kb(10,"hr"),r.Ob(11,"a",6),r.pc(12,"Abrir p\xe1gina Spotify"),r.Nb(),r.Ob(13,"a",7),r.pc(14,"Regresar"),r.Nb(),r.Nb(),r.Nb(),r.nc(15,yb,22,1,"div",8),r.Nb()),2&t){const t=r.Xb();r.zb(3),r.dc("src",r.Zb(4,6,t.artista.images),r.lc),r.zb(4),r.rc("",t.artista.name," "),r.zb(2),r.rc("Popularidad ",t.artista.popularity,"%"),r.zb(2),r.dc("href",null==t.artista.external_urls?null:t.artista.external_urls.spotify,r.lc),r.zb(2),r.dc("routerLink",r.fc(8,vb)),r.zb(2),r.dc("ngIf",t.pistas)}}let wb=(()=>{class t{constructor(t,e){this.activatedRoute=t,this._spotifyService=e}ngOnInit(){this.activatedRoute.params.pipe(Object(Rt.a)(t=>t.id)).subscribe(t=>{this._spotifyService.getArtista(t).subscribe(t=>{this.artista=t}),this._spotifyService.getTop(t).subscribe(t=>{this.pistas=t})})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(vl),r.Jb(hf))},t.\u0275cmp=r.Db({type:t,selectors:[["app-artist"]],decls:1,vars:1,consts:[["class","main-container container animated fadeIn fast",4,"ngIf"],[1,"main-container","container","animated","fadeIn","fast"],[1,"row"],[1,"col-md-3","text-center"],["alt","",1,"img-circle","img-thumbnail",3,"src"],[1,"col-md-9"],[1,"btn","btn-outline-success","m-right-10",3,"href"],["routerLinkActive","router-link-active",1,"btn","btn-outline-danger",3,"routerLink"],["class","container  text-center",4,"ngIf"],[1,"container","text-center"],[1,"col-md-12"],[1,"table-responsive"],[1,"table","table-dark","table-hover"],[4,"ngFor","ngForOf"],["alt","",1,"img-fluid","img-50",3,"src"],["controls","",3,"src",4,"ngIf","ngIfElse"],["pistaUri",""],["controls","",3,"src"],["width","300","height","80","frameborder","0",3,"src"]],template:function(t,e){1&t&&r.nc(0,_b,16,9,"div",0),2&t&&r.dc("ngIf",e.artista)},directives:[U,Lh,Fh,M],pipes:[Fg,Ug],encapsulation:2}),t})();function Ob(t,e){1&t&&(r.Ob(0,"div",3),r.Ob(1,"div",4),r.pc(2," No hay im\xe1genes subidas "),r.Nb(),r.Nb())}function Cb(t,e){if(1&t&&(r.Ob(0,"div",7),r.Kb(1,"img",8),r.Ob(2,"div",9),r.Ob(3,"h4",10),r.pc(4),r.Nb(),r.Nb(),r.Nb()),2&t){const t=e.$implicit,n=e.index;r.zb(1),r.dc("src",t[n].url,r.lc),r.zb(3),r.rc(" ",t[n].nombre,"")}}function Sb(t,e){if(1&t&&(r.Ob(0,"div",5),r.nc(1,Cb,5,2,"div",6),r.Nb()),2&t){const t=r.Xb();r.zb(1),r.dc("ngForOf",t.images)}}let kb=(()=>{class t{constructor(t){this._cargaImagenes=t,this.files=[],this.images=[],this.cargadas=0,this.startAt=0,t.getAllImages().then(t=>{this.files=t.val();let e=[];null!=this.files&&(Object.keys(this.files).map((t,n=0)=>{e.push({[n]:this.files[t]}),n++}),this.images=e,this.cargadas+=this.images.length)})}cargarMasImagenes(){this.startAt=this.cargadas,this._cargaImagenes.fromStartToEnd(this.startAt.toString()).then(t=>{this.files=t.val();let e=[];if(null==this.files)return;let n=!0,r=0;Object.keys(this.files).map((t,i=this.startAt)=>{n&&(r=this.startAt,n=!1),e.push({[r]:this.files[t]}),r++}),this.images=this.images.concat(e),this.cargadas+=this.images.length})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Ng))},t.\u0275cmp=r.Db({type:t,selectors:[["app-fotos"]],decls:3,vars:2,consts:[[1,"row"],["class","main-container",4,"ngIf"],["class","card-columns",4,"ngIf"],[1,"main-container"],["role","alert",1,"alert","alert-warning"],[1,"card-columns"],["class","card  text-white bg-dark",4,"ngFor","ngForOf"],[1,"card","text-white","bg-dark"],["alt","",1,"card-img-top","img-fluid",3,"src"],[1,"card-body"],[1,"card-title"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.nc(1,Ob,3,0,"div",1),r.nc(2,Sb,2,1,"div",2),r.Nb()),2&t&&(r.zb(1),r.dc("ngIf",0==e.images.length),r.zb(1),r.dc("ngIf",e.images.length==e.cargadas))},directives:[U,M],encapsulation:2}),t})();const Eb=function(){return["/forgot-password"]};function xb(t,e){1&t&&(r.Ob(0,"li",8),r.Ob(1,"button",11),r.pc(2," Verify Email "),r.Nb(),r.Nb()),2&t&&(r.zb(1),r.dc("routerLink","/verify-email"))}function Tb(t,e){if(1&t&&(r.Ob(0,"ul",7),r.Ob(1,"li",8),r.Ob(2,"h3"),r.Kb(3,"img",9),r.pc(4),r.Nb(),r.Nb(),r.Ob(5,"li",8),r.pc(6,"User ID: "),r.Ob(7,"strong"),r.pc(8),r.Nb(),r.Nb(),r.Ob(9,"li",8),r.pc(10,"Email: "),r.Ob(11,"strong"),r.pc(12),r.Nb(),r.Nb(),r.Ob(13,"li",8),r.pc(14,"Email Verified: "),r.Ob(15,"strong"),r.pc(16),r.Nb(),r.Nb(),r.nc(17,xb,3,1,"li",10),r.Nb()),2&t){const t=e.ngIf;r.zb(3),r.ec("src",t.photoURL?t.photoURL:"/assets/dummy-user.png",r.lc),r.ec("alt",t.displayName),r.zb(1),r.rc(" ",t.displayName?t.displayName:"User"," "),r.zb(4),r.qc(t.uid),r.zb(4),r.qc(t.email),r.zb(4),r.qc(t.emailVerified),r.zb(1),r.dc("ngIf",!t.emailVerified)}}function Ib(t,e){if(1&t&&(r.Ob(0,"div",9),r.Ob(1,"p",10),r.pc(2,"We have sent a confirmation email to "),r.Ob(3,"strong"),r.pc(4),r.Nb(),r.pc(5,"."),r.Nb(),r.Ob(6,"p",10),r.pc(7,"Please check your email and click on the link to verfiy your email address."),r.Nb(),r.Nb()),2&t){const t=e.ngIf;r.zb(4),r.qc(t.email)}}const Nb=[{path:"home",component:Rg},{path:"perfil",component:Lg,canActivate:[ld]},{path:"sign-in",component:(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(jg))},t.\u0275cmp=r.Db({type:t,selectors:[["app-sign-in"]],decls:24,vars:3,consts:[[1,"main-container"],[1,"card","text-white","bg-dark","text-center","centered","w26rem"],[1,"card-body"],["type","button",1,"btn","btn-outline-primary","w-100",3,"click"],[1,"fab","fa-google-plus-g"],[1,"formGroup"],["type","text","placeholder","Email Address","required","",1,"formControl","w-75","py-1","mb-1"],["userName",""],[1,"formGroup","mb-2"],["type","password","placeholder","Password","required","",1,"formControl","w-75","py-1","mb-1"],["userPassword",""],[1,"d-block",3,"routerLink"],["type","button",1,"btn","btn-primary","w-75",3,"click"],[1,"redirectToLogin"],["type","button",1,"btn","btn-outline-info","w-100",3,"routerLink"]],template:function(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Ob(3,"button",3),r.Vb("click",(function(){return e.authService.GoogleAuth()})),r.Kb(4,"i",4),r.pc(5," Log in with Google "),r.Nb(),r.Nb(),r.Nb(),r.Kb(6,"br"),r.Ob(7,"div",1),r.Ob(8,"div",2),r.Ob(9,"div",5),r.Kb(10,"input",6,7),r.Nb(),r.Ob(12,"div",8),r.Kb(13,"input",9,10),r.Ob(15,"a",11),r.pc(16,"Forgot Password?"),r.Nb(),r.Nb(),r.Ob(17,"div",5),r.Ob(18,"button",12),r.Vb("click",(function(){r.jc(t);const n=r.ic(11),i=r.ic(14);return e.authService.SignIn(n.value,i.value)})),r.pc(19,"Enter"),r.Nb(),r.Nb(),r.Nb(),r.Ob(20,"div",2),r.Ob(21,"div",13),r.Ob(22,"button",14),r.pc(23," Don't have an account? Sign Up "),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()}2&t&&(r.zb(15),r.dc("routerLink",r.fc(2,Eb)),r.zb(7),r.dc("routerLink","/register-user"))},directives:[Lh,Dh],encapsulation:2}),t})(),canActivate:[Pg]},{path:"register-user",component:(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(jg))},t.\u0275cmp=r.Db({type:t,selectors:[["app-sign-up"]],decls:24,vars:1,consts:[[1,"main-container"],[1,"card","text-white","bg-dark","text-center","centered","w26rem"],[1,"card-body"],["type","button",1,"btn","btn-outline-primary","w-100",3,"click"],[1,"fab","fa-google-plus-g"],[1,"mb-3"],[1,"formGroup"],["type","email","placeholder","Email Address","required","",1,"formControl","w-75","py-1","mb-1"],["userEmail",""],[1,"formGroup","mb-2"],["type","password","placeholder","Password","required","",1,"formControl","w-75","py-1","mb-1"],["userPwd",""],["type","button",1,"btn","btn-primary","w-75",3,"click"],[1,"redirectToLogin"],["type","button",1,"btn","btn-outline-success","w-100",3,"routerLink"]],template:function(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Ob(3,"button",3),r.Vb("click",(function(){return e.authService.GoogleAuth()})),r.Kb(4,"i",4),r.pc(5," Continue with Google "),r.Nb(),r.Nb(),r.Nb(),r.Kb(6,"br"),r.Ob(7,"div",1),r.Ob(8,"div",2),r.Ob(9,"h2",5),r.pc(10,"Create a new account"),r.Nb(),r.Ob(11,"div",6),r.Kb(12,"input",7,8),r.Nb(),r.Ob(14,"div",9),r.Kb(15,"input",10,11),r.Nb(),r.Ob(17,"div",6),r.Ob(18,"button",12),r.Vb("click",(function(){r.jc(t);const n=r.ic(13),i=r.ic(16);return e.authService.SignUp(n.value,i.value)})),r.pc(19," Create account "),r.Nb(),r.Nb(),r.Nb(),r.Ob(20,"div",2),r.Ob(21,"div",13),r.Ob(22,"button",14),r.pc(23," Already have an account? Sign In "),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()}2&t&&(r.zb(22),r.dc("routerLink","/sign-in"))},directives:[Dh],encapsulation:2}),t})()},{path:"dashboard",component:(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(jg))},t.\u0275cmp=r.Db({type:t,selectors:[["app-dashboard"]],decls:10,vars:1,consts:[[1,"main-container"],[1,"card","text-white","bg-dark","text-center","centered","w40rem"],[1,"card-body"],[1,"h2"],["class","list-group list-group-flush",4,"ngIf"],[1,"redirectToLogin"],["type","button",1,"btn","btn-danger","w-100",3,"click"],[1,"list-group","list-group-flush"],[1,"list-group-item","bg-dark","text-white","border-light"],[1,"align-self-start","mr-5","img-thumbnail","rounded-circle",3,"src","alt"],["class","list-group-item  bg-dark text-white border-light",4,"ngIf"],[1,"btn","btn-outline-primary","w-50","mb-1","mt-1",3,"routerLink"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Ob(3,"h1",3),r.pc(4,"User Profile"),r.Nb(),r.nc(5,Tb,18,7,"ul",4),r.Nb(),r.Ob(6,"div",2),r.Ob(7,"div",5),r.Ob(8,"button",6),r.Vb("click",(function(){return e.authService.SignOut()})),r.pc(9," Log Out "),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.zb(5),r.dc("ngIf",e.authService.userData))},directives:[U,Dh],encapsulation:2}),t})(),canActivate:[Ag]},{path:"forgot-password",component:(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(jg))},t.\u0275cmp=r.Db({type:t,selectors:[["app-forgot-password"]],decls:17,vars:1,consts:[[1,"main-container"],[1,"card","text-white","bg-dark","text-center","centered","w26rem"],[1,"card-body"],[1,"text-center"],[1,"formGroup"],["type","email","placeholder","Email Address","required","",1,"formControl","w-75","py-1","mb-1"],["passwordResetEmail",""],["type","button",1,"btn","btn-primary","w-75",3,"click"],[1,"redirectToLogin"],["type","button",1,"btn","btn-outline-info","w-100",3,"routerLink"]],template:function(t,e){if(1&t){const t=r.Pb();r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Ob(3,"h3"),r.pc(4,"Reset Password"),r.Nb(),r.Ob(5,"p",3),r.pc(6,"Please enter your email address to request a password reset."),r.Nb(),r.Ob(7,"div",4),r.Kb(8,"input",5,6),r.Nb(),r.Ob(10,"div",4),r.Ob(11,"button",7),r.Vb("click",(function(){r.jc(t);const n=r.ic(9);return e.authService.ForgotPassword(n.value)})),r.pc(12,"Reset Password"),r.Nb(),r.Nb(),r.Nb(),r.Ob(13,"div",2),r.Ob(14,"div",8),r.Ob(15,"button",9),r.pc(16," Go back? Log In "),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()}2&t&&(r.zb(15),r.dc("routerLink","/sign-in"))},directives:[Dh],encapsulation:2}),t})()},{path:"verify-email",component:(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(jg))},t.\u0275cmp=r.Db({type:t,selectors:[["app-verify-email"]],decls:13,vars:2,consts:[[1,"main-container"],[1,"card","text-white","bg-dark","text-center","centered","w40rem"],[1,"card-body"],["class","formGroup",4,"ngIf"],[1,"formGroup","mb-5"],["type","button",1,"btn","btn-primary","w-75",3,"click"],[1,"fas","fa-redo-alt"],[1,"redirectToLogin"],["type","button",1,"btn","btn-outline-success","w-100",3,"routerLink"],[1,"formGroup"],[1,"text-center"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Ob(1,"div",1),r.Ob(2,"div",2),r.Ob(3,"h3"),r.pc(4,"Thank You for Registering"),r.Nb(),r.nc(5,Ib,8,1,"div",3),r.Ob(6,"div",4),r.Ob(7,"button",5),r.Vb("click",(function(){return e.authService.SendVerificationMail()})),r.Kb(8,"i",6),r.pc(9," Resend Verification Email "),r.Nb(),r.Nb(),r.Ob(10,"div",7),r.Ob(11,"button",8),r.pc(12," Dashboard "),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.zb(5),r.dc("ngIf",e.authService.userData),r.zb(6),r.dc("routerLink","/dashboard"))},directives:[U,Dh],encapsulation:2}),t})()},{path:"chat",component:Mg},{path:"spotify",component:Hg},{path:"spotify/search",component:fb},{path:"spotify/search/:id",component:wb},{path:"youtube",component:Jg},{path:"maps",component:tb},{path:"fotos/subir-imagen",component:hb},{path:"fotos",component:kb},{path:"**",pathMatch:"full",redirectTo:"home"}];let jb=(()=>{class t{constructor(){}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[Jh.forRoot(Nb)],Jh]}),t})();function Ab(t,e){if(1&t){const t=r.Pb();r.Mb(0),r.Ob(1,"button",2),r.Vb("click",(function(){r.jc(t);const e=r.Xb();return e.auth.logout({returnTo:e.document.location.origin})})),r.pc(2," Log out "),r.Nb(),r.Lb()}}function Pb(t,e){if(1&t){const t=r.Pb();r.Ob(0,"button",3),r.Vb("click",(function(){return r.jc(t),r.Xb().loginWithRedirect()})),r.pc(1,"Login con Auth0"),r.Nb()}}let Rb=(()=>{class t{constructor(t,e){this.document=t,this.auth=e}loginWithRedirect(){this.auth.loginWithRedirect({redirect_uri:"http://localhost:4200/perfil/",appState:{target:"/perfil"}})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(a),r.Jb(ud))},t.\u0275cmp=r.Db({type:t,selectors:[["app-auth-button"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["loggedOut",""],[1,"btn","btn-outline-danger","w-100",3,"click"],[1,"btn","btn-outline-primary","w-100",3,"click"]],template:function(t,e){if(1&t&&(r.nc(0,Ab,3,0,"ng-container",0),r.Yb(1,"async"),r.nc(2,Pb,2,0,"ng-template",null,1,r.oc)),2&t){const t=r.ic(3);r.dc("ngIf",r.Zb(1,2,e.auth.isAuthenticated$))("ngIfElse",t)}},directives:[U],pipes:[$],encapsulation:2}),t})();const Db=function(){return["perfil"]};function Lb(t,e){1&t&&(r.Ob(0,"li",7),r.Ob(1,"a",8),r.pc(2,"Mi perfil"),r.Nb(),r.Nb()),2&t&&(r.zb(1),r.dc("routerLink",r.fc(1,Db)))}function Mb(t,e){1&t&&(r.Ob(0,"div"),r.Ob(1,"button",20),r.pc(2," Dashboard "),r.Nb(),r.Nb()),2&t&&(r.zb(1),r.dc("routerLink","/dashboard"))}function Fb(t,e){1&t&&(r.Ob(0,"button",21),r.Kb(1,"i",22),r.pc(2," Login with Firebase Auth "),r.Nb()),2&t&&r.dc("routerLink","/sign-in")}const Ub=function(){return["home"]},Vb=function(){return["chat"]},zb=function(){return["spotify"]},qb=function(){return["spotify/search"]},Wb=function(){return["youtube"]},Hb=function(){return["maps"]},Bb=function(){return["fotos"]},Gb=function(){return["fotos/subir-imagen"]};let Kb=(()=>{class t{constructor(t,e){this.auth=t,this.afAuth=e,this.afAuth.authState.subscribe(t=>{this.isLogged=!!t})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(ud),r.Jb(Hp))},t.\u0275cmp=r.Db({type:t,selectors:[["app-navbar"]],decls:47,vars:23,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["routerLinkActive","router-link-active",1,"navbar-brand",3,"routerLink"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-link"],["routerLinkActive","router-link-active",1,"nav-link",3,"routerLink"],[1,"nav-link","dropdown"],["routerLinkActive","router-link-active","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle",3,"routerLink"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["routerLinkActive","router-link-active",1,"dropdown-item",3,"routerLink"],["class","nav-link",4,"ngIf"],[1,"justify-content-end","col-md-2"],[1,"nav","justify-content-end","w-100"],[1,"nav-item","w-100"],[1,"navbar-text"],[4,"ngIf","ngIfElse"],["loggin",""],["type","button",1,"btn","btn-outline-success","w-100","mb-1",3,"routerLink"],["type","button",1,"btn","btn-outline-primary","w-100","mb-1",3,"routerLink"],[1,"fa","fa-plus"]],template:function(t,e){if(1&t&&(r.Ob(0,"nav",0),r.Ob(1,"div",1),r.Ob(2,"a",2),r.pc(3,"Qui\xe9n soy"),r.Nb(),r.Ob(4,"button",3),r.Kb(5,"span",4),r.Nb(),r.Ob(6,"div",5),r.Ob(7,"ul",6),r.Ob(8,"li",7),r.Ob(9,"a",8),r.pc(10,"Chat"),r.Nb(),r.Nb(),r.Ob(11,"li",9),r.Ob(12,"a",10),r.pc(13," Api Spotify "),r.Nb(),r.Ob(14,"ul",11),r.Ob(15,"li"),r.Ob(16,"a",12),r.pc(17,"Home"),r.Nb(),r.Nb(),r.Ob(18,"li"),r.Ob(19,"a",12),r.pc(20,"Search"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Ob(21,"li",7),r.Ob(22,"a",8),r.pc(23,"Api YouTube"),r.Nb(),r.Nb(),r.Ob(24,"li",7),r.Ob(25,"a",8),r.pc(26,"Api Maps"),r.Nb(),r.Nb(),r.Ob(27,"li",9),r.Ob(28,"a",10),r.pc(29," Gestor im\xe1genes "),r.Nb(),r.Ob(30,"ul",11),r.Ob(31,"li"),r.Ob(32,"a",12),r.pc(33,"Subir im\xe1gen"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.nc(34,Lb,3,2,"li",13),r.Yb(35,"async"),r.Nb(),r.Nb(),r.Ob(36,"div",14),r.Ob(37,"ul",15),r.Ob(38,"li",16),r.Ob(39,"span",17),r.nc(40,Mb,3,1,"div",18),r.nc(41,Fb,3,1,"ng-template",null,19,r.oc),r.Nb(),r.Nb(),r.Nb(),r.Ob(43,"ul",15),r.Ob(44,"li",16),r.Ob(45,"span",17),r.Kb(46,"app-auth-button"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t){const t=r.ic(42);r.zb(2),r.dc("routerLink",r.fc(14,Ub)),r.zb(7),r.dc("routerLink",r.fc(15,Vb)),r.zb(3),r.dc("routerLink",r.fc(16,zb)),r.zb(4),r.dc("routerLink",r.fc(17,zb)),r.zb(3),r.dc("routerLink",r.fc(18,qb)),r.zb(3),r.dc("routerLink",r.fc(19,Wb)),r.zb(3),r.dc("routerLink",r.fc(20,Hb)),r.zb(3),r.dc("routerLink",r.fc(21,Bb)),r.zb(4),r.dc("routerLink",r.fc(22,Gb)),r.zb(2),r.dc("ngIf",r.Zb(35,12,e.auth.isAuthenticated$)),r.zb(6),r.dc("ngIf",e.isLogged)("ngIfElse",t)}},directives:[Lh,Fh,U,Rb,Dh],pipes:[$],encapsulation:2}),t})(),$b=(()=>{class t{constructor(){this.title="personalApp"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,""]],template:function(t,e){1&t&&(r.Kb(0,"app-navbar"),r.Ob(1,"div",0),r.Kb(2,"router-outlet"),r.Nb())},directives:[Kb,Uh],styles:[""]}),t})(),Jb=(()=>{class t{}return t.\u0275mod=r.Hb({type:t,bootstrap:[$b]}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[lf,hf,df,Ng,jg],imports:[[jt,jb,hd.forRoot({domain:"dev-e6zo41pu.eu.auth0.com",clientId:"8j2enBqcYFwrHRZpx67vmTneFr4M7PRk"}),Wd,Ve,jp.forRoot({apiKey:"AIzaSyDThwGxJqFsSN-etU1MGnLsXBc66dIRYsU"}),Ap.a.initializeApp(i),uf,Z,Bp,ze]]}),t})();Object(r.T)(),It().bootstrapModule(Jb).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return c}));var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);